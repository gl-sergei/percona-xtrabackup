######################################################################################################
# BUG#18900932 : ERROR MESSAGE ISN'T SENT TO CLIENT WHEN SERVER REPORTS ONE
######################################################################################################
SELECT ST_AREA(ST_GEOMFROMTEXT('POLYGON((0 0,5 5))'));
ERROR 22023: Invalid GIS data provided to function st_area.
SELECT ST_AREA(ST_GEOMFROMTEXT('POLYGON((4 4,6 4,8 4,4 4))'));
ERROR 22023: Invalid GIS data provided to function st_area.
######################################################################################################
# BUG#18911154 : CENTROID() RETURNING ERROR MESSAGE FOR VALID GEOMETRY-COLLECTION GEOMETRY
######################################################################################################
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('MULTIPOINT(0 0,10 10)')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('MULTIPOINT(0 0,10 10)')))
POINT(5 5)
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))')))
POINT(5 5)
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOINT(0 0,10 10))')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOINT(0 0,10 10))')))
POINT(5 5)
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))')))
POINT(5 5)
######################################################################################################
# BUG#18919820 : CONVEXHULL() FUNCTION PRODUCES INVALID POLYGON AS THE RESULT
######################################################################################################
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOINT(5 0,25 0,15 10,15 25)')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOINT(5 0,25 0,15 10,15 25)')))
POLYGON((5 0,25 0,15 25,5 0))
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('POLYGON((5 0,15 25,25 0,15 5,5 0))')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('POLYGON((5 0,15 25,25 0,15 5,5 0))')))
POLYGON((5 0,25 0,15 25,5 0))
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((4 4,4 6,6 6,6 4,4 4)))')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((4 4,4 6,6 6,6 4,4 4)))')))
POLYGON((0 0,10 0,10 10,0 10,0 0))
######################################################################################################
# BUG#18935403 : SPATIAL ANALYSIS FUNCTIONS NOT RETURNING CONSISTENT RESULTS
######################################################################################################
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()')))
NULL
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()')));
ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()')))
NULL
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()')))
NULL
SELECT ST_DISTANCE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'),ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'));
ST_DISTANCE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'),ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'))
NULL
SELECT ST_DISTANCE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'),ST_GEOMFROMTEXT('POINT(10 10)'));
ST_DISTANCE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'),ST_GEOMFROMTEXT('POINT(10 10)'))
NULL
SELECT ST_DISTANCE(ST_GEOMFROMTEXT('POINT(10 10)'),ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'));
ST_DISTANCE(ST_GEOMFROMTEXT('POINT(10 10)'),ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'))
NULL
######################################################################################################
# BUG#18957010 : CONVEXHULL() FUNCTION RETURNS WRONG RESULT
######################################################################################################
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOINT(5 -3,0 2,5 7,10 2,10 0,10 -2)')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOINT(5 -3,0 2,5 7,10 2,10 0,10 -2)')))
POLYGON((0 2,5 -3,10 -2,10 2,5 7,0 2))
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOINT(5 0,0 5,5 10,10 5,10 -5)')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOINT(5 0,0 5,5 10,10 5,10 -5)')))
POLYGON((0 5,10 -5,10 5,5 10,0 5))
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOINT(2 -5,2 5,8 5,8 2,8 0)')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('MULTIPOINT(2 -5,2 5,8 5,8 2,8 0)')))
POLYGON((2 -5,8 0,8 5,2 5,2 -5))
######################################################################################################
# BUG#18972363 : CENTROID() FUNCTION RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10,10 10,10 0),LINESTRING(0 0,10 0,10 -10,0 -10))')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10,10 10,10 0),LINESTRING(0 0,10 0,10 -10,0 -10))')))
POINT(5.833333333333333 0.8333333333333334)
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,10 0,10 10,0 10),LINESTRING(0 0,10 0,10 -10,0 -10))')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,10 0,10 10,0 10),LINESTRING(0 0,10 0,10 -10,0 -10))')))
POINT(6.666666666666667 0)
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)),POLYGON((0 0,10 0,10 -10,0 -10,0 0)))')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)),POLYGON((0 0,10 0,10 -10,0 -10,0 0)))')))
POINT(5 0)
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10,10 10,10 0,0 0),LINESTRING(0 0,10 0,10 -10,0 -10,0 0))')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10,10 10,10 0,0 0),LINESTRING(0 0,10 0,10 -10,0 -10,0 0))')))
POINT(5 0)
######################################################################################################
# BUG#18991528 : LONGFROMGEOHASH() DECODING FUNCTION ACCEPTS NON-STRING VALUE AS THE ARGUMENT
######################################################################################################
SELECT ST_LONGFROMGEOHASH(0123456789);
ERROR HY000: Incorrect type for argument geohash in function ST_LONGFROMGEOHASH.
SELECT ST_LONGFROMGEOHASH(9876543210);
ERROR HY000: Incorrect type for argument geohash in function ST_LONGFROMGEOHASH.
SELECT ST_LONGFROMGEOHASH(1);
ERROR HY000: Incorrect type for argument geohash in function ST_LONGFROMGEOHASH.
######################################################################################################
# BUG#19019796 : LONGFROMGEOHASH() AND LATFROMGEOHASH() FUNCTIONS RETURN -0 AS THE RESULT
######################################################################################################
SELECT ST_LONGFROMGEOHASH("GZZZZZZZZZZZZZZZZZZZ");
ST_LONGFROMGEOHASH("GZZZZZZZZZZZZZZZZZZZ")
0
SELECT ST_LONGFROMGEOHASH("7ZZZZZZZZZZZZZZZZZZZ");
ST_LONGFROMGEOHASH("7ZZZZZZZZZZZZZZZZZZZ")
0
SELECT ST_LATFROMGEOHASH("7ZZZZZZZZZZZZZZZZZZZ");
ST_LATFROMGEOHASH("7ZZZZZZZZZZZZZZZZZZZ")
0
SELECT ST_LATFROMGEOHASH("RZZZZZZZZZZZZZZZZZZZ");
ST_LATFROMGEOHASH("RZZZZZZZZZZZZZZZZZZZ")
0
######################################################################################################
# BUG#19076184 : ST_GEOHASH() FUNCTION ACCEPTS NON-INTEGER VALUES FOR MAXLENGTH PARAMETER
######################################################################################################
SELECT ST_GEOHASH(180,90,10.1);
ERROR HY000: Incorrect type for argument geohash max length in function st_geohash.
SELECT ST_GEOHASH(ST_GEOMFROMTEXT('POINT(180 90)'),20.0001);
ERROR HY000: Incorrect type for argument geohash max length in function st_geohash.
SELECT ST_GEOHASH(ST_GEOMFROMTEXT('POINT(180 90)'),(CAST(10 AS BINARY)));
ERROR HY000: Incorrect type for argument geohash max length in function st_geohash.
######################################################################################################
# BUG#19133043 : REPRESENTATION OF THE SAME POINT GEOMETRY ISSUE WITH SPATIAL ANALYSIS FUNCTIONS
######################################################################################################
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('POINT(-0 0)')));
ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('POINT(-0 0)')))
POLYGON((0 0,0 0,0 0,0 0,0 0))
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('POINT(0 -0)')));
ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('POINT(0 -0)')))
POLYGON((0 0,0 0,0 0,0 0,0 0))
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('POINT(0 -0)')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('POINT(0 -0)')))
POINT(0 0)
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('POINT(-0 0)')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('POINT(-0 0)')))
POINT(0 0)
######################################################################################################
# BUG#19142227 : ENVELOPE() SPATIAL ANALYSIS FUNCTION ACCEPTS INVALID POLYGONS AS THE ARGUMENT
######################################################################################################
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('POLYGON((0 0))')));
ERROR 22023: Invalid GIS data provided to function st_envelope.
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('POLYGON((0 0,5 5))')));
ERROR 22023: Invalid GIS data provided to function st_envelope.
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('POLYGON((0 0,5 5,10 10))')));
ERROR 22023: Invalid GIS data provided to function st_envelope.
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,5 5)),((1 1,1 1,1 1,1 1)))')));
ERROR 22023: Invalid GIS data provided to function st_envelope.
######################################################################################################
# BUG#19154955 : ST_GEOHASH() FUNCTION RETURNS BINARY DATA INSTEAD OF TEXT WITH A CHARSET
######################################################################################################
SELECT ST_LONGFROMGEOHASH(ST_GEOHASH(ST_GEOMFROMTEXT('POINT(10 10)'),10));
ST_LONGFROMGEOHASH(ST_GEOHASH(ST_GEOMFROMTEXT('POINT(10 10)'),10))
10
SELECT ST_LATFROMGEOHASH(ST_GEOHASH(ST_GEOMFROMTEXT('POINT(10 10)'),10));
ST_LATFROMGEOHASH(ST_GEOHASH(ST_GEOMFROMTEXT('POINT(10 10)'),10))
10
SELECT ST_ASTEXT(ST_POINTFROMGEOHASH(ST_GEOHASH(ST_GEOMFROMTEXT('POINT(10 10)'),10),10));
ST_ASTEXT(ST_POINTFROMGEOHASH(ST_GEOHASH(ST_GEOMFROMTEXT('POINT(10 10)'),10),10))
POINT(10 10)
######################################################################################################
# BUG#19204199 : DISTANCE() AND ENVELOPE() FUNCTIONS RETURN WRONG RESULT
######################################################################################################
SELECT ST_DISTANCE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,10 10,20 20))'),ST_GEOMFROMTEXT('LINESTRING(5 0,10 0)'));
ST_DISTANCE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,10 10,20 20))'),ST_GEOMFROMTEXT('LINESTRING(5 0,10 0)'))
3.5355339059327378
SELECT ST_DISTANCE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,10 10,20 20),GEOMETRYCOLLECTION())'),ST_GEOMFROMTEXT('LINESTRING(5 0,10 0)'));
ST_DISTANCE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,10 10,20 20),GEOMETRYCOLLECTION())'),ST_GEOMFROMTEXT('LINESTRING(5 0,10 0)'))
3.5355339059327378
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10,10 10))')));
ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10,10 10))')))
POLYGON((0 0,10 0,10 10,0 10,0 0))
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10,10 10),GEOMETRYCOLLECTION())')));
ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10,10 10),GEOMETRYCOLLECTION())')))
POLYGON((0 0,10 0,10 10,0 10,0 0))
######################################################################################################
# BUG#19223763 : ST_ASGEOJSON() GIVES SAME MAX DECIMAL DIGIT VALUE IN THE ERROR MESSAGE
######################################################################################################
SELECT ST_ASGEOJSON(ST_GEOMFROMTEXT('POINT(10.12345678901234567890 10)'),-1);
ERROR HY000: Incorrect max decimal digits value: '-1' for function st_asgeojson
SELECT ST_ASGEOJSON(ST_GEOMFROMTEXT('POINT(10.12345678901234567890 10)'),-1000);
ERROR HY000: Incorrect max decimal digits value: '-1000' for function st_asgeojson
SELECT ST_ASGEOJSON(ST_GEOMFROMTEXT('POINT(10.12345678901234567890 10)'),2147483648);
ERROR HY000: Incorrect max decimal digits value: '2147483648' for function st_asgeojson
SELECT ST_ASGEOJSON(ST_GEOMFROMTEXT('POINT(10.12345678901234567890 10)'),1000000000000000000000000);
ERROR HY000: Incorrect type for argument max decimal digits in function st_asgeojson.
######################################################################################################
# BUG#19304320 : CENTROID() AND CONVEXHULL() FUNCTIONS RETURN NULL WITH VALID GEOMETRY INPUT
######################################################################################################
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))')))
POINT(5 5)
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(),POLYGON((0 0,0 10,10 10,10 0,0 0)))')));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(),POLYGON((0 0,0 10,10 10,10 0,0 0)))')))
POINT(5 5)
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))')))
POLYGON((0 0,10 0,10 10,0 10,0 0))
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(),POLYGON((0 0,0 10,10 10,10 0,0 0)))')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(),POLYGON((0 0,0 10,10 10,10 0,0 0)))')))
POLYGON((0 0,10 0,10 10,0 10,0 0))
######################################################################################################
# BUG#19331370 : ST_GEOMFROMGEOJSON() FUNCTION RETURNS BINARY DATA INSTEAD GEOMETRY DATA
######################################################################################################
SELECT ST_ASGEOJSON(ST_GEOMFROMGEOJSON(
"{ \"type\": \"Point\", \"coordinates\": [10, 15] }"));
ST_ASGEOJSON(ST_GEOMFROMGEOJSON(
"{ \"type\": \"Point\", \"coordinates\": [10, 15] }"))
{"type":"Point","coordinates":[10,15]}
SELECT ST_ASGEOJSON(ST_GEOMFROMGEOJSON(
"{ \"type\": \"LineString\", \"coordinates\": [ [102.0, 0.0], [103.0, 1.0], [104.0, 0.0], [105.0, 1.0] ]}"));
ST_ASGEOJSON(ST_GEOMFROMGEOJSON(
"{ \"type\": \"LineString\", \"coordinates\": [ [102.0, 0.0], [103.0, 1.0], [104.0, 0.0], [105.0, 1.0] ]}"))
{"type":"LineString","coordinates":[[102,0],[103,1],[104,0],[105,1]]}
SELECT ST_ASGEOJSON(ST_GEOMFROMGEOJSON(
"{ \"type\": \"MultiPoint\", \"coordinates\": [ [-105.01, 39.57],[-80.66, 35.0] ] }"));
ST_ASGEOJSON(ST_GEOMFROMGEOJSON(
"{ \"type\": \"MultiPoint\", \"coordinates\": [ [-105.01, 39.57],[-80.66, 35.0] ] }"))
{"type":"MultiPoint","coordinates":[[-105.01,39.57],[-80.66,35]]}
SELECT CHARSET(ST_GEOMFROMGEOJSON(
"{ \"type\": \"MultiPoint\", \"coordinates\": [ [-105.01, 39.57],[-80.66, 35.0] ] }"));
CHARSET(ST_GEOMFROMGEOJSON(
"{ \"type\": \"MultiPoint\", \"coordinates\": [ [-105.01, 39.57],[-80.66, 35.0] ] }"))
binary
SELECT CHARSET(ST_GEOMFROMGEOJSON(
"{ \"type\": \"LineString\", \"coordinates\": [ [102.0, 0.0], [103.0, 1.0], [104.0, 0.0], [105.0, 1.0] ]}"));
CHARSET(ST_GEOMFROMGEOJSON(
"{ \"type\": \"LineString\", \"coordinates\": [ [102.0, 0.0], [103.0, 1.0], [104.0, 0.0], [105.0, 1.0] ]}"))
binary
######################################################################################################
# BUG#19341961 : ASSERTION `COORDINATES->ISARRAY()' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"type\": \"Polygon\", \"coordinates\": [[1, 1], [1, 10], [10, 10], [1, 1]] }"));
ERROR HY000: Invalid GeoJSON data provided to function st_geomfromgeojson
######################################################################################################
# BUG#19342661 : ASSERTION `OBJECT->ISOBJECT()' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"type\": \"GeometryCollection\", \"geometries\": [[]] }"));
ERROR HY000: Invalid GeoJSON data provided to function st_geomfromgeojson: Member 'geometries' must be of type 'object array'
######################################################################################################
# BUG#19351967 : CENTROID() AND COVEXHULL() ACCEPTS GEOMETRYCOLLECTION CONTAINING INVALID POLYGON
######################################################################################################
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0)))')));
ERROR 22023: Invalid GIS data provided to function st_centroid.
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,5 5,10 10)))')));
ERROR 22023: Invalid GIS data provided to function st_centroid.
######################################################################################################
# BUG#19498377 : ST_GEOMFROMGEOJSON() FUNCTION ACCEPTS INVALID GEOJSON VALUE
######################################################################################################
SELECT ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"type1234567890\": \"Point\", \"coordinates\": [102, 11]}"));
ERROR HY000: Invalid GeoJSON data provided to function st_geomfromgeojson: Missing required member 'type'
SELECT ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"typeabcdefghijkl\": \"Point\", \"coordinates\": [102, 11]}"));
ERROR HY000: Invalid GeoJSON data provided to function st_geomfromgeojson: Missing required member 'type'
######################################################################################################
# BUG#19499584 : RAPIDJSON DOES NOT PARSE ALL NUMBERS WITH TRAILING ZEROS PROPERLY
######################################################################################################
SELECT ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"type\": \"Point\", \"coordinates\": [102.0000, 11]}"));
ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"type\": \"Point\", \"coordinates\": [102.0000, 11]}"))
POINT(102 11)
SELECT ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"type\": \"Point\", \"coordinates\": [102.00000, 11]}"));
ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"type\": \"Point\", \"coordinates\": [102.00000, 11]}"))
POINT(102 11)
SELECT ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"type\": \"Point\", \"coordinates\": [102.000000, 11]}"));
ST_ASTEXT(ST_GEOMFROMGEOJSON(
"{ \"type\": \"Point\", \"coordinates\": [102.000000, 11]}"))
POINT(102 11)
######################################################################################################
# BUG#19549099 : VIRTUAL CONST CHAR* ITEM_FUNC_SPATIAL_MBR_REL::FUNC_NAME() CONST: ASSERTION `0'
######################################################################################################
SELECT MBRCOVERS(ST_GEOMFROMTEXT('POINT(0 0)'), ST_GEOMFROMTEXT('POINT(1 1)',100));
ERROR HY000: Binary geometry function mbrcovers given two geometries of different srids: 0 and 100, which should have been identical.
######################################################################################################
# BUG#19552241 : MBRTOUCHES() FUNCTION RETURNS INCORRECT RESULT
######################################################################################################
SELECT MBRTOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(5 0,5 10),GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('LINESTRING(5 0,5 10)'));
MBRTOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(5 0,5 10),GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('LINESTRING(5 0,5 10)'))
0
SELECT MBRTOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOINT(5 0,5 10),GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('MULTIPOINT(5 0,5 10)'));
MBRTOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOINT(5 0,5 10),GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('MULTIPOINT(5 0,5 10)'))
0
######################################################################################################
# BUG#19784515 : ASSERTION `DIM1 >= 0 && DIM1 <= 2 && DIM2 >= 0 && DIM2 <= 2' FAILED
######################################################################################################
SELECT MBRWITHIN(
ST_CENTROID(
ST_UNION(
ST_UNION(
ST_GEOMFROMTEXT(
'MULTILINESTRING((-556 966,-721 -210),'
                                    '(-202 390,-954 804,682 504,-394 -254,832 371,907 -369,827 126,-567 -337,-304 -555,-957 -483,-660 792),'
                                    '(-965 -940,814 -804,-477 -909,-128 57,-819 880,761 497,-559 40,-431 427,179 -291,-707 315,137 -781,-416 -371,-5 -156),'
                                    '(-600 -570,-481 -191,991 -361,768 888,-647 566,795 -861,-82 -575,-593 539))'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((805 69,249 708,147 455,546 -672,-218 843,458 24,-630 -420,-83 -69)),'
                                 '((196 -219,-201 663,-867 521,-910 -315,-749 801,-402 820,-167 -817,-526 -163,744 -988,-588 -370,573 695,-597 513,-246 439)),'
                                 '((32 -903,189 -871,-778 -741,784 340,403 -555,607 -540,-513 -982,700 -124,344 732,714 151,-812 -252,-440 -895,-426 231,-819 -357)),'
                                 '((-395 830,454 -143,788 -279,618 -843,-490 -507,-224 17)))')),
ST_INTERSECTION(
ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                            'POINT(-169 -570),'
                            'MULTIPOINT(384 290,-601 123,408 86,-616 -300,160 -474,-979 -4,-63 -824,-689 -765,-219 802,-54 -93,191 -982,-723 -449),'
                            'MULTILINESTRING((683 4,864 -634,548 -891,727 -691,-570 32,-334 -438,127 -317,241 -12,-807 947,-987 693,-345 -867,854 -106)),'
                            'MULTIPOINT(384 290,-601 123,408 86,-616 -300,160 -474,-979 -4,-63 -824,-689 -765,-219 802,-54 -93,191 -982,-723 -449),'
                            'MULTIPOLYGON(((266 51,851 523,-781 366,-607 -581)),'
                                         '((416 -450,-973 880,103 226,-896 -857,-369 761)),'
                                         '((168 171,26 -99,-606 -490,-174 -138,-325 -218,-833 -652,-255 -445,-882 -762,-202 -560)),'
                                         '((-423 -216,-531 -190,-147 821,362 441,645 -128,-997 708,134 -426,714 -9,147 842,-887 -870,688 -330,689 17,-314 -262,401 -112,-606 761)),'
                                         '((-582 -373,-360 -84,-727 -171,412 -660,750 -846,-464 718,163 -11,489 -659,586 -324,-741 -198,144 -165,644 -80,930 -487,-504 -205))),'
                            'MULTIPOLYGON(((266 51,851 523,-781 366,-607 -581)),'
                                         '((416 -450,-973 880,103 226,-896 -857,-369 761)),'
                                         '((168 171,26 -99,-606 -490,-174 -138,-325 -218,-833 -652,-255 -445,-882 -762,-202 -560)),'
                                         '((-423 -216,-531 -190,-147 821,362 441,645 -128,-997 708,134 -426,714 -9,147 842,-887 -870,688 -330,689 17,-314 -262,401 -112,-606 761)),'
                                         '((-582 -373,-360 -84,-727 -171,412 -660,750 -846,-464 718,163 -11,489 -659,586 -324,-741 -198,144 -165,644 -80,930 -487,-504 -205))),'
                            'GEOMETRYCOLLECTION(),'
                            'MULTIPOINT(384 290,-601 123,408 86,-616 -300,160 -474,-979 -4,-63 -824,-689 -765,-219 802,-54 -93,191 -982,-723 -449),'
                            'MULTILINESTRING((683 4,864 -634,548 -891,727 -691,-570 32,-334 -438,127 -317,241 -12,-807 947,-987 693,-345 -867,854 -106)))'),
ST_GEOMFROMTEXT(
'MULTIPOINT(157 69,-725 -189,-176 -41,676 375,33 -672,-76 47)')),
ST_UNION(
ST_ENVELOPE(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                                'LINESTRING(-896 100,-793 810,243 -525,650 -373,599 170,-554 -890),'
                                'POINT(945 -828),'
                                'POINT(945 -828),'
                                'LINESTRING(-896 100,-793 810,243 -525,650 -373,599 170,-554 -890),'
                                'POINT(945 -828),'
                                'MULTIPOINT(-47 307,-768 -425,-3 167,-170 30,-784 721,951 146,407 790,37 850,-466 738),'
                                'GEOMETRYCOLLECTION(),'
                                'MULTIPOINT(-47 307,-768 -425,-3 167,-170 30,-784 721,951 146,407 790,37 850,-466 738),'
                                'MULTIPOLYGON(((104 113,688 423,-859 602,272 978)),'
                                             '((981 -394,189 -400,649 -325,-977 371,30 859,590 318,329 -894,-51 262,197 952,-846 -139,-920 399)),'
                                             '((-236 -759,834 757,857 747,437 -146,194 913,316 862,976 -491,-745 933,610 687,-149 -164,-803 -565,451 -275)),'
                                             '((572 96,-160 -607,529 930,-544 -132,458 294))))')),
ST_CENTROID(GEOMFROMTEXT('POINT(-939 -921)')))))),
ST_INTERSECTION(
ST_GEOMFROMTEXT(
'MULTILINESTRING((541 -927,-414 316,-429 -444,212 260,-125 104,445 563,-713 -975,-976 514),'
                            '(-830 882,-377 914,-915 919,-535 -23,-508 979),'
                            '(806 347,-87 220,226 -22,-12 468,707 598,83 951,-592 701,833 964,270 -932,743 -514,231 469,-575 -122,-99 -245,416 465,801 -587))'),
ST_GEOMFROMTEXT(
'LINESTRING(-96 -182,-373 75,697 687,-881 -463,-557 -959,-493 810)')));
ERROR HY000: Geometry overlay calculation error: geometry data is invalid in function st_union.
######################################################################################################
# BUG#20085563 : ASSERTION `!NULL_VALUE && OPDONE && STR_VALUE_ARG->LENGTH() > 0' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), 
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())))')));
ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), 
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())))')))
GEOMETRYCOLLECTION()
######################################################################################################
# BUG#20111542 : SET OPERATIONS RETURN GEOMETRYCOLLECTION CONTAINING SINGLE GEOMETRY COMPONENT
######################################################################################################
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('MULTIPOINT(0 0,100 100)'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(),GEOMETRYCOLLECTION())')));
ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('MULTIPOINT(0 0,100 100)'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(),GEOMETRYCOLLECTION())')))
MULTIPOINT(0 0,100 100)
SELECT ST_ASTEXT(ST_DIFFERENCE(ST_GEOMFROMTEXT('MULTIPOLYGON(((4 4,4 6,6 6,6 4)),((0 0,0 10,10 10,10 0)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION()))')));
ST_ASTEXT(ST_DIFFERENCE(ST_GEOMFROMTEXT('MULTIPOLYGON(((4 4,4 6,6 6,6 4)),((0 0,0 10,10 10,10 0)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION()))')))
MULTIPOLYGON(((4 4,4 6,6 6,6 4,4 4)),((0 0,0 10,10 10,10 0,0 0)))
######################################################################################################
# BUG#20202913 : ASSERTION `DEPTH == GC_DEPTH' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_CONVEXHULL(
ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                                 'MULTIPOLYGON(((3 -7,9 8,7 7,-10 -8,0 7,10 1,1 -2,3 -8)),'
                                              '((-3 -4,-1 -4,-10 -3,-2 -8,0 3,9 -5,-7 6,-3 -9,-3 -7,6 -1,-3 4,0 -1,-5 0)),'
                                              '((-5 -7,8 -7,-6 -4,-10 10,3 -1))),'
                                  'MULTIPOINT(10 -3,-9 -6,-8 -4,3 -9,-6 10,-6 -10,-1 -5,9 -7,5 0,5 0),'
                                  'GEOMETRYCOLLECTION(),'
                                  'LINESTRING(-4 5,7 10,2 3,7 5,6 -8,1 9,4 -3,-3 0,-10 4,7 -3,-5 3,8 -9,-5 8,-2 2),'
                                  'POINT(4 9),MULTIPOINT(1 8,-8 5,-5 -3,1 -5,6 2,-1 -10))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'))));
ST_ASTEXT(ST_CONVEXHULL(
ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                                 'MULTIPOLYGON(((3 -7,9 8,7 7,-10 -8,0 7,10 1,1 -2,3 -8)),'
                                              '((-3 -4,-1 -4,-10 -3,-2 -8,0 3,9 -5,-7 6,-
POLYGON((-10 -8,-6 -10,-1 -10,8 -9,9 -7,10 -3,10 1,9 8,7 10,-10 10,-10 -8))
SELECT ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION()'),
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                             'LINESTRING(-10 -1,-2 -9,0 6,2 2,-1 -10,9 -4,6 3),'
                             'MULTIPOINT(10 8,-7 -1,-9 6),'
                             'GEOMETRYCOLLECTION('
                                 'MULTILINESTRING((3 0,8 -5,-6 5,-8 -2,5 1,-1 3),'
                                                 '(4 -1,7 -9,2 -10,10 0,-4 -6,-2 0,9 -5),'
                                                 '(-10 7,5 -5,2 8)),'
                                 'POINT(6 6),'
                                 'MULTIPOLYGON(((-7 -8,6 1,-10 -2,9 10,-6 4,-5 -7,8 2,-8 -9,-6 5,9 -2,9 -7,0 10,-8 -5,3 6,-2 7)),'
                                              '((-2 -5,3 -2,8 -9)),'
                                              '((10 -8,6 -4,0 -10,-10 -7,-5 0,-1 -1,5 -3,-5 9,5 -1,-3 -5)),'
                                              '((-1 10,2 7,-4 -1))),'
                                 'GEOMETRYCOLLECTION(),'
                                 'MULTILINESTRING((3 0,8 -5,-6 5,-8 -2,5 1,-1 3),'
                                                 '(4 -1,7 -9,2 -10,10 0,-4 -6,-2 0,9 -5),'
                                                 '(-10 7,5 -5,2 8)),'
                                 'MULTILINESTRING((3 0,8 -5,-6 5,-8 -2,5 1,-1 3),'
                                                 '(4 -1,7 -9,2 -10,10 0,-4 -6,-2 0,9 -5),'
                                                 '(-10 7,5 -5,2 8))),'
                             'GEOMETRYCOLLECTION('
                                 'MULTIPOINT(4 -10,-3 -8,9 10,-2 5,0 -7,-8 -4,-2 8,-8 1,5 -2,6 3,4 -9,5 -8,5 3,-7 -7),'
                                 'POINT(-7 1),'
                                 'LINESTRING(4 1,4 -2,2 0)),POINT(-5 -4))')));
ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION()'),
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                             'LINESTRING(-10 -1,-2 -9,0 6,2 2,-1 -10,9 -4,6 3),'
                             'MULTIPOINT(10 8,-7 -1,-9 6),'
             
GEOMETRYCOLLECTION(LINESTRING(-10 -1,-2 -9,0 6,2 2,-1 -10,9 -4,6 3),MULTIPOINT(10 8,-7 -1,-9 6),POINT(6 6),MULTIPOLYGON(((-7 -8,-2 7,3 6,-8 -5,0 10,9 -7,9 -2,-6 5,-8 -9,8 2,-5 -7,-6 4,9 10,-10 -2,6 1,-7 -8)),((-2 -5,8 -9,3 -2,-2 -5)),((10 -8,-3 -5,5 -1,-5 9,5 -3,-1 -1,-5 0,-10 -7,0 -10,6 -4,10 -8)),((-1 10,-4 -1,2 7,-1 10))),MULTILINESTRING((3 0,8 -5,-6 5,-8 -2,5 1,-1 3),(4 -1,7 -9,2 -10,10 0,-4 -6,-2 0,9 -5),(-10 7,5 -5,2 8)),MULTIPOINT(4 -10,-3 -8,9 10,-2 5,0 -7,-8 -4,-2 8,-8 1,5 -2,6 3,4 -9,5 -8,5 3,-7 -7),POINT(-7 1),LINESTRING(4 1,4 -2,2 0))
######################################################################################################
# BUG#20211491 : ASSERTION `RTREE_RESULT.SIZE() != 0' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_UNION(
ST_ENVELOPE(
ST_GEOMFROMTEXT(
'LINESTRING(5 9,-1 10,-2 -6,2 9,2 0,3 6,-3 3,9 -2,-3 -10,-7 -4,1 4)')),
ST_UNION(
ST_GEOMFROMTEXT(
'MULTILINESTRING((6 -8,10 -8,3 0,-6 1,0 8,-1 8,-3 -3,6 -6,0 6,1 -6,-1 7,8 3),'
                                                   '(-9 -10,-4 0,0 1,-9 1,6 9,-8 7,-2 -6,2 10,-1 -5,3 -5,-1 -10))'),
ST_GEOMFROMTEXT(
'MULTILINESTRING((8 7,2 6,-6 -8,-2 10,4 1,9 7,5 9,4 1,8 2,-2 10,8 -5))'))));
ST_ASTEXT(ST_UNION(
ST_ENVELOPE(
ST_GEOMFROMTEXT(
'LINESTRING(5 9,-1 10,-2 -6,2 9,2 0,3 6,-3 3,9 -2,-3 -10,-7 -4,1 4)')),
ST_UNION(
ST_GEOMFROMTEXT(
'MULTILINESTRING((6 -8,10 -8,3 0,-6 1,0 8,-1 8,-3 -3,6 -6,0 6,1 -6,-1 7,8 3),'
                           
GEOMETRYCOLLECTION(POLYGON((-7 -10,9 -10,9 10,-7 10,-7 -10)),MULTILINESTRING((9 -8,10 -8,9 -6.857142857142858),(-9 -10,-7 -6),(-7 1,-9 1,-7 2.0666666666666664),(-7 7.142857142857142,-8 7,-7 4.833333333333334)))
SELECT ST_ASTEXT(ST_UNION(
ST_INTERSECTION(
ST_GEOMFROMTEXT(
'MULTIPOINT(7 2,-4 -5,6 -9,-7 3,-10 5,8 -6,0 -10,10 -4,8 -10,2 6,8 -4,-8 2,-4 2)'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((6 2,1 1,-4 5,1 4,-3 -4,-7 9,-10 2,-6 1,10 -7,0 1,9 4)))')),
ST_UNION(
ST_GEOMFROMTEXT(
'LINESTRING(-1 -5,0 -6,4 6,3 3,2 8,-2 6,-4 5,6 -7,-1 -1,-8 6,4 -2)'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((5 -4,-5 -9,-1 -6,-3 0,5 -2)),'
                                                '((-5 -10,-8 -2,-3 7,1 5,5 -10,1 -5,0 10,3 2,1 1)),'
                                                '((4 -2,6 3,7 5,1 2,8 -9,-10 -5,7 -10,-2 -9,-2 0,2 -8,-8 3,5 0)),'
                                                '((6 -4,0 4,-8 -2,10 -10,-6 5)))'))));
ST_ASTEXT(ST_UNION(
ST_INTERSECTION(
ST_GEOMFROMTEXT(
'MULTIPOINT(7 2,-4 -5,6 -9,-7 3,-10 5,8 -6,0 -10,10 -4,8 -10,2 6,8 -4,-8 2,-4 2)'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((6 2,1 1,-4 5,1 4,-3 -4,-7 9,-10 2,-6 1,10 -7,0 1,9 4)))')),
ST_UNION(
ST_GEOMFROMTEX
GEOMETRYCOLLECTION(MULTIPOINT(-8 2,-7 3,8 -6),MULTIPOLYGON(((5 -4,5 -2,-3 0,-1 -6,-5 -9,5 -4)),((-5 -10,1 1,3 2,0 10,1 -5,5 -10,1 5,-3 7,-8 -2,-5 -10)),((4 -2,6 3,7 5,1 2,8 -9,-10 -5,7 -10,-2 -9,-2 0,2 -8,-8 3,5 0,4 -2)),((6 -4,0 4,-8 -2,10 -10,-6 5,6 -4))),MULTILINESTRING((-0.8 -5.2,0.04878048780487805 -5.853658536585366,0.12903225806451613 -5.612903225806452),(1.3650793650793651 -1.904761904761905,1.6153846153846154 -1.1538461538461542,1.7333333333333334 -0.7999999999999998),(2.185185185185185 0.5555555555555554,2.2142857142857144 0.6428571428571429),(2.3076923076923075 0.9230769230769229,2.6 1.8),(2.823529411764706 2.4705882352941178,3 3,2 8,0.9473684210526316 7.473684210526316),(0.19354838709677424 7.096774193548387,-1.5 6.25),(-2 6,-4 5,-1.948717948717949 2.5384615384615383),(-0.9841269841269842 1.380952380952381,-0.6666666666666665 1,0.34065934065934067 -0.20879120879120872,0.7101449275362319 -0.6521739130434785),(3.3529411764705883 -3.8235294117647065,3.9411764705882355 -4.529411764705882,6 -7,3.6666666666666665 -5),(6 -7,3.4210526315789473 -4.7894736842105265),(0.8383838383838383 -2.5757575757575757,-0.38053097345132736 -1.5309734513274336),(-1.6666666666666665 -0.33333333333333337,-2 0),(-3.4285714285714284 1.4285714285714284,-4.1 2.1),(-5.142857142857142 3.1428571428571432,-4.769230769230769 3.8461538461538463,-4.756756756756756 3.8378378378378377),(-1.117647058823529 1.411764705882353,0.6 0.2666666666666667,0.6511627906976745 0.23255813953488413),(2.621621621621622 -1.0810810810810807,3.2105263157894735 -1.473684210526316)))
SELECT ST_CONTAINS(ST_UNION(
ST_INTERSECTION(
ST_GEOMFROMTEXT(
'POINT(-3 3)'),
ST_GEOMFROMTEXT(
'POLYGON((8 3,-2 9,-10 2,-10 -9,7 -1,4 1,7 6,5 -10,5 3,2 1,-10 0))')),
ST_CONVEXHULL(
ST_GEOMFROMTEXT(
'MULTIPOINT(8 -8,-7 5)'))),
ST_UNION(
ST_GEOMFROMTEXT('POINT(4 1)'),
ST_GEOMFROMTEXT('MULTIPOINT(-10 -10,5 -2,-6 -7,1 5,-3 0)')));
ST_CONTAINS(ST_UNION(
ST_INTERSECTION(
ST_GEOMFROMTEXT(
'POINT(-3 3)'),
ST_GEOMFROMTEXT(
'POLYGON((8 3,-2 9,-10 2,-10 -9,7 -1,4 1,7 6,5 -10,5 3,2 1,-10 0))')),
ST_CONVEXHULL(
ST_GEOMFROMTEXT(
'MULTIPOINT(8 -8,-7 5)'))),
ST_UNION(
ST_GEOMFROMTEXT('POINT(4 
0
######################################################################################################
# BUG#20211639 : ASSERTION `LHS.DENOMINATOR() != 0' FAILED
######################################################################################################
SELECT ST_ISEMPTY(ST_INTERSECTION(
ST_UNION(
ST_GEOMFROMTEXT('MULTIPOINT(-9 4,10 -4,3 -10,-6 5,2 -4,-4 -8,1 10,4 10,6 6,9 2,9 4,-10 5,-6 7)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((3 5,-7 -2,-5 -1,1 -4,2 9,-9 -6,-6 10,-7 2,9 -2,-2 1,-1 4,-3 10)),'
                                                       '((-8 4,-8 -1,0 8)),'
                                                       '((0 7,-6 -1,6 -10,5 -2,7 2,9 4,-9 -4,2 10,-3 -7,2 -9,-7 -1,-8 9)),'
                                                       '((-5 -5,-1 -9,1 3,5 -5,9 8,2 9,9 -1,6 -2,-2 6,1 -5,9 -8,-4 2,-6 0)))')),
ST_INTERSECTION(
ST_INTERSECTION(
ST_GEOMFROMTEXT('MULTIPOINT(0 -8,-5 1,8 5,9 -4,0 5,8 4,-6 7,6 9,10 0)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((2 0,-3 5,1 -4,0 10,3 9,-2 -9,9 -9,3 6,-9 -5,8 7,-3 1)))')),
ST_UNION(
ST_GEOMFROMTEXT('MULTIPOLYGON(((-1 -9,7 -7,-6 6,9 6,5 -8,9 -9,5 -8,5 3,-8 9,10 8,10 -8)),'
                                                       '((8 -3,-5 0,2 -4,-8 -5,4 10,10 -8,5 3,-8 -9,-7 -2,8 9,-3 -3,-10 7,-10 -8,-7 -10,-5 -9)),'
                                                       '((4 9,8 -7,1 -10,9 6,-4 8,-7 1,3 -3,8 2,-10 3,-8 8,-3 1,2 0)))'),
ST_GEOMFROMTEXT('LINESTRING(0 -3,8 9,10 -3,-8 7,4 4,8 -8,10 6,5 7)')))));
ST_ISEMPTY(ST_INTERSECTION(
ST_UNION(
ST_GEOMFROMTEXT('MULTIPOINT(-9 4,10 -4,3 -10,-6 5,2 -4,-4 -8,1 10,4 10,6 6,9 2,9 4,-10 5,-6 7)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((3 5,-7 -2,-5 -1,1 -4,2 9,-9 -6,-6 10,-7 2,9 -2,-2 1,-1 4,-3 10)),'
                    
1
SELECT ST_ISEMPTY(ST_INTERSECTION(
ST_CONVEXHULL(
ST_GEOMFROMTEXT('POLYGON((0 10,-4 7,10 5,-8 -6,9 1,4 7,5 0,-3 -1,9 10,-7 -5))')),
ST_UNION(
ST_GEOMFROMTEXT('MULTILINESTRING((1 3,10 -8,-5 -8,-10 8,-9 -10,-5 8,8 6,6 -6,5 -3,-3 -8,-6 1,7 8,-2 -2),'
                                                          '(5 -6,-6 -5,7 -5,8 6,0 7,-1 7,0 2,10 -7),'
                                                          '(-5 1,-10 -6,5 -3,1 -3,-3 -1,7 -1,-8 8,-4 -9,2 -3,4 -8,-3 5,-9 7,-10 9,-9 -9,5 -4))'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((-10 0,-9 -8,4 -6,-8 6,0 -1,1 0,5 2,8 -5)),'
                                                       '((-9 10,4 -8,-9 5,7 -9,-5 9,3 7,-5 -7,-4 -7,1 -7,10 2)),'
                                                       '((-2 6,-2 -6,-7 -5,1 4,7 -4,5 10,7 4,-6 -4,0 4,-3 0,0 2)))'))));
ERROR HY000: Geometry overlay calculation error: geometry data is invalid in function st_intersection.
SELECT ST_ISEMPTY(ST_UNION(
ST_INTERSECTION(
ST_UNION(
ST_GEOMFROMTEXT('LINESTRING(7 -3,-1 6,1 3,4 2,-1 7,3 -4,1 10,-2 3,4 9,6 -2)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((-4 3,1 -6,5 -4,-3 1,-7 -6,4 4,4 -2,0 4,-7 -1,1 -2)))')),
ST_UNION(
ST_GEOMFROMTEXT('MULTIPOINT(8 9,9 -1,0 3,10 6,-3 0,9 7,-10 -10,-8 -8,1 -3,-2 3,0 3,7 9,-4 7,-6 -6,6 6)'),
ST_GEOMFROMTEXT('MULTILINESTRING((-8 6,-4 0,-3 -8,-9 -4,-4 -10,-2 6,-4 6,4 10,0 1,2 3,-8 6,7 5,-1 7),'
                                                              '(2 7,4 7,6 -1,7 4,-9 3,3 7,-9 -7))'))),
ST_UNION(
ST_GEOMFROMTEXT('LINESTRING(-6 -6,-7 1,5 5,-1 0,5 5,-8 -6,10 -9,7 9,-2 -7,10 -1,-3 10)'),
ST_GEOMFROMTEXT('MULTILINESTRING((10 10,2 -9,-8 2,9 -2,-10 -4,10 7,-10 8,-4 7,-9 3,8 8))'))));
ST_ISEMPTY(ST_UNION(
ST_INTERSECTION(
ST_UNION(
ST_GEOMFROMTEXT('LINESTRING(7 -3,-1 6,1 3,4 2,-1 7,3 -4,1 10,-2 3,4 9,6 -2)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((-4 3,1 -6,5 -4,-3 1,-7 -6,4 4,4 -2,0 4,-7 -1,1 -2)))')),
ST_UNION(
ST_GEOMFROMTEXT('MULTIPOINT(8
0
SELECT ST_SRID(
ST_INTERSECTION(
ST_UNION(
ST_UNION(
ST_GEOMFROMTEXT(
'MULTILINESTRING((3 7,-8 8,5 10,-7 0,-6 -2,7 4,-9 9,-10 -6,9 -8),'
                                    '(9 7,-6 1,-8 8,-8 -1,10 -7,-7 -6,-1 -8,0 8,-8 10,5 -2,-3 7,-5 -5))'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((-5 2,-1 -4,7 -1,-4 1,-7 4,-8 2,-4 -5,5 -3,-10 -6,-3 6,-2 8,5 -7,-10 -9,8 -1,2 -5)),'
                                 '((-3 -8,-3 -3,-8 -1,-5 -8,-5 -9,8 -3,-1 -2,8 -4)),'
                                 '((3 -4,7 -1,-6 -8,4 -5,4 8,9 -6)))')),
ST_CONVEXHULL(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                        'POLYGON((0 -1,10 5,-1 2,6 -1)),'
                        'POINT(-2 10),'
                        'POINT(-6 -1),'
                        'GEOMETRYCOLLECTION('
                            'MULTIPOLYGON(((3 -3,5 2,5 -1,-8 4,3 1,-9 0,9 -3,6 4,-3 1,-10 2,-10 -2,-2 5,0 -2)),'
                                         '((-6 8,2 4,-10 4,9 -10,4 5,-5 7,0 -5,8 -2,-8 -3,-7 1)),'
                                         '((5 10,3 2,-2 7,-3 6,7 0,-1 9,-5 6,8 -2))),'
                            'MULTILINESTRING((4 5,9 -10,10 10,2 -3,2 4,7 -8,6 6,-8 1,-6 -7,-7 -6,8 -4,-5 -5,0 9,10 -8)),'
                            'LINESTRING(7 9,8 3,-4 -2,-7 6,-9 -7,8 9,3 9,-4 -10,-10 9)))'))),
ST_UNION(
ST_CONVEXHULL(
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((6 -4,4 9,10 -4,3 -3,7 6,0 -10,-7 1,-2 -2,9 9,9 -8,6 -3,-3 3,-1 10,-3 4)),'
                    '((-6 2,2 1,-2 1,3 -7,0 -1,7 1,-4 -1,8 2,-9 8,-10 -10,-4 -8,9 6,1 -10,9 -8)),'
                    '((-4 3,7 1,10 6,7 -5,-3 2,-2 6,-3 9,-7 -7,1 7,-3 10,9 5,-2 4,8 -3,-7 -9)))')),
ST_ENVELOPE(
ST_UNION(
ST_CONVEXHULL(
ST_ENVELOPE(
ST_UNION(
ST_ENVELOPE(
ST_GEOMFROMTEXT(
'MULTIPOINT(-9 -10,2 -1,1 -2,-8 -1,-1 -2,-9 4,-6 -10,-6 9,4 0,-7 -8,8 -9,-2 -10)')),
ST_INTERSECTION(
ST_UNION(
ST_GEOMFROMTEXT(
'POINT(-10 3)'),
ST_GEOMFROMTEXT(
'POLYGON((-1 -2,7 -1,3 0,-7 9,0 10,4 -1,-5 1,4 9,-9 -2,-3 -5,4 -6,7 5,9 4,3 0))')),
ST_ENVELOPE(
ST_CONVEXHULL(
ST_GEOMFROMTEXT(
'MULTILINESTRING((-3 2,1 10,1 9,-10 -2,2 7,-6 -8,-5 -1,10 0,6 -3),'
                                                '(-2 8,-4 6,-2 9,-4 8,-6 -7,8 9,6 6,5 -3,5 0,-8 2,-7 8,-10 -9),'
                                                '(-7 -9,0 3,10 1,7 3,-6 -5,-5 -3,6 -5,5 -4,-2 3,7 9,0 -1,-3 -1,-4 0))'))))))),
ST_UNION(
ST_INTERSECTION(
ST_GEOMFROMTEXT(
'POLYGON((0 3,9 9,-2 1,-9 -8,7 8,3 -2,-2 4,2 1,3 -9,6 -6))'),
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                                    'MULTIPOLYGON(((-7 -8,-5 -10,-10 4,2 8,-7 -6,-4 -4,1 -10,-9 3,5 -9)),'
                                                 '((2 10,2 4,-7 -4,-5 1,-10 10,9 6,-4 -5)),'
                                                 '((2 6,-5 4,-5 -2,-2 -8,-1 -3,10 4,-2 5,3 -5,-9 -7)),'
                                                 '((-10 9,3 10,-5 -9)),'
                                                 '((7 -2,3 -10,-3 2,5 3))),'
                                    'POLYGON((9 3,5 2,-8 1,1 -10,-1 -6,-8 3,-4 5,-4 10,6 3,4 -4,9 -5,-5 -4,1 -6)),'
                                    'LINESTRING(-9 -8,2 10,-3 6,-10 5,6 -10,2 -10),'
                                    'MULTIPOLYGON(((-9 5,8 0,3 -6,3 0,8 -4,1 -2,-4 7,-2 -1,5 -1,-2 -8))),'
                                    'GEOMETRYCOLLECTION('
                                        'MULTIPOLYGON(((10 -8,-8 -5,8 -7,9 9)),'
                                                     '((-10 -6,-3 0,8 -9,5 -8,-9 -3,3 3,-4 -1)),'
                                                     '((4 7,8 0,7 0,-2 -3,8 -8,-3 -6,9 -10,-8 -8,-10 -10,-4 0,2 2,3 4,1 -4)))),'
                                    'POINT(-6 3),'
                                    'GEOMETRYCOLLECTION('
                                        'POINT(5 -8),'
                                        'GEOMETRYCOLLECTION(),'
                                        'MULTILINESTRING((4 10,1 5,-6 -6,3 -9,1 0,4 -9),'
                                                        '(10 1,-4 -1,-3 -7,-1 -10,-6 -8,5 -9,2 4,0 -3,2 -1,9 -6,-3 5),'
                                                        '(-8 0,5 -3,0 4,-2 -1,-4 2,-7 1,-5 -10,0 5,-3 -9,3 0)),'
                                        'POINT(5 -8)),'
                                    'MULTIPOINT(-2 -9,10 -2,-5 2,8 -10,3 -1,-8 9,-6 8,5 -7,-4 1,10 -4,6 -1,-9 4,-6 -5),'
                                    'GEOMETRYCOLLECTION())')),
ST_INTERSECTION(
ST_GEOMFROMTEXT(
'LINESTRING(4 -3,2 -10,5 -5,8 5,8 -3,-4 -9,2 -2,-3 4,-7 5,-9 -10)'),
ST_GEOMFROMTEXT('MULTIPOINT(-7 10,-9 8,3 3,5 5,10 -8,10 -9)'))))))));
ERROR HY000: Geometry overlay calculation error: geometry data is invalid in function st_union.
######################################################################################################
# BUG#20218936 : ASSERTION `(M_PREVIOUS_OPERATION != OVERLAY::OPERATION_CONTINUE)' FAILED
######################################################################################################
SELECT ST_CONTAINS(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
            'GEOMETRYCOLLECTION('
                'GEOMETRYCOLLECTION('
                    'MULTILINESTRING((8 1,5 6)),'
                    'GEOMETRYCOLLECTION('
                        'LINESTRING(6 0,5 5,0 7,2 9,2 1,8 7,5 0,4 0,4 0),'
                        'POLYGON((1 4,2 9,7 1,1 4)),'
                        'GEOMETRYCOLLECTION('
                            'GEOMETRYCOLLECTION('
                                'MULTILINESTRING((6 2,2 6),(7 1,4 6)),'
                                'MULTIPOLYGON(((0 0,5 8,6 1,6 3,8 1,5 4,9 6,2 5,7 4,1 7,0 0))),'
                                'LINESTRING(6 2,3 1,0 4,4 6,5 2,0 5,9 0,1 7,4 2)))),'
                    'POLYGON((2 5,6 6,5 1,2 2,4 0,3 3,1 4,9 1,4 5,0 7,2 5))),'
                'MULTIPOLYGON(((9 0,5 2,5 6,9 3,1 8,7 6,8 2,4 8,3 3,9 7,9 0))),'
                'POLYGON((8 7,5 3,9 4,0 9,8 1,5 3,7 5,1 0,1 4,3 2,8 7)),'
                'POLYGON((6 4,3 9,8 0,6 4)),'
                'MULTIPOINT(6 0,9 1,4 1,2 2,6 9,4 8,9 6,9 1,5 0),'
                'LINESTRING(2 9,3 7,2 2,0 1,0 7,9 8,6 8,9 5,7 6),'
                'MULTIPOINT(9 9,1 6,6 8,5 0,6 7,3 7,8 4,6 7,9 9),'
                'MULTIPOINT(5 0,2 7,1 1,5 0,4 5,9 9,8 9,8 9,1 4),'
                'POINT(2 1)))'),
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
            'GEOMETRYCOLLECTION('
                'GEOMETRYCOLLECTION('
                    'GEOMETRYCOLLECTION('
                        'GEOMETRYCOLLECTION('
                            'LINESTRING(6 3,9 0),'
                            'MULTILINESTRING((5 8,2 1),(2 6,9 7)),'
                            'LINESTRING(1 2,1 7,1 3,0 5,9 0,6 3,4 2,0 5,7 2)))),'
                'GEOMETRYCOLLECTION('
                    'GEOMETRYCOLLECTION('
                        'POINT(3 0),'
                        'MULTIPOINT(3 6,9 3),'
                        'MULTIPOINT(7 0,3 7,6 6,9 8,1 6,9 6,2 5,0 0,3 4))),'
                'LINESTRING(7 0,3 6,5 0,3 3,1 6,5 6,8 0,9 3,2 9),'
                'POINT(8 2),'
                'LINESTRING(8 1,1 1),'
                'LINESTRING(5 7,3 9),'
                'POINT(1 6),'
                'MULTIPOINT(0 1,0 1),'
                'MULTILINESTRING((3 8,5 3,1 0,8 4,2 7,8 2,2 6,9 1,9 1))))'));
ST_CONTAINS(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
            'GEOMETRYCOLLECTION('
                'GEOMETRYCOLLECTION('
                    'MULTILINESTRING((8 1,5 6)),'
                    'GEOMETRYCOLLECTION('
                        'LINESTRING(6 0
0
######################################################################################################
# BUG#16174580 : ST_OVERLAPS AND ST_INTERSECTS GIVE ERRONEOUS RESULTS
######################################################################################################
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 -10,10 -10,10 0,0 0))'));
ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 -10,10 -10,10 0,0 0))'))
0
SELECT ST_INTERSECTS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 -10,10 -10,10 0,0 0))'));
ST_INTERSECTS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 -10,10 -10,10 0,0 0))'))
1
######################################################################################################
# BUG#18293562 : GIS SPATIAL RELATION CHECK FUNCTIONS GIVES INCORRECT RESULTS
######################################################################################################
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(0 0,3 3)'), ST_GEOMFROMTEXT('LINESTRING(1 1,10 10)'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(0 0,3 3)'), ST_GEOMFROMTEXT('LINESTRING(1 1,10 10)'))
1
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(1 0,15 0,10 10)'), ST_GEOMFROMTEXT('MULTILINESTRING((15 0,20 0,20 20),(10 10,20 20,15 0))'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(1 0,15 0,10 10)'), ST_GEOMFROMTEXT('MULTILINESTRING((15 0,20 0,20 20),(10 10,20 20,15 0))'))
1
SELECT ST_INTERSECTS(ST_GEOMFROMTEXT('LINESTRING(15 10,10 0)'), ST_GEOMFROMTEXT('POINT(15 10)'));
ST_INTERSECTS(ST_GEOMFROMTEXT('LINESTRING(15 10,10 0)'), ST_GEOMFROMTEXT('POINT(15 10)'))
1
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(15 5,15 25)'), ST_GEOMFROMTEXT('LINESTRING(15 5,15 25)'));
ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(15 5,15 25)'), ST_GEOMFROMTEXT('LINESTRING(15 5,15 25)'))
0
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('POLYGON((0 0,5 0,5 5,0 5,0 0),(1 1,3 1,3 3,1 3,1 1))'), ST_GEOMFROMTEXT('LINESTRING(3 3,10 10)'));
ST_TOUCHES(ST_GEOMFROMTEXT('POLYGON((0 0,5 0,5 5,0 5,0 0),(1 1,3 1,3 3,1 3,1 1))'), ST_GEOMFROMTEXT('LINESTRING(3 3,10 10)'))
0
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('POLYGON((0 0,5 0,5 5,0 5,0 0))'), ST_GEOMFROMTEXT('LINESTRING(1 2,5 5)'));
ST_CONTAINS(ST_GEOMFROMTEXT('POLYGON((0 0,5 0,5 5,0 5,0 0))'), ST_GEOMFROMTEXT('LINESTRING(1 2,5 5)'))
1
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(1 0,15 0,10 10)'), ST_GEOMFROMTEXT('LINESTRING(15 0,20 0,10 10,20 20)'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(1 0,15 0,10 10)'), ST_GEOMFROMTEXT('LINESTRING(15 0,20 0,10 10,20 20)'))
1
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(1 0,15 0,10 10)'), ST_GEOMFROMTEXT('MULTILINESTRING((15 0,20 0,20 20),(10 10,20 20,15 0))'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(1 0,15 0,10 10)'), ST_GEOMFROMTEXT('MULTILINESTRING((15 0,20 0,20 20),(10 10,20 20,15 0))'))
1
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(1 0,15 0,10 10)'), ST_GEOMFROMTEXT('MULTILINESTRING((15 0,20 0,20 20,15 0))'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(1 0,15 0,10 10)'), ST_GEOMFROMTEXT('MULTILINESTRING((15 0,20 0,20 20,15 0))'))
1
######################################################################################################
# BUG#20170591 : ST_CROSSES(MULTIPOINT, POLYGON) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(5 0,10 10)'), ST_GEOMFROMTEXT('POLYGON((0 0,5 0,5 5,0 5))'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(5 0,10 10)'), ST_GEOMFROMTEXT('POLYGON((0 0,5 0,5 5,0 5))'))
0
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(5 0,10 10,20 20)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(5 0,10 10,20 20)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'))
0
######################################################################################################
# BUG#20179082 : ST_TOUCHES() RETURNS INCORRECT RESULT WITH GEOMRTRYCOLLECTION GEOMETRY
######################################################################################################
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('POINT(0 0)'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'));
ST_TOUCHES(ST_GEOMFROMTEXT('POINT(0 0)'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'))
0
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLlECTION(POINT(0 0))'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLlECTION(POINT(0 0))'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLlECTION(POINT(0 0))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'));
ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLlECTION(POINT(0 0))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'))
0
######################################################################################################
# BUG#20187460 : OVERLAPPING GEOMETRY COMPONENTS OF SAME TYPE ARE NOT GETTING MERGED PROPERLY
######################################################################################################
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((4 4,4 6,6 6,6 4,4 4)),POLYGON((5 5,5 7,7 7,7 5,5 5)))')));
ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((4 4,4 6,6 6,6 4,4 4)),POLYGON((5 5,5 7,7 7,7 5,5 5)))')))
POLYGON((5 6,4 6,4 4,6 4,6 5,7 5,7 7,5 7,5 6))
######################################################################################################
# BUG#20188574 : ST_WITHIN(MULTIPOINT, POLYGON) RETURNS WRONG RESULT
######################################################################################################
SELECT ST_WITHIN(ST_GEOMFROMTEXT('MULTIPOINT(0 0,5 5,10 10)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'));
ST_WITHIN(ST_GEOMFROMTEXT('MULTIPOINT(0 0,5 5,10 10)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'))
1
SELECT ST_WITHIN(ST_GEOMFROMTEXT('MULTIPOINT(0 0,5 0,3 3)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'));
ST_WITHIN(ST_GEOMFROMTEXT('MULTIPOINT(0 0,5 0,3 3)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'))
1
######################################################################################################
# BUG#20234376 : ST_CONTAINS(POLYGON, MULTIPOINT) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(3 3,13 13)'));
ST_CONTAINS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(3 3,13 13)'))
0
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 5,10 5,5 0)),((5 0,0 -5,10 -5,5 0)))'), ST_GEOMFROMTEXT('MULTIPOINT(5 0)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 5,10 5,5 0)),((5 0,0 -5,10 -5,5 0)))'), ST_GEOMFROMTEXT('MULTIPOINT(5 0)'))
0
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(5 2,15 14)'));
ST_CONTAINS(ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(5 2,15 14)'))
0
######################################################################################################
# BUG#20235165 : ST_EQUALS() FUNCTION RETURNS WRONG RESULT
######################################################################################################
SELECT ST_EQUALS(ST_GEOMFROMTEXT('MULTIPOINT(2 2,3 3)'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(2 2),POINT(3 3))'));
ST_EQUALS(ST_GEOMFROMTEXT('MULTIPOINT(2 2,3 3)'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(2 2),POINT(3 3))'))
1
######################################################################################################
# BUG#20240519 : ST_TOUCHES(POLYGON, MULTIPOINT) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(0 0)'));
ST_TOUCHES(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(0 0)'))
1
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(0 0,0 10)'));
ST_TOUCHES(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(0 0,0 10)'))
1
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(0 0,0 10,10 10)'));
ST_TOUCHES(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('MULTIPOINT(0 0,0 10,10 10)'))
1
######################################################################################################
# BUG#20240934 : ST_OVERLAPS() RETURNS INCORRECT RESULT WITH GEOMETRYCOLLECTION GEOMETRY
######################################################################################################
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 -10,10 10,0 0))'));
ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 -10,10 10,0 0))'))
1
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 -10,10 10,0 0))'));
ST_OVERLAPS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 -10,10 10,0 0))'))
1
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 -10,10 10,0 0)))'));
ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 -10,10 10,0 0)))'))
1
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 -10,10 10,0 0)))'));
ST_OVERLAPS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 -10,10 10,0 0)))'))
1
######################################################################################################
# BUG#20253600 : ST_CROSSES() RETURNS INCORRECT RESULT WITH GEOMETRYCOLLECTION GEOMETRY
######################################################################################################
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(2 2,14 14)'), ST_GEOMFROMTEXT('LINESTRING(0 0,4 4)'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(2 2,14 14)'), ST_GEOMFROMTEXT('LINESTRING(0 0,4 4)'))
1
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(2 2,14 14)'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,4 4))'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTIPOINT(2 2,14 14)'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,4 4))'))
1
SELECT ST_CROSSES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOINT(2 2,14 14))'), ST_GEOMFROMTEXT('LINESTRING(0 0,4 4)'));
ST_CROSSES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOINT(2 2,14 14))'), ST_GEOMFROMTEXT('LINESTRING(0 0,4 4)'))
1
SELECT ST_CROSSES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOINT(2 2,14 14))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,4 4))'));
ST_CROSSES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOINT(2 2,14 14))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,4 4))'))
1
######################################################################################################
# BUG#20303050 : ST_TOUCHES() RETURNS WRONG RESULT WITH GEOMRTRYCOLLECTION GEOMETRY
######################################################################################################
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(0 0,2 2)'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(0 0,2 2)'), ST_GEOMFROMTEXT('POINT(0 0)'))
1
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,2 2))'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,2 2))'), ST_GEOMFROMTEXT('POINT(0 0)'))
1
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(0 0,2 2)'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'));
ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(0 0,2 2)'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'))
1
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,2 2))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'));
ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,2 2))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'))
1
######################################################################################################
# BUG#20308837 : SPATIAL RELATION CHECK FUNCTIONS RETURN NULL VALUE
######################################################################################################
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_DISJOINT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_DISJOINT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'))
1
SELECT ST_INTERSECTS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_INTERSECTS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_EQUALS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_EQUALS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_WITHIN(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_WITHIN(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_TOUCHES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_CROSSES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_CROSSES(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_OVERLAPS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(),GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(),GEOMETRYCOLLECTION())'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION()))'), ST_GEOMFROMTEXT('POINT(0 0)'));
ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION()))'), ST_GEOMFROMTEXT('POINT(0 0)'))
0
######################################################################################################
# BUG#20309003 : ST_CONTAINS(GEOMETRYCOLLECTION(POLY,POLY), MULTIPOINT) RETURNS WRONG RESULT
######################################################################################################
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 10,10 10)),((5 0,0 -10,10 -10))))'), ST_GEOMFROMTEXT('MULTIPOINT(5 2,5 -2)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 10,10 10)),((5 0,0 -10,10 -10))))'), ST_GEOMFROMTEXT('MULTIPOINT(5 2,5 -2)'))
1
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 5,5 5,5 0,0 0)),((0 0,0 -5,-5 -5,-5 0,0 0))))'), ST_GEOMFROMTEXT('MULTIPOINT(4 2,-4 -2)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 5,5 5,5 0,0 0)),((0 0,0 -5,-5 -5,-5 0,0 0))))'), ST_GEOMFROMTEXT('MULTIPOINT(4 2,-4 -2)'))
1
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 5,5 5,5 0,0 0)),POLYGON((0 0,0 -5,-5 -5,-5 0,0 0)))'),
ST_GEOMFROMTEXT('MULTIPOINT(4 2,-4 -2)'));
ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 5,5 5,5 0,0 0)),POLYGON((0 0,0 -5,-5 -5,-5 0,0 0)))'),
ST_GEOMFROMTEXT('MULTIPOINT(4 2,-4 -2)'))
1
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((5 0,0 10,10 10)),POLYGON((5 0,0 -10,10 -10)))'),
ST_GEOMFROMTEXT('MULTIPOINT(5 2,5 -2)'));
ST_CONTAINS(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((5 0,0 10,10 10)),POLYGON((5 0,0 -10,10 -10)))'),
ST_GEOMFROMTEXT('MULTIPOINT(5 2,5 -2)'))
1
######################################################################################################
# BUG#20315283 : ST_TOUCHES(LINESTRING, MULTIPOINT) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(0 0,5 0,10 0)'), ST_GEOMFROMTEXT('MULTIPOINT(10 0)'));
ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(0 0,5 0,10 0)'), ST_GEOMFROMTEXT('MULTIPOINT(10 0)'))
1
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(0 0,5 0,10 0)'), ST_GEOMFROMTEXT('MULTIPOINT(0 0,10 0)'));
ST_TOUCHES(ST_GEOMFROMTEXT('LINESTRING(0 0,5 0,10 0)'), ST_GEOMFROMTEXT('MULTIPOINT(0 0,10 0)'))
1
######################################################################################################
# BUG#20316115 : ST_OVERLAPS(POLYGON, POLYGON) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'));
ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'))
1
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2),(6 6,6 8,8 8,8 6,6 6))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'));
ST_OVERLAPS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2),(6 6,6 8,8 8,8 6,6 6))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'))
1
######################################################################################################
# BUG#20328959 : ST_EQUALS(POLYGON, GEOMETRYCOLLECTION(POLYGON, POLYGON)) RETURNS WRONG RESULT
######################################################################################################
SELECT ST_EQUALS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),POLYGON((4 4,4 6,6 6)))'));
ST_EQUALS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),POLYGON((4 4,4 6,6 6)))'))
0
SELECT ST_EQUALS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),POLYGON((4 4,6 4,6 6)))'));
ST_EQUALS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),POLYGON((4 4,6 4,6 6)))'))
0
######################################################################################################
# BUG#20329124 : ST_WITHIN(MULTIPOINT, GEOMETRYCOLLECTION(POLYGON,POLYGON)) RETURNS WRONG RESULT
######################################################################################################
SELECT ST_WITHIN(ST_GEOMFROMTEXT('MULTIPOINT(4 4,5 5)'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),POLYGON((4 4,4 6,6 6,6 4,4 4)))'));
ST_WITHIN(ST_GEOMFROMTEXT('MULTIPOINT(4 4,5 5)'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),POLYGON((4 4,4 6,6 6,6 4,4 4)))'))
1
SELECT ST_WITHIN(ST_GEOMFROMTEXT('MULTIPOINT(4 4,3 3)'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),POLYGON((4 4,4 6,6 6,6 4,4 4)))'));
ST_WITHIN(ST_GEOMFROMTEXT('MULTIPOINT(4 4,3 3)'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),POLYGON((4 4,4 6,6 6,6 4,4 4)))'))
1
######################################################################################################
# BUG#20303208 : ST_WITHIN(POLYGON, POLYGON) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_WITHIN(ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2),(6 6,6 8,8 8,8 6,6 6))'));
ST_WITHIN(ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2),(6 6,6 8,8 8,8 6,6 6))'))
0
SELECT ST_WITHIN(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2))'));
ST_WITHIN(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2))'))
0
######################################################################################################
# BUG#20234206 : ST_CONTAINS(MULTIPOLYGON, LINESTRING) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 5,10 5,5 0)),((5 0,0 -5,10 -5,5 0)))'), ST_GEOMFROMTEXT('LINESTRING(5 -2,5 2)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 5,10 5,5 0)),((5 0,0 -5,10 -5,5 0)))'), ST_GEOMFROMTEXT('LINESTRING(5 -2,5 2)'))
1
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 5,10 5,5 0)),((5 0,0 -5,10 -5,5 0)))'), ST_GEOMFROMTEXT('LINESTRING(5 -2,5 0)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 5,10 5,5 0)),((5 0,0 -5,10 -5,5 0)))'), ST_GEOMFROMTEXT('LINESTRING(5 -2,5 0)'))
1
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 5,10 5,5 0)),((5 0,0 -5,10 -5,5 0)))'), ST_GEOMFROMTEXT('LINESTRING(5 -2,5 5)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((5 0,0 5,10 5,5 0)),((5 0,0 -5,10 -5,5 0)))'), ST_GEOMFROMTEXT('LINESTRING(5 -2,5 5)'))
1
######################################################################################################
# BUG#20356527 : ST_CONTAINS(MULTIPOLYGON, POLYGON) GIVES INCORRECT RESULT
######################################################################################################
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'))
1
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'))
1
######################################################################################################
# BUG#20356548 : ST_OVERLAPS(MULTIPOLYGON, POLYGON) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'));
ST_OVERLAPS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'))
0
SELECT ST_OVERLAPS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'));
ST_OVERLAPS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'))
0
######################################################################################################
# BUG#20384407 : ST_INTERSECTS(POLYGON, MULTILINESTRING) RETURNS WRONG RESULT
######################################################################################################
SELECT ST_INTERSECTS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2))'), ST_GEOMFROMTEXT('MULTILINESTRING((11 11,20 20),(5 7, 4 1))'));
ST_INTERSECTS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,2 4,4 4,4 2,2 2))'), ST_GEOMFROMTEXT('MULTILINESTRING((11 11,20 20),(5 7, 4 1))'))
1
SELECT ST_INTERSECTS(ST_GEOMFROMTEXT('POLYGON((5 0,0 5,-5 0,0 -5,5 0))'), ST_GEOMFROMTEXT('MULTILINESTRING((10 0, 18 12),(2 2, 2 1))'));
ST_INTERSECTS(ST_GEOMFROMTEXT('POLYGON((5 0,0 5,-5 0,0 -5,5 0))'), ST_GEOMFROMTEXT('MULTILINESTRING((10 0, 18 12),(2 2, 2 1))'))
1
######################################################################################################
# BUG#20390414 : ST_CROSSES(MULTILINESTRING, POLYGON) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTILINESTRING((6 6,15 15),(0 0,7 7))'), ST_GEOMFROMTEXT('POLYGON((5 5,5 15,15 15,15 5,5 5))'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTILINESTRING((6 6,15 15),(0 0,7 7))'), ST_GEOMFROMTEXT('POLYGON((5 5,5 15,15 15,15 5,5 5))'))
1
SELECT ST_CROSSES(ST_GEOMFROMTEXT('MULTILINESTRING((15 15,6 6),(0 0,7 7))'), ST_GEOMFROMTEXT('POLYGON((5 5,5 15,15 15,15 5,5 5))'));
ST_CROSSES(ST_GEOMFROMTEXT('MULTILINESTRING((15 15,6 6),(0 0,7 7))'), ST_GEOMFROMTEXT('POLYGON((5 5,5 15,15 15,15 5,5 5))'))
1
######################################################################################################
# BUG#20393099 : ST_CONTAINS(POLYGON, LINESTRING) RETURNS WRONG RESULT
######################################################################################################
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,5 5,0 0))'), ST_GEOMFROMTEXT('LINESTRING(3 7, 9 1)'));
ST_CONTAINS(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,5 5,0 0))'), ST_GEOMFROMTEXT('LINESTRING(3 7, 9 1)'))
1
######################################################################################################
# BUG#20393159 : ST_CONTAINS(MULTIPOLYGON, MULTIPOINT) GIVES WRONG RESULT
######################################################################################################
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,5 5,0 0)))'), ST_GEOMFROMTEXT('MULTIPOINT(2 9, 1 0)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,5 5,0 0)))'), ST_GEOMFROMTEXT('MULTIPOINT(2 9, 1 0)'))
0
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,5 5,0 0)))'), ST_GEOMFROMTEXT('MULTIPOINT(7 4, 8 0)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,5 5,0 0)))'), ST_GEOMFROMTEXT('MULTIPOINT(7 4, 8 0)'))
0
######################################################################################################
# BUG#20398307 : ST_DISJOINT(LINESTRING, LINESTRING) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_DISJOINT(ST_GEOMFROMTEXT('LINESTRING(5 5,10 10)'), ST_GEOMFROMTEXT('LINESTRING(6 6,3 3)'));
ST_DISJOINT(ST_GEOMFROMTEXT('LINESTRING(5 5,10 10)'), ST_GEOMFROMTEXT('LINESTRING(6 6,3 3)'))
0
SELECT ST_DISJOINT(ST_GEOMFROMTEXT('LINESTRING(5 5,2 8)'), ST_GEOMFROMTEXT('LINESTRING(4 6,7 3)'));
ST_DISJOINT(ST_GEOMFROMTEXT('LINESTRING(5 5,2 8)'), ST_GEOMFROMTEXT('LINESTRING(4 6,7 3)'))
0
######################################################################################################
# BUG#20400252 : ST_TOUCHES(MULTIPOLYGON, LINESTRING) GIVES INCORRECT RESULT
######################################################################################################
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('LINESTRING(5 5,0 0,10 0)'));
ST_TOUCHES(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('LINESTRING(5 5,0 0,10 0)'))
0
SELECT ST_TOUCHES(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('LINESTRING(5 5,0 0,0 10)'));
ST_TOUCHES(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('LINESTRING(5 5,0 0,0 10)'))
0
######################################################################################################
# BUG#20400420 : ST_CONTAINS(MULTIPOLYGON, LINESTRING) GIVES INCORRECT RESULT
######################################################################################################
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('LINESTRING(5 5,0 0,10 0)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('LINESTRING(5 5,0 0,10 0)'))
1
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('LINESTRING(5 5,0 0,0 10)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((0 0,0 -10,-10 -10,-10 0,0 0)))'),
ST_GEOMFROMTEXT('LINESTRING(5 5,0 0,0 10)'))
1
######################################################################################################
# BUG#20409558 : ST_WITHIN(MULTILINESTRING, POLYGON) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_WITHIN(ST_GEOMFROMTEXT('MULTILINESTRING((4 10, 3 10, 10 6),(5 0, 7 5, 9 10))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,5 5,0 0))'));
ST_WITHIN(ST_GEOMFROMTEXT('MULTILINESTRING((4 10, 3 10, 10 6),(5 0, 7 5, 9 10))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,5 5,0 0))'))
0
######################################################################################################
# BUG#20410030 : ST_CROSSES(LINESTRING, POLYGON) RETURNS WRONG RESULT
######################################################################################################
SELECT ST_CROSSES(ST_GEOMFROMTEXT('LINESTRING(3 10, 1 5, 1 10, 3 4, 7 8, 6 10, 10 2)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'));
ST_CROSSES(ST_GEOMFROMTEXT('LINESTRING(3 10, 1 5, 1 10, 3 4, 7 8, 6 10, 10 2)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'))
0
######################################################################################################
# BUG#20414100 : ST_WITHIN(LINESTRING, POLYGON) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_WITHIN(ST_GEOMFROMTEXT('LINESTRING(2 9, 1 1, 10 1, 10 10, 1 10, 0 6, 5 6)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'));
ST_WITHIN(ST_GEOMFROMTEXT('LINESTRING(2 9, 1 1, 10 1, 10 10, 1 10, 0 6, 5 6)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'))
1
SELECT ST_WITHIN(ST_GEOMFROMTEXT('LINESTRING(2 3, 4 5, 0 6, 5 6)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'));
ST_WITHIN(ST_GEOMFROMTEXT('LINESTRING(2 3, 4 5, 0 6, 5 6)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'))
1
######################################################################################################
# BUG#20414126 : ST_WITHIN(MULTILINESTRING, LINESTRING) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTILINESTRING((2 5, 7 5, 8 3, 6 3, 4 0),(0 0,10 10))'), ST_GEOMFROMTEXT('LINESTRING(1 1, 5 5, 4 4)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTILINESTRING((2 5, 7 5, 8 3, 6 3, 4 0),(0 0,10 10))'), ST_GEOMFROMTEXT('LINESTRING(1 1, 5 5, 4 4)'))
1
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTILINESTRING((2 5, 7 5, 8 3, 6 3, 4 0),(4 0, 4 8, 0 4))'), ST_GEOMFROMTEXT('LINESTRING(4 1, 4 5, 4 4)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTILINESTRING((2 5, 7 5, 8 3, 6 3, 4 0),(4 0, 4 8, 0 4))'), ST_GEOMFROMTEXT('LINESTRING(4 1, 4 5, 4 4)'))
1
SELECT ST_CONTAINS(ST_GEOMFROMTEXT('MULTILINESTRING((5 0,5 5,5 10),(0 0,10 10))'), ST_GEOMFROMTEXT('LINESTRING(1 1,5 5,4 4)'));
ST_CONTAINS(ST_GEOMFROMTEXT('MULTILINESTRING((5 0,5 5,5 10),(0 0,10 10))'), ST_GEOMFROMTEXT('LINESTRING(1 1,5 5,4 4)'))
1
######################################################################################################
# BUG#20357097 : ASSERTION `INDEX >= 0 && UNSIGNED(INDEX) < INFO.COUNT' FAILED
######################################################################################################
SELECT ST_ASTEXT(
ST_ENVELOPE(
ST_UNION(
ST_UNION(
ST_ENVELOPE(
ST_CONVEXHULL(
ST_ENVELOPE(
ST_GEOMFROMTEXT('MULTILINESTRING((-3 -4,0 9,3 -2,4 9,-6 -8,-6 4,-10 7,-9 6,-10 6,-8 2,8 2,7 -5),'
                                                            '(-6 6,8 0,9 -7,-7 -7,1 -2),'
                                                            '(-2 -8,7 3,-1 8,1 5,-1 -5,-10 -6,2 2,-2 -9,0 5,2 7,6 8,6 -3,9 7,7 -8))')))),
ST_UNION(
ST_ENVELOPE(
ST_UNION(
ST_ENVELOPE(
ST_GEOMFROMTEXT('MULTIPOINT(4 0,-2 3,-1 -4,3 0,0 1,5 3,-4 -3,-7 -3,3 3)')),
ST_ENVELOPE(
ST_ENVELOPE(
ST_GEOMFROMTEXT('MULTILINESTRING((-3 3,8 10,7 5,-7 0,-10 -4,1 2,-3 -2,-5 8,-3 6,3 8,8 10,3 -4,9 -6,4 -2,6 0),'
                                                                    '(10 -4,3 5,4 -3,6 -10,5 3,-10 8))'))))),
ST_CONVEXHULL(
ST_ENVELOPE(
ST_UNION(
ST_INTERSECTION(
ST_ENVELOPE(
ST_UNION(
ST_CONVEXHULL(
ST_ENVELOPE(
ST_CONVEXHULL(
ST_INTERSECTION(
ST_GEOMFROMTEXT('MULTILINESTRING((8 7,6 1,-3 -7,7 3,-4 2,-6 -8,-4 -8,6 -7,10 -7,-5 10,-3 4),'
                                                                                            '(-1 3,-7 7,-10 -2,-4 -5,-3 -7,-2 -8,-6 -7),'
                                                                                            '(-6 -6,-3 -1,1 10,2 3,7 4,-7 7,-2 5,-10 -3,-6 0,-6 6,-8 -5,-5 7,0 -3,-6 5))'),
ST_GEOMFROMTEXT('POINT(2 4)'))))),
ST_CONVEXHULL(
ST_UNION(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                                                                        'POLYGON((7 4,1 0,-4 -9,-9 8)))'),
ST_GEOMFROMTEXT('MULTILINESTRING((-2 -3,-4 -9,-7 -8,-4 6,4 2,4 -6,7 -6,9 9,-5 10,-6 -9,0 -5,2 2,-3 5,4 -4),'
                                                                                    '(1 3,5 -10,6 -6,-2 -4,-5 6,7 -9,-8 -7,5 3,7 -6,-9 -4,10 7,5 9,-7 -2,4 -2),'
                                                                                    '(8 5,4 5,0 -7))'))))),
ST_CONVEXHULL(
ST_GEOMFROMTEXT('LINESTRING(9 4,-9 -9,9 9)'))),
ST_CONVEXHULL(
ST_INTERSECTION(
ST_ENVELOPE(
ST_ENVELOPE(
ST_CONVEXHULL(
ST_ENVELOPE(
ST_CONVEXHULL(
ST_GEOMFROMTEXT('MULTIPOINT(-7 -5,-10 -8,3 7,3 8,3 -1,7 -4,-9 -9,-7 2,-6 0)')))))),
ST_INTERSECTION(
ST_UNION(
ST_GEOMFROMTEXT('LINESTRING(-10 -4,9 -4,-5 5,8 8)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((-10 -1,6 9,8 9)),'
                                                                             '((3 2,5 1,9 10,-7 -9,-9 4)),'
                                                                             '((2 8,10 -9,3 -10,-9 -7,7 -9,9 9,-9 0,-9 -5,2 7,-7 -2,-2 -9,-1 -9,2 -2,2 4,1 -6)))')),
ST_UNION(
ST_GEOMFROMTEXT('LINESTRING(-8 -10,-4 3,10 -7,9 -2,-8 -8,1 -10,1 -1)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((-3 3,-9 -6,2 4,1 -9,-3 -7,-8 7,9 -9,3 10,-8 2,-5 -3,-3 -1,1 7,-8 4)),'
                                                                             '((-1 8,4 -4,8 1,2 9,-5 -10,5 -5,-7 9,7 3)),'
                                                                             '((2 -4,6 -1,5 -4,3 2,3 10,8 0,-6 4,2 7,8 -6,-2 6,-9 3)),'
                                                                             '((-8 4,-6 2,-1 1,-1 4,7 8,-1 -10,-3 4,-3 4,7 -4,-7 6,4 1,-10 -7,-10 -7,-2 -1)))')))))))))),
ST_UNION(
ST_GEOMFROMTEXT('POLYGON((-7 -6,3 -7,-2 -4,8 -10,3 -3,-7 4,-8 2,-10 7,-7 -7,10 -10,-9 2))'),
ST_GEOMFROMTEXT('LINESTRING(8 0,9 -7,4 -9,10 -1,6 0)')))));
ERROR HY000: Geometry overlay calculation error: geometry data is invalid in function st_intersection.
######################################################################################################
# More GIS crashes/assertion failure test cases
######################################################################################################
SELECT MBRCONTAINS(ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                               'POLYGON((1 7,4 5,7 -.1,7 2,5 4,2 2,4 +.7,-1.9 2,4 1,1 7)),'
                               'MULTIPOINT(+.6 +.0,6 -1,6 -1032.34324,0 -2.9,6 0),'
                               'MULTILINESTRING((7 3,-5.8 3,4 7,4 2.232432)))',10),
ST_GEOMFROMTEXT(
'MULTIPOINT(7.0 5,2 -9.2,9 8,6 -0,3 5,1 7,3 7)',10)),
ST_UNION(ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('POINT(0 2.232432)')),10),
ST_GEOMFROMTEXT('POINT(4 +.5)',10)));
MBRCONTAINS(ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                               'POLYGON((1 7,4 5,7 -.1,7 2,5 4,2 2,4 +.7,-1.9 2,4 1,1 7)),'
                               'MULTIPOINT(+.6 +.0,6 -1,6 -1032.34324,0 -2.9,6 0),'
                  
1
SELECT ST_INTERSECTS(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT(
'MULTIPOINT(1 0,8.5 0,5 1,8.3 4,7 -5.0)'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((3 8,6 1,9.5 4,5 2,9 2,-1032.34324 -1032.34324,4 -4.6,4 2,3 8),'
                                           '(5 9,2 4,6 -.8,4 +.0,-0 1,8 9.6,5 9),'
                                           '(8 5,3 4,3 1,0 1,6 -.5,8 -7.0,8 5),'
                                           '(8 6,0 1,9 5,7 5,5 3,2.232432 0,8 6)),'
                                          '((5 1,7 7,-1032.34324 7,8 -1,5 0,5 1),'
                                           '(2 9,2.232432 +.6,2 8,4 -4.4,-1032.34324 9,9 +.6,8 1,-.0 1,1 2,7 2,6 -5,2 1,-2 9,2 9),'
                                           '(7 8,0 4,7 8)),'
                                          '((5 0,7 1,5 0)),'
                                          '((3 9,8 5,0 -1032.34324,7 +.9,3 9),'
                                           '(9 9,7 2,0.4 7,9 9),'
                                           '(1 4,4 0,0 2,6.9 6,2.232432 -.8,7 3,1 4)))')),
ST_UNION(ST_GEOMFROMTEXT('MULTILINESTRING((-.5 9,1 1,1 6,6 6),(6 -.5,6 -.2,6 9,2 4),(4 7),(8 7,5 5,9 3,8 -.3))'),
ST_GEOMFROMTEXT('POINT()')));
ERROR 22023: Invalid GIS data provided to function st_within.
SELECT ST_TOUCHES(ST_INTERSECTION(
ST_GEOMFROMTEXT(
'POLYGON((6 9,0 0,10.0002 -6,6 9),'
                                  '(5 7,2 7,9 6,9 9,2 0,3 7,+.7 1,2.232432 9,8 +.3,5 7),'
                                  '(0 6,5 9,-.0 0,7 4,2 -3,2 7,9 2,0 6))'),
ST_GEOMFROMTEXT('POINT(7 8)',0)),
ST_DIFFERENCE(
ST_GEOMFROMWKB(
MULTIPOINT(POINT(-3.4,2),POINT(9,5),POINT(8,9),POINT(-.0,-.7),POINT(8,1.8),POINT(-5.0,9),POINT(4,3),
POINT(8,-9.9),POINT(1,9),POINT(+.7,3),POINT(1,1),POINT(1,0),POINT(+.3,.7),POINT(4,7),POINT(2,-.0))),
ST_GEOMFROMWKB(POINT(0,2))));
ST_TOUCHES(ST_INTERSECTION(
ST_GEOMFROMTEXT(
'POLYGON((6 9,0 0,10.0002 -6,6 9),'
                                  '(5 7,2 7,9 6,9 9,2 0,3 7,+.7 1,2.232432 9,8 +.3,5 7),'
                                  '(0 6,5 9,-.0 0,7 4,2 -3,2 7,9 2,0 6))'),
ST_GEOMF
0
SELECT MBRCONTAINS(ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                               'POLYGON((1 7,4 5,7 -.1,7 2,5 4,2 2,4 +.7,-1.9 2,4 1,1 7)),'
                               'MULTIPOINT(+.6 +.0,6 -1,6 -1032.34324,0 -2.9,6 0),'
                               'MULTILINESTRING((7 3,-5.8 3,4 7,4 2.232432)))',10),
ST_GEOMFROMTEXT('MULTIPOINT(7.0 5,2 -9.2,9 8,6 -0,3 5,1 7,3 7)',10)),
ST_UNION(
ST_GEOMFROMWKB(
ST_ASWKB(ST_GEOMFROMTEXT('POINT(0 2.232432)')),10),ST_GEOMFROMTEXT('POINT(4 +.5)',10)));
MBRCONTAINS(ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                               'POLYGON((1 7,4 5,7 -.1,7 2,5 4,2 2,4 +.7,-1.9 2,4 1,1 7)),'
                               'MULTIPOINT(+.6 +.0,6 -1,6 -1032.34324,0 -2.9,6 0),'
                  
1
SELECT ST_CONTAINS(ST_UNION(
ST_GEOMFROMWKB(
GEOMETRYCOLLECTION(
POINT(1,6),
MULTIPOLYGON(
POLYGON(LINESTRING(POINT(6,3),POINT(3,0),POINT(2.7,2),POINT(2,8),POINT(1,5.8),POINT(6,3))),
POLYGON(LINESTRING(POINT(2,4),POINT(0,9),POINT(2,4)),
LINESTRING(POINT(5,4),POINT(5,1),POINT(5,4)))),
MULTIPOLYGON(
POLYGON(LINESTRING(POINT(1,9),POINT(-.9,.3),POINT(1,9)),
LINESTRING(POINT(1,9),POINT(1,1.6),POINT(8,5),POINT(7,2),POINT(6,9.9),POINT(1,2),
POINT(0,0),POINT(7,3),POINT(2,6),POINT(8,3),POINT(4,-.8),POINT(1,9)),
LINESTRING(POINT(1,8),POINT(3,3),POINT(+.5,9),POINT(-9.3,0),POINT(8,5),POINT(+.4,+.2),
POINT(7,+.6),POINT(7,7),POINT(2,4),POINT(2,2),POINT(6,0),POINT(1,8)),
LINESTRING(POINT(6,0),POINT(8,2),POINT(0,1),POINT(-.9,.9),POINT(6,0)),
LINESTRING(POINT(0,8),POINT(1,9),POINT(2,3),POINT(3,2),POINT(4,-3.2),POINT(7,6),POINT(4,9),
POINT(3,5),POINT(7,-.0),POINT(1,2),POINT(4,-.8),POINT(-2.3,7),POINT(9,4),POINT(0,8)),
LINESTRING(POINT(3,6),POINT(5,7),POINT(2,2),POINT(3,2),POINT(7,1),POINT(2,2),
POINT(3,9),POINT(5,7),POINT(8,2),POINT(5,6),POINT(3,6))),
POLYGON(LINESTRING(POINT(0,3),POINT(3,-.4),POINT(-.2,3),POINT(5,4.6),POINT(-2.7,8),POINT(0,3)))))),
ST_GEOMFROMTEXT('POINT(-1032.34324 -.9)')),
ST_UNION(
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                                       'MULTILINESTRING((5 5,6 3,+.8 -8,8 3),(2 2,1 3,8 4)),'
                                       'MULTIPOINT(2 3,9 3,9 7,+.2 0,1 2),'
                                       'MULTIPOLYGON(((2 1,2.232432 7.2,-0.7654 2,3 9,9 9,1 0,-0.7654 5,2 1),'
                                                     '(8 2,2 1,8 2),'
                                                     '(3 2,8.5 3,+.7 2,7 5,2 1,1 6,1 7,-9.4 6,3 2),'
                                                     '(5 9,7 +.5,5 9),'
                                                     '(6 8,-0.7654 1,6 8),'
                                                     '(0 9,9 0,5 4,6 -0.7654,-5 1,0 9))))'))),
ST_GEOMFROMTEXT('MULTIPOLYGON(((5 2,1 -0.7654,-6.3 9,6 3,2 6,7 6,4 -0.7654,2 +.2,-0.7654 9,5 2)))')));
ERROR 22023: Invalid GIS data provided to function st_within.
SELECT MBROVERLAPS(ST_INTERSECTION(
ST_GEOMFROMWKB(
GEOMETRYCOLLECTION(
MULTILINESTRING(
LINESTRING(POINT(3,3)),
LINESTRING(POINT(3,5)),
LINESTRING(POINT(8,0),POINT(6,0),POINT(9,7),POINT(5,6),POINT(7,5),POINT(-5.6,4)),
LINESTRING(POINT(7,1),POINT(5,9),POINT(5,0),POINT(2,1),POINT(1,5),POINT(5,+.8),POINT(-.8,9),POINT(0,3),POINT(2.0,3)),
LINESTRING(POINT(2,8),POINT(0,2),POINT(.5,-.2),POINT(2,1)),
LINESTRING(POINT(9,8.8),POINT(-.3,.1),POINT(2,2),POINT(2,8))),
POLYGON(
LINESTRING(POINT(6,8),POINT(4,1),POINT(6,8),POINT(-.2,2),POINT(6,6.3),POINT(3,7),POINT(4,7.1),POINT(6,8))),
MULTILINESTRING(
LINESTRING(POINT(9,9))))),
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((6 4,3 3,-8.4 6,-.0 4,6 4)))')))),
ST_DIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(3.2 2)'),
ST_GEOMFROMTEXT('LINESTRING(7 3,-2 10.0002,1 6,3 7)',10)));
ERROR HY000: Geometry overlay calculation error: geometry data is invalid in function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMTEXT('POLYGON((6 8, 4 1, 6 8, -0.2 2,6 6.3, 3 7, 4 7.1, 6 8))'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((6 4,3 3,-8.4 6,-.0 4,6 4)))')));
ERROR HY000: Geometry overlay calculation error: geometry data is invalid in function st_intersection.
SELECT MBRWITHIN(ST_SYMDIFFERENCE(
ST_GEOMFROMWKB(POINT(3,8),10),
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT(
'MULTILINESTRING((10.0002 6,6 9,1 2,2 -6),(-2 -1032.34324,6 189.7654,6 -.6,-.0 -.6,5 0),(0.6 1,5 0,1 -6,6 1))')),10)),
ST_INTERSECTION(
ST_GEOMFROMTEXT('MULTIPOINT(+.8 4,5 -2,6 10.0002,4 9,1 3)'),
ST_GEOMFROMWKB(MULTIPOINT(POINT(8,5),POINT(9,4),POINT(-0.5,-.9)))));
MBRWITHIN(ST_SYMDIFFERENCE(
ST_GEOMFROMWKB(POINT(3,8),10),
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT(
'MULTILINESTRING((10.0002 6,6 9,1 2,2 -6),(-2 -1032.34324,6 189.7654,6 -.6,-.0 -.6,5 0),(0.6 1,5 0,1 -6,6 1))')),10)),
ST_INTERSECTION(
ST_GEOMFROMTEXT('
NULL
SELECT ST_DISJOINT(ST_GEOMFROMTEXT(
'MULTIPOINT(189.7654 2)'),
ST_GEOMFROMWKB(
GEOMETRYCOLLECTION(
MULTIPOINT(POINT(7,5),POINT(5,-.5),POINT(0,2),POINT(6.9,0)),
POLYGON(
LINESTRING(POINT(4,0),POINT(5,8),POINT(6.3,7),POINT(5,-.4),POINT(4,0))),
POLYGON(
LINESTRING(POINT(7,6),POINT(2,8),POINT(7,3),POINT(1,3),POINT(0,4),POINT(7,+.0),POINT(4,5),POINT(3,6),POINT(7,6)),
LINESTRING(POINT(2,5),POINT(4,7),POINT(6,5),POINT(4,-1.0),POINT(9,0),POINT(-1.9,-.6),POINT(9,0),POINT(2,5))),
MULTIPOINT(POINT(9,5),POINT(2,-0.7),POINT(6,1),POINT(1,1)),
LINESTRING(POINT(-.3,4),POINT(4,9),POINT(0,+.9),POINT(6.8,3),POINT(4,3),POINT(1,0.3)),
MULTIPOLYGON(
POLYGON(
LINESTRING(POINT(7,2),POINT(0,5),POINT(7,2))),
POLYGON(
LINESTRING(POINT(9,5),POINT(2,0),POINT(9,5)),
LINESTRING(POINT(8,9),POINT(0,-6.9),POINT(5,3),POINT(0,1),POINT(7,0.9),POINT(3,0),POINT(+.4,0),POINT(3,6),POINT(8,9))),
POLYGON(
LINESTRING(POINT(0,2),POINT(7,3),POINT(5,0),POINT(0,1),POINT(1,0),POINT(7,3),POINT(6,3),POINT(2,5),POINT(0,2))),
POLYGON(
LINESTRING(POINT(8,9),POINT(8,1),POINT(-.9,-.8),POINT(4,6),POINT(8,9)),
LINESTRING(POINT(2,8),POINT(6,7),POINT(8,+.2),POINT(5,-6.1),POINT(4,5),POINT(4,-.2),
POINT(1,5),POINT(-3.6,5),POINT(6,3),POINT(2,8),POINT(7,1.2),POINT(2,8)))))));
ERROR 22023: Invalid GIS data provided to function st_within.
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMWKB(
GEOMETRYCOLLECTION(
POINT(7,7),
POLYGON(
LINESTRING(POINT(4,9),POINT(5,6),POINT(9,-.9),POINT(8,8),POINT(1,1),POINT(5,5),
POINT(8,-0.8),POINT(7,4),POINT(0,+.8),POINT(0,8),POINT(5,8),POINT(4,9))),
POLYGON(
LINESTRING(POINT(2,2),POINT(3,9.5),POINT(2.2,1),POINT(-6.1,0),POINT(1,9),POINT(2,2)),
LINESTRING(POINT(0,8),POINT(0,0),POINT(3,-8.6),POINT(0,7),POINT(2,-.9),POINT(0,9),POINT(8,0),POINT(7,0),POINT(0,8))),
POLYGON(
LINESTRING(POINT(3,2),POINT(8,8),POINT(0,9),POINT(4,7.9),POINT(3,4),POINT(2,0),POINT(0,0),POINT(4,6.0),POINT(3,2))),
LINESTRING(POINT(5,2),POINT(9,2),POINT(7,5),POINT(5,1)),
MULTIPOINT(POINT(1,8),POINT(.6,8),POINT(.8,3)))),
ST_GEOMFROMTEXT(
'POLYGON((3 6,2 3,2 8,3 -1.6,4 -0.7654,3 6))')));
ERROR HY000: Geometry overlay calculation error: geometry data is invalid in function st_intersection.
SELECT MBREQUALS(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT(
'POINT(5 0)'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((8 1,5 8,5 -5.7,9 8,5 9,8 1),'
                                        '(7 5,5 7.6,0 2,3 7,0 5,2 9,7 5)),'
                                       '((2 4,6 0,+.8 7,3 2,-4 8,2 -0,+.2 1,2 4)))')),
ST_UNION(ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT(
'POLYGON((7 3,2 7,7 3),'
                                              '(2 4,6 2,1 7,-2.7 5,0 4,-3.4 3,3 8,2 4),'
                                              '(8 0,189.7654 10.0002,9 1.1,1 0,6 -2.6,4 10.0002,1 8,8 0))'))),
ST_GEOMFROMTEXT('LINESTRING(6 1)')));
ERROR 22023: Invalid GIS data provided to function st_union.
SELECT ST_INTERSECTS(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT(
'MULTIPOINT(1 0,8.5 0,5 1,8.3 4,7 -5.0)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((3 8,6 1,9.5 4,5 2,9 2,-1032.34324 -1032.34324,4 -4.6,4 2,3 8),'
                                                       '(5 9,2 4,6 -.8,4 +.0,-0 1,8 9.6,5 9),'
                                                       '(8 5,3 4,3 1,0 1,6 -.5,8 -7.0,8 5),'
                                                       '(8 6,0 1,9 5,7 5,5 3,2.232432 0,8 6)),'
                                                      '((5 1,7 7,-1032.34324 7,8 -1,5 0,5 1),'
                                                       '(2 9,2.232432 +.6,2 8,4 -4.4,-1032.34324 9,9 +.6,8 1,-.0 1,1 2,7 2,6 -5,2 1,-2 9,2 9),'
                                                       '(7 8,0 4,7 8)),'
                                                      '((5 0,7 1,5 0)),'
                                                      '((3 9,8 5,0 -1032.34324,7 +.9,3 9),(9 9,7 2,0.4 7,9 9),(1 4,4 0,0 2,6.9 6,2.232432 -.8,7 3,1 4)))')),
ST_UNION(
ST_GEOMFROMTEXT(
'MULTILINESTRING((-.5 9,1 1,1 6,6 6),(6 -.5,6 -.2,6 9,2 4),(4 7),(8 7,5 5,9 3,8 -.3))'),
ST_GEOMFROMTEXT('POINT()')));
ERROR 22023: Invalid GIS data provided to function st_within.
SELECT ST_INTERSECTS(ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('MULTIPOLYGON(((4 4,9 10.0002,4 4),(5 0,2 6,5 0)))'))),
ST_GEOMFROMWKB(MULTIPOINT(POINT(8,9))));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('POINT(10 10)')));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT('POINT(10 10)')))
POINT(10 10)
SET @star_top= 'POINT(15 25)';
SET @star_of_elems='MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0)))';
SELECT ST_ASTEXT(ST_GEOMFROMTEXT(@star_of_elems));
ST_ASTEXT(ST_GEOMFROMTEXT(@star_of_elems))
MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0)))
SELECT ST_AREA(ST_GEOMFROMTEXT(@star_of_elems));
ST_AREA(ST_GEOMFROMTEXT(@star_of_elems))
377.5
SELECT ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT(@star_of_elems)));
ST_ASTEXT(ST_ENVELOPE(ST_GEOMFROMTEXT(@star_of_elems)))
POLYGON((0 0,30 0,30 25,0 25,0 0))
SELECT ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT(@star_of_elems)));
ST_ASTEXT(ST_CENTROID(ST_GEOMFROMTEXT(@star_of_elems)))
POINT(15.64459161147903 10.20971302428256)
SELECT ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT(@star_of_elems)));
ST_ASTEXT(ST_CONVEXHULL(ST_GEOMFROMTEXT(@star_of_elems)))
POLYGON((0 15,5 0,25 0,30 15,15 25,0 15))
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT(@star_of_elems), 1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT(@star_of_elems), 1))
POLYGON((15.0000 3.8819,24.5527 -0.8944,24.6101 -0.9162,24.6663 -0.9426,24.7043 -0.9519,24.7405 -0.9657,24.8006 -0.9755,24.8604 -0.9902,24.9000 -0.9917,24.9388 -0.9981,24.9991 -0.9957,25.0602 -0.9981,25.0998 -0.9917,25.1396 -0.9902,25.1977 -0.9759,25.2575 -0.9662,25.2955 -0.9519,25.3347 -0.9423,25.3883 -0.9169,25.4445 -0.8957,25.4794 -0.8738,25.5163 -0.8563,25.5634 -0.8211,25.6138 -0.7894,25.6440 -0.7606,25.6771 -0.7358,25.7158 -0.6922,25.7585 -0.6515,25.7827 -0.6169,25.8105 -0.5856,25.8395 -0.5356,25.8730 -0.4876,25.8900 -0.4484,25.9112 -0.4118,25.9294 -0.3575,25.9525 -0.3043,25.9615 -0.2620,25.9751 -0.2213,25.9821 -0.1649,25.9940 -0.1087,25.9944 -0.0650,25.9997 -0.0219,25.9953 0.0341,25.9958 0.0911,25.9874 0.1345,25.9839 0.1783,25.9685 0.2319,25.9578 0.2873,23.1770 9.5564,30.5299 14.1520,30.6869 14.2733,30.8168 14.4231,30.9146 14.5957,30.9764 14.7842,30.9998 14.9812,30.9838 15.1789,30.9291 15.3696,30.8379 15.5457,30.7137 15.7004,30.5613 15.8275,30.3870 15.9220,30.1973 15.9803,30 16,19.6770 16.0000,15.9284 25.3713,15.8370 25.5470,15.7128 25.7013,15.5606 25.8280,15.3864 25.9223,15.1970 25.9803,15 26,14.8029 25.9803,14.6135 25.9223,14.4393 25.8280,14.2871 25.7013,14.1629 25.5470,14.0715 25.3713,10.3229 16,0 16,-0.1987 15.9800,-0.3895 15.9209,-0.5648 15.8251,-0.7176 15.6964,-0.8417 15.5399,-0.9322 15.3618,-0.9855 15.1693,-0.9995 14.9700,-0.9736 14.7720,-0.9089 14.5830,-0.8079 14.4106,-0.6746 14.2618,-0.5144 14.1425,7.6262 9.2580,4.0715 0.3713,4.0160 0.1783,4.0002 -0.0219,4.0248 -0.2213,4.0887 -0.4118,4.1894 -0.5856,4.3228 -0.7358,4.4836 -0.8563,4.6652 -0.9423,4.8603 -0.9902,5.0611 -0.9981,5.2594 -0.9657,5.4472 -0.8944,15.0000 3.8819))
SET @buf = ST_BUFFER(ST_GEOMFROMTEXT(@star_of_elems), 1);
SELECT st_area(@buf);
st_area(@buf)
373.4638
SELECT ST_ASTEXT(ST_BUFFER(@buf, 1));
ST_ASTEXT(ST_BUFFER(@buf, 1))
POLYGON((15.0000 2.7639,24.1055 -1.7888,24.1976 -1.8292,24.2188 -1.8373,24.2401 -1.8473,24.3495 -1.8860,24.3492 -1.8868,24.3854 -1.9005,24.4068 -1.9063,24.4285 -1.9140,24.4665 -1.9233,24.4667 -1.9224,24.5795 -1.9527,24.6008 -1.9562,24.6226 -1.9615,24.7391 -1.9779,24.7390 -1.9787,24.7778 -1.9850,24.7989 -1.9863,24.8206 -1.9894,24.8602 -1.9910,24.8602 -1.9901,24.9783 -1.9973,24.9989 -1.9965,25.0203 -1.9973,25.1392 -1.9902,25.1392 -1.9909,25.1790 -1.9894,25.1990 -1.9866,25.2199 -1.9853,25.2595 -1.9789,25.2594 -1.9780,25.3780 -1.9613,25.3970 -1.9566,25.4172 -1.9534,25.5337 -1.9223,25.5339 -1.9230,25.5731 -1.9134,25.5911 -1.9070,25.6103 -1.9019,25.6484 -1.8876,25.6481 -1.8868,25.7624 -1.8462,25.7792 -1.8382,25.7973 -1.8314,25.9068 -1.7771,25.9071 -1.7777,25.9440 -1.7602,25.9594 -1.7509,25.9764 -1.7425,26.0112 -1.7206,26.0108 -1.7200,26.1161 -1.6565,26.1301 -1.6459,26.1457 -1.6362,26.2433 -1.5603,26.2437 -1.5608,26.2768 -1.5360,26.2894 -1.5244,26.3035 -1.5135,26.3337 -1.4847,26.3331 -1.4842,26.4247 -1.4000,26.4357 -1.3876,26.4482 -1.3757,26.5298 -1.2806,26.5303 -1.2811,26.5581 -1.2498,26.5675 -1.2367,26.5785 -1.2240,26.6026 -1.1894,26.6020 -1.1890,26.6758 -1.0869,26.6836 -1.0735,26.6929 -1.0601,26.7547 -0.9494,26.7553 -0.9497,26.7765 -0.9131,26.7827 -0.8994,26.7904 -0.8856,26.8074 -0.8464,26.8067 -0.8462,26.8592 -0.7300,26.8638 -0.7162,26.8699 -0.7022,26.9090 -0.5800,26.9095 -0.5802,26.9232 -0.5396,26.9263 -0.5259,26.9307 -0.5118,26.9397 -0.4695,26.9391 -0.4694,26.9676 -0.3437,26.9693 -0.3302,26.9722 -0.3163,26.9864 -0.1872,26.9869 -0.1873,26.9922 -0.1442,26.9925 -0.1312,26.9940 -0.1176,26.9944 -0.0738,26.9937 -0.0738,26.9966 0.0565,26.9956 0.0690,26.9958 0.0822,26.9838 0.2130,26.9843 0.2131,26.9808 0.2568,26.9787 0.2686,26.9775 0.2812,26.9691 0.3247,26.9686 0.3246,26.9450 0.4545,26.9418 0.4655,26.9395 0.4775,26.9156 0.5746,24.3541 9.1128,31.0599 13.3040,31.1414 13.3607,31.2984 13.4820,31.4425 13.6183,31.5725 13.7682,31.6869 13.9302,31.7847 14.1028,31.8649 14.2842,31.9266 14.4727,31.9694 14.6664,31.9928 14.8634,31.9965 15.0617,31.9806 15.2595,31.9451 15.4546,31.8904 15.6453,31.8170 15.8296,31.7258 16.0057,31.6175 16.1720,31.4933 16.3266,31.3544 16.4682,31.2021 16.5953,31.0379 16.7066,30.8635 16.8012,30.6806 16.8779,30.4910 16.9362,30.2965 16.9753,30.0991 16.9950,30.0000 16.9999,20.3540 17.0000,16.8569 25.7427,16.8156 25.8329,16.7242 26.0086,16.6158 26.1743,16.4916 26.3286,16.3527 26.4698,16.2005 26.5965,16.0364 26.7075,15.8623 26.8018,15.6796 26.8783,15.4902 26.9364,15.2961 26.9754,15.0990 26.9950,14.9009 26.9950,14.7038 26.9754,14.5097 26.9364,14.3203 26.8783,14.1376 26.8018,13.9635 26.7075,13.7994 26.5965,13.6472 26.4698,13.5083 26.3286,13.3841 26.1743,13.2757 26.0086,13.1843 25.8329,13.1430 25.7427,9.6459 17.0000,0 17,-0.0998 16.9949,-0.2986 16.9750,-0.4944 16.9353,-0.6852 16.8762,-0.8692 16.7984,-1.0444 16.7026,-1.2093 16.5898,-1.3620 16.4610,-1.5011 16.3177,-1.6252 16.1612,-1.7331 15.9930,-1.8236 15.8150,-1.8959 15.6287,-1.9492 15.4362,-1.9830 15.2394,-1.9970 15.0401,-1.9911 14.8404,-1.9652 14.6424,-1.9196 14.4479,-1.8549 14.2589,-1.7716 14.0773,-1.6706 13.9050,-1.5529 13.7436,-1.4196 13.5948,-1.2722 13.4600,-1.1120 13.3406,-1.0289 13.2850,6.3814 8.8387,3.1430 0.7427,3.1104 0.6476,3.0549 0.4545,3.0191 0.2568,3.0033 0.0565,3.0077 -0.1442,3.0323 -0.3436,3.0767 -0.5396,3.1407 -0.7300,3.2234 -0.9131,3.3241 -1.0869,3.4418 -1.2498,3.5752 -1.4000,3.7231 -1.5360,3.8838 -1.6565,4.0559 -1.7602,4.2375 -1.8462,4.4268 -1.9134,4.6219 -1.9613,4.8209 -1.9894,5.0216 -1.9973,5.2221 -1.9850,5.4204 -1.9527,5.6145 -1.9005,5.8023 -1.8292,5.8944 -1.7888,15.0000 2.7639))
SELECT ST_ASTEXT(ST_CENTROID(@buf));
ST_ASTEXT(ST_CENTROID(@buf))
POINT(15.1182 10.7393)
SELECT ST_ASTEXT(ST_CONVEXHULL(@buf));
ST_ASTEXT(ST_CONVEXHULL(@buf))
POLYGON((-0.9995 14.9700,-0.9736 14.7720,4.0248 -0.2213,4.0887 -0.4118,4.1894 -0.5856,4.3228 -0.7358,4.4836 -0.8563,4.6652 -0.9423,4.8603 -0.9902,5.0611 -0.9981,25.0602 -0.9981,25.1396 -0.9902,25.2575 -0.9662,25.3347 -0.9423,25.4445 -0.8957,25.5163 -0.8563,25.6138 -0.7894,25.6771 -0.7358,25.7585 -0.6515,25.8105 -0.5856,25.8730 -0.4876,25.9112 -0.4118,25.9525 -0.3043,30.9146 14.5957,30.9764 14.7842,30.9998 14.9812,30.9838 15.1789,30.9291 15.3696,30.8379 15.5457,30.7137 15.7004,30.5613 15.8275,15.5606 25.8280,15.3864 25.9223,15.1970 25.9803,15 26,14.8029 25.9803,14.6135 25.9223,14.4393 25.8280,-0.5648 15.8251,-0.7176 15.6964,-0.8417 15.5399,-0.9322 15.3618,-0.9855 15.1693,-0.9995 14.9700))
SELECT ST_ASTEXT(ST_ENVELOPE(@buf));
ST_ASTEXT(ST_ENVELOPE(@buf))
POLYGON((-0.9995 -0.9981,30.9998 -0.9981,30.9998 26,-0.9995 26,-0.9995 -0.9981))
SELECT ST_DISTANCE(ST_GEOMFROMTEXT(@star_of_elems),ST_GEOMFROMTEXT(@star_top)) as result;
result
0
SELECT ST_DISTANCE(ST_GEOMFROMTEXT(@star_top),ST_GEOMFROMTEXT(@star_of_elems)) as result;
result
0
######################################################################################################
# BUG#19584838 : ST_SYMDIFFERENCE: ASSERTION FAILED: T1->RESULT_RANGE
######################################################################################################
DO ST_SYMDIFFERENCE(
MULTIPOLYGON(
POLYGON(
LINESTRING(POINT(61, 58), POINT(53, -3), POINT(-91, -19), POINT(61, 58)),
LINESTRING(POINT(-70, -6), POINT(-70, -6)))),
LINESTRING(POINT(27, 6), POINT(19, 15), POINT(78, -36)));
Warnings:
Error	3037	Invalid GIS data provided to function st_symdifference.
SELECT ST_SYMDIFFERENCE(
MULTIPOLYGON(
POLYGON(
LINESTRING(POINT(61, 58), POINT(53, -3), POINT(-91, -19), POINT(61, 58)),
LINESTRING(POINT(-70, -6), POINT(-70, -6)))),
LINESTRING(POINT(27, 6), POINT(19, 15), POINT(78, -36)));
ERROR 22023: Invalid GIS data provided to function st_symdifference.
######################################################################################################
# BUG#18307923 : CRASH IN GCALC_OPERATION_REDUCER::GET_RESULT_THREAD
######################################################################################################
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
LINESTRING(POINT(0,0), POINT(POW(2,32),POW(2,32)), POINT(POW(2,32),70)),
ST_ENVELOPE(
LINESTRING(POINT(POW(2,64),POWER(2,64)), POINT(4294967211,0)))));
ST_ASTEXT(ST_SYMDIFFERENCE(
LINESTRING(POINT(0,0), POINT(POW(2,32),POW(2,32)), POINT(POW(2,32),70)),
ST_ENVELOPE(
LINESTRING(POINT(POW(2,64),POWER(2,64)), POINT(4294967211,0)))))
GEOMETRYCOLLECTION(POLYGON((4294967211 0,1.8446744073709552e19 0,1.8446744073709552e19 1.8446744073709552e19,4294967211 1.8446744073709552e19,4294967211 0)),LINESTRING(0 0,4294967211 4294967211))
######################################################################################################
# BUG#17535294 : ISSIMPLE() PRODUCING WRONG RESULTS W.R.T. SINGLE POINT POLYGON
######################################################################################################
SELECT ST_ISSIMPLE(ST_POLYGONFROMTEXT('POLYGON((1 1, 1 1, 1 1, 1 1, 1 1, 1 1, 1 1, 1 1))'));
ERROR 22023: Invalid GIS data provided to function st_issimple.
SELECT ST_ISSIMPLE(ST_POLYGONFROMTEXT('POLYGON((1 1, 1 1, 1 1, 1 1, 1 1, 1 1, 1 1, 1 1, 1 1))'));
ERROR 22023: Invalid GIS data provided to function st_issimple.
######################################################################################################
# BUG#17507827 : ISSIMPLE() FUNCTION PRODUCING WRONG RESULTS
######################################################################################################
SELECT ST_ISSIMPLE(ST_LINESTRINGFROMTEXT('LINESTRING(0 0,1 0,2 0,2 0, 2 1, 1.5 0)'));
ST_ISSIMPLE(ST_LINESTRINGFROMTEXT('LINESTRING(0 0,1 0,2 0,2 0, 2 1, 1.5 0)'))
0
SELECT ST_ISSIMPLE(ST_LINESTRINGFROMTEXT('LINESTRING(0 0,1 0,2 0,2 0,2 0, 2 1, 1.5 0)'));
ST_ISSIMPLE(ST_LINESTRINGFROMTEXT('LINESTRING(0 0,1 0,2 0,2 0,2 0, 2 1, 1.5 0)'))
0
######################################################################################################
# BUG#17376038 : MULTIPOINT'S PROPERTY OF BEING SIMPLE GEOMETRY, BREACHED
######################################################################################################
SELECT ST_ISSIMPLE(MPOINTFROMWKB(ST_ASWKB(MULTIPOINTFROMTEXT('MULTIPOINT(0 0, 0 0, 1 1, 2 2, 1 1)'))));
ST_ISSIMPLE(MPOINTFROMWKB(ST_ASWKB(MULTIPOINTFROMTEXT('MULTIPOINT(0 0, 0 0, 1 1, 2 2, 1 1)'))))
0
Warnings:
Warning	1287	'MPOINTFROMWKB' is deprecated and will be removed in a future release. Please use ST_MPOINTFROMWKB instead
Warning	1287	'MULTIPOINTFROMTEXT' is deprecated and will be removed in a future release. Please use ST_MULTIPOINTFROMTEXT instead
SELECT ST_ISSIMPLE(MPOINTFROMWKB(ST_ASWKB(MULTIPOINTFROMTEXT('MULTIPOINT(0 0, 0 0, 1 1, 2 2, 1 1)'))));
ST_ISSIMPLE(MPOINTFROMWKB(ST_ASWKB(MULTIPOINTFROMTEXT('MULTIPOINT(0 0, 0 0, 1 1, 2 2, 1 1)'))))
0
Warnings:
Warning	1287	'MPOINTFROMWKB' is deprecated and will be removed in a future release. Please use ST_MPOINTFROMWKB instead
Warning	1287	'MULTIPOINTFROMTEXT' is deprecated and will be removed in a future release. Please use ST_MULTIPOINTFROMTEXT instead
######################################################################################################
# BUG#20402476 : ASSERTION FAILURE IN ITEM_FUNC_SPATIAL_OPERATION::VAL_STR FUNCTION
######################################################################################################
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(-10 -9,-4 -4)'),
ST_GEOMFROMTEXT('MULTIPOINT(2 6,2 6,8 0,6 4,5 9,0 -9,0 -10,9 1,10 8,5 -9)')));
ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(-10 -9,-4 -4)'),
ST_GEOMFROMTEXT('MULTIPOINT(2 6,2 6,8 0,6 4,5 9,0 -9,0 -10,9 1,10 8,5 -9)')))
GEOMETRYCOLLECTION(LINESTRING(-10 -9,-4 -4),MULTIPOINT(2 6,2 6,8 0,6 4,5 9,0 -9,0 -10,9 1,10 8,5 -9))
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTIPOINT(2 6,2 6,8 0,6 4,5 9,0 -9,0 -10,9 1,10 8,5 -9)'),
ST_GEOMFROMTEXT('LINESTRING(-10 -9,-4 -4)')));
ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTIPOINT(2 6,2 6,8 0,6 4,5 9,0 -9,0 -10,9 1,10 8,5 -9)'),
ST_GEOMFROMTEXT('LINESTRING(-10 -9,-4 -4)')))
GEOMETRYCOLLECTION(MULTIPOINT(2 6,2 6,8 0,6 4,5 9,0 -9,0 -10,9 1,10 8,5 -9),LINESTRING(-10 -9,-4 -4))
######################################################################################################
# BUG#20133571 : ASSERTION `GRES->HAS_GEOM_HEADER_SPACE()' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMTEXT('MULTILINESTRING((-10 3,-9 -4,-9 3,-1 3),'
                                      '(3 10,7 9,-7 2,2 -9,7 10,7 8,3 -4,-9 -1,-5 -8,-7 5,4 9,-3 -6,9 1),'
                                      '(4 4,-7 -3,1 -4,-10 -8),(10 6,1 -7),(0 1,1 -10,3 10,2 -10,-6 -2))'),
ST_GEOMFROMTEXT('MULTILINESTRING((-7 1,-5 -2,0 -10,-3 4,8 -10,-6 4,-5 3,9 10,2 10))')));
ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMTEXT('MULTILINESTRING((-10 3,-9 -4,-9 3,-1 3),'
                                      '(3 10,7 9,-7 2,2 -9,7 10,7 8,3 -4,-9 -1,-5 -8,-7 5,4 9,-3 -6,9 1),'
                                      '(4 4,-7 -3,1 -4,-10 -8)
GEOMETRYCOLLECTION(MULTIPOINT(-5 3,-5 3,-2.7857142857142856 3,-2.2142857142857144 3,3 10,-1 -5.333333333333333,3.041666666666667 -5.041666666666666,3.3082437275985663 -4.028673835125448,6.696969696969697 8.848484848484848,7 10,7 9,3.085106382978723 -3.74468085106383,1.6666666666666667 -3.6666666666666665,-1.5283018867924527 -2.867924528301887,-5 -2,-6.2 -0.19999999999999996,3.0869565217391304 7.043478260869565,-0.07224334600760463 0.2737642585551332,-0.7727272727272734 -1.2272727272727266,-1.5314685314685315 -2.8531468531468533,-2.786259541984733 -5.541984732824428,-2.633587786259542 -5.786259541984733,-1.0952380952380953 -4.888888888888889,1.4210526315789478 -3.4210526315789473,2.387755102040816 -2.857142857142857,-0.6666666666666665 1.0303030303030303,-2.1111111111111107 0.11111111111111116,-2.16 0.08000000000000007,-5.127659574468085 -1.8085106382978724,-4.152542372881356 -3.3559322033898304,-1.348623853211009 -3.706422018348624,-1.1204819277108435 -4.771084337349397,-2.8703703703703702 -5.407407407407407,3.174721189591078 -3.858736059479554,2.6363636363636367 -4.636363636363637,0.08411214953271028 0.07476635514018692,0.3 -2.3,1.6363636363636362 -3.6363636363636367,1.7903225806451613 -2.096774193548387,2.6842105263157894 6.842105263157895,3 10,2.8461538461538463 6.923076923076923,2.3589743589743586 -2.8205128205128203,2.2857142857142856 -4.285714285714286,-0.5454545454545454 -7.454545454545455,-3.333333333333333 -4.666666666666666),LINESTRING(7 9,-5 3))
######################################################################################################
# BUG#20120173 : ASSERTION FAILURE WITH GEOMETRY SET OPERATIONS IN ITEM_GEOFUNC.CC FILE
######################################################################################################
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POLYGON((0 0,0 4,0 8,0 0))'), ST_GEOMFROMTEXT('POINT(0 0)')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POINT(0 0)'), ST_GEOMFROMTEXT('POLYGON((0 0,0 4,0 8,0 0))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POLYGON((0 0,0 4,0 8,0 0))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'), ST_GEOMFROMTEXT('POLYGON((0 0,0 4,0 8,0 0))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POLYGON((0 0))'), ST_GEOMFROMTEXT('POINT(0 0)')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POINT(0 0)'), ST_GEOMFROMTEXT('POLYGON((0 0))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POLYGON((0 0))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'), ST_GEOMFROMTEXT('POLYGON((0 0))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 4,0 8,0 0)))'), ST_GEOMFROMTEXT('POINT(0 0)')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POINT(0 0)'), ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 4,0 8,0 0)))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 4,0 8,0 0)))'), ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'), ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 4,0 8,0 0)))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
######################################################################################################
# BUG#20142402 : ASSERTION FAILURE IN GIS_GEOMETRY_COLLECTION::APPEND_GEOMETRY FUNCTION
######################################################################################################
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(6 -6,4 -2,5 -1,1 1,-10 10,-1 -10,-8 8,-4 -9,-4 -3,1 -9,5 -2,-4 0,3 5,0 -5)'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                            'MULTIPOLYGON(((0 2,-5 -9,7 1,-10 2,-7 1,6 0,0 -4)),'
                                         '((-6 1,-5 8,-1 -3,-7 -6,-2 -8))),'
                            'GEOMETRYCOLLECTION('
                                  'MULTIPOLYGON(((3 8,-6 -2,-9 8,2 4,-10 -9,1 -1,8 7,-8 3,1 -1,-8 10,-2 -7,-1 -10,-8 -8,-7 3)),'
                                               '((-3 -2,3 -1,-8 -7,-3 5,-10 5,-6 3,8 3,4 -5,-5 10,0 9,-3 2,9 -1,-1 -6,7 -2)),'
                                               '((3 -9,4 1,-5 5,-9 6,-8 4)),((-10 10,-10 1,-3 -2)),'
                                               '((3 -7,-1 2,-8 -2,9 -6,0 5,-1 -2,-4 -8,2 -6,-5 -10,-1 4))),'
                                  'MULTILINESTRING((4 -7,10 -4,3 4,-9 -9,3 -2,-6 -4,4 10,-3 -3,-1 6,-5 -2,1 0,-1 -9,-8 9,-4 9,-3 -2),'
                                                  '(-5 -7,-3 9,-6 -8,-3 0,-4 0,8 7,-4 9,-4 -6,-7 -9,9 6,10 -1)),'
                                  'GEOMETRYCOLLECTION(),'
                                  'POLYGON((2 -7,-2 -7,-2 2,-5 -6)),'
                                  'LINESTRING(-3 -7,-8 -3),'
                                  'GEOMETRYCOLLECTION(),'
                                  'LINESTRING(-3 -7,-8 -3)),'
                            'GEOMETRYCOLLECTION('
                                  'MULTIPOLYGON(((-10 8,10 -3,-3 5,-5 -10,10 -9,-8 4,5 -10,1 -8,3 -1,-10 10,-4 -6,-9 -8,-9 -5,2 2)),'
                                               '((8 10,4 8,1 5,0 -7,6 8,-3 -1,-2 7)),'
                                               '((-1 -8,10 -10,4 4,7 0,2 7,-2 0,6 -6,-8 5,-1 -5,2 6,10 -8,5 -2,8 5,-4 4,0 -2)),'
                                               '((6 -4,7 10,-8 0,-6 -2,7 -3,7 -5,8 -9,-9 9)),'
                                               '((-4 -2,1 -8,-5 -2,1 7,-10 -5,-8 4,-2 8,-8 1))),'
                                  'MULTILINESTRING((0 -8,-5 4,-3 -6),'
                                                  '(-1 6,7 -10,8 4,10 9),'
                                                  '(-4 9,0 8,-5 6,7 7,-2 0),'
                                                  '(-10 4,-7 -8,-4 9,-6 5,-9 7,10 -2,7 10,0 3,2 -10,-3 9,-6 4)),'
                                  'POINT(10 -10),'
                                  'POINT(10 -10),'
                                  'MULTIPOINT(3 9,1 -3,-7 -1,8 -3),'
                                  'MULTILINESTRING((0 -8,-5 4,-3 -6),'
                                                  '(-1 6,7 -10,8 4,10 9),'
                                                  '(-4 9,0 8,-5 6,7 7,-2 0),'
                                                  '(-10 4,-7 -8,-4 9,-6 5,-9 7,10 -2,7 10,0 3,2 -10,-3 9,-6 4))),'
                            'MULTILINESTRING((-3 -1,-8 -5,4 10),'
                                            '(-5 10,-5 -9,4 0,8 3,5 9)),'
                            'MULTIPOINT(0 -2,9 2,-6 0,8 -5,1 -2,8 0,9 6,-9 1,-5 -6,1 9,-6 -5,4 3,-2 -6))')));
ERROR HY000: Geometry overlay calculation error: geometry data is invalid in function st_symdifference.
######################################################################################################
# BUG#20415950 : WL#7225 : ASSERTION FAILURE IN ITEM_GEOFUNC_SETOPS.CC FILE
######################################################################################################
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT('MULTIPOLYGON(((2 -6,10 -4,1 8)),'
                                                              '((-3 1,-7 2,3 -6,-1 2,3 8,-5 9,-10 9,9 9,4 4,-2 2,-5 8)))'),
ST_GEOMFROMTEXT('LINESTRING(-9 -6,7 -3,0 -5,-4 -9,-5 7,-7 7,8 -4,0 0,-5 2,2 8,1 -8,-5 3,-3 -9,-8 -2)')));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT('LINESTRING(-9 -6,7 -3,0 -5,-4 -9,-5 7,-7 7,8 -4,0 0,-5 2,2 8,1 -8,-5 3,-3 -9,-8 -2)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((2 -6,10 -4,1 8)),'
                                                 '((-3 1,-7 2,3 -6,-1 2,3 8,-5 9,-10 9,9 9,4 4,-2 2,-5 8)))')));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT('MULTIPOLYGON(((2 -6,10 -4,1 8)),'
                                                              '((-3 1,-7 2,3 -6,-1 2,3 8,-5 9,-10 9,9 9,4 4,-2 2,-5 8)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                                                       'LINESTRING(-9 -6,7 -3,0 -5,-4 -9,-5 7,-7 7,8 -4,0 0,-5 2,2 8,1 -8,-5 3,-3 -9,-8 -2)')));
ERROR 22023: Invalid GIS data provided to function st_geometryfromtext.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                                                       'LINESTRING(-9 -6,7 -3,0 -5,-4 -9,-5 7,-7 7,8 -4,0 0,-5 2,2 8,1 -8,-5 3,-3 -9,-8 -2)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((2 -6,10 -4,1 8)),'
                                                              '((-3 1,-7 2,3 -6,-1 2,3 8,-5 9,-10 9,9 9,4 4,-2 2,-5 8)))')));
ERROR 22023: Invalid GIS data provided to function st_geometryfromtext.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('MULTIPOLYGON(((7 0,-0.7654 0,-.3 -0.7654,-3 -2,0 7,8 3,7 0)))'))),
ST_GEOMFROMWKB(POLYGON(LINESTRING(POINT(4,9), POINT(0,2), POINT(-9.9,5), POINT(2.3,6), POINT(5,4), POINT(4,9)),
LINESTRING(POINT(3,2), POINT(5,-.3), POINT(3,2)),
LINESTRING(POINT(9,2), POINT(2.0,6), POINT(9,2))))));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(POLYGON(LINESTRING(POINT(4,9), POINT(0,2), POINT(-9.9,5), POINT(2.3,6), POINT(5,4), POINT(4,9)),
LINESTRING(POINT(3,2), POINT(5,-.3), POINT(3,2)),
LINESTRING(POINT(9,2), POINT(2.0,6), POINT(9,2)))),
ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('MULTIPOLYGON(((7 0,-0.7654 0,-.3 -0.7654,-3 -2,0 7,8 3,7 0)))')))));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('MULTIPOLYGON(((7 0,-0.7654 0,-.3 -0.7654,-3 -2,0 7,8 3,7 0)))'))),
ST_GEOMFROMWKB(GEOMETRYCOLLECTION(
POLYGON(LINESTRING(POINT(4,9), POINT(0,2), POINT(-9.9,5), POINT(2.3,6), POINT(5,4), POINT(4,9)),
LINESTRING(POINT(3,2), POINT(5,-.3), POINT(3,2)),
LINESTRING(POINT(9,2), POINT(2.0,6), POINT(9,2)))))));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(GEOMETRYCOLLECTION(
POLYGON(LINESTRING(POINT(4,9), POINT(0,2), POINT(-9.9,5), POINT(2.3,6), POINT(5,4), POINT(4,9)),
LINESTRING(POINT(3,2), POINT(5,-.3), POINT(3,2)),
LINESTRING(POINT(9,2), POINT(2.0,6), POINT(9,2))))),
ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('MULTIPOLYGON(((7 0,-0.7654 0,-.3 -0.7654,-3 -2,0 7,8 3,7 0))))')))));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(MULTIPOLYGON(
POLYGON(LINESTRING(POINT(5,3), POINT(+.5,7), POINT(5,3))),
POLYGON(LINESTRING(POINT(2,4), POINT(-.0,0), POINT(1,2), POINT(2,+.2),POINT(1,4),POINT(2,4)))),10),
ST_GEOMFROMWKB(POINT(5,8),10)));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(POINT(5,8),10),
ST_GEOMFROMWKB(MULTIPOLYGON(
POLYGON(LINESTRING(POINT(5,3), POINT(+.5,7), POINT(5,3))),
POLYGON(LINESTRING(POINT(2,4),POINT(-.0,0), POINT(1,2), POINT(2,+.2), POINT(1,4), POINT(2,4)))),10)));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(MULTIPOLYGON(
POLYGON(LINESTRING(POINT(5,3), POINT(+.5,7), POINT(5,3))),
POLYGON(LINESTRING(POINT(2,4), POINT(-.0,0), POINT(1,2), POINT(2,+.2),POINT(1,4),POINT(2,4)))),10),
ST_GEOMFROMWKB(GEOMETRYCOLLECTION(POINT(5,8),10))));
ERROR 22007: Illegal non geometric '10' value found during parsing
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(GEOMETRYCOLLECTION(POINT(5,8),10)),
ST_GEOMFROMWKB(MULTIPOLYGON(
POLYGON(LINESTRING(POINT(5,3), POINT(+.5,7), POINT(5,3))),
POLYGON(LINESTRING(POINT(2,4), POINT(-.0,0), POINT(1,2), POINT(2,+.2), POINT(1,4), POINT(2,4)))),10)));
ERROR 22007: Illegal non geometric '10' value found during parsing
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('MULTILINESTRING((9 2,8 -7,1 -7))'), ST_GEOMFROMTEXT('POINT(-6 8)')));
ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('MULTILINESTRING((9 2,8 -7,1 -7))'), ST_GEOMFROMTEXT('POINT(-6 8)')))
GEOMETRYCOLLECTION(MULTILINESTRING((9 2,8 -7,1 -7)),POINT(-6 8))
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('POINT(-6 8)'), ST_GEOMFROMTEXT('MULTILINESTRING((9 2,8 -7,1 -7))')));
ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('POINT(-6 8)'), ST_GEOMFROMTEXT('MULTILINESTRING((9 2,8 -7,1 -7))')))
GEOMETRYCOLLECTION(POINT(-6 8),MULTILINESTRING((9 2,8 -7,1 -7)))
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('POINT(7 10)'), ST_GEOMFROMTEXT('MULTILINESTRING((7 6,3 -4))')));
ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('POINT(7 10)'), ST_GEOMFROMTEXT('MULTILINESTRING((7 6,3 -4))')))
GEOMETRYCOLLECTION(POINT(7 10),MULTILINESTRING((7 6,3 -4)))
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('MULTILINESTRING((7 6,3 -4))'), ST_GEOMFROMTEXT('POINT(7 10)')));
ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('MULTILINESTRING((7 6,3 -4))'), ST_GEOMFROMTEXT('POINT(7 10)')))
GEOMETRYCOLLECTION(MULTILINESTRING((7 6,3 -4)),POINT(7 10))
SELECT ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((-8 -1,-6 -4,-5 10,-7 2,-4 -9,10 4,-2 -7,-4 -10)),'
                        '((-9 -8,3 -4,3 -3,-4 10,7 1,2 -10,-1 -1,-2 -9,-1 8,2 -7,-10 10,-10 4,-10 8,-6 -3,-3 4)))'),
ST_GEOMFROMTEXT(
'MULTIPOINT(1 -3,7 0,-2 0,-3 -6,-6 0,3 -7,-9 0)')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT(
'MULTIPOINT(1 -3,7 0,-2 0,-3 -6,-6 0,3 -7,-9 0)'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((-8 -1,-6 -4,-5 10,-7 2,-4 -9,10 4,-2 -7,-4 -10)),'
                         '((-9 -8,3 -4,3 -3,-4 10,7 1,2 -10,-1 -1,-2 -9,-1 8,2 -7,-10 10,-10 4,-10 8,-6 -3,-3 4)))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((-8 -1,-6 -4,-5 10,-7 2,-4 -9,10 4,-2 -7,-4 -10)),'
                         '((-9 -8,3 -4,3 -3,-4 10,7 1,2 -10,-1 -1,-2 -9,-1 8,2 -7,-10 10,-10 4,-10 8,-6 -3,-3 4)))'),
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(MULTIPOINT(1 -3,7 0,-2 0,-3 -6,-6 0,3 -7,-9 0))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(MULTIPOINT(1 -3,7 0,-2 0,-3 -6,-6 0,3 -7,-9 0))'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((-8 -1,-6 -4,-5 10,-7 2,-4 -9,10 4,-2 -7,-4 -10)),'
                         '((-9 -8,3 -4,3 -3,-4 10,7 1,2 -10,-1 -1,-2 -9,-1 8,2 -7,-10 10,-10 4,-10 8,-6 -3,-3 4)))')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('MULTIPOLYGON(((1 5,-2 2,0 4,-9 10,5 2,-3 3)))'), ST_GEOMFROMTEXT('POLYGON((-6 -4,4 4,5 -5,-7 5,-8 2,6 -5))')));
ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('MULTIPOLYGON(((1 5,-2 2,0 4,-9 10,5 2,-3 3)))'), ST_GEOMFROMTEXT('POLYGON((-6 -4,4 4,5 -5,-7 5,-8 2,6 -5))')))
MULTIPOLYGON(((6 -5,4.990654205607477 -4.91588785046729,4.9411764705882355 -4.470588235294118,6 -5)),((5 -5,4.888888888888889 -4.907407407407407,4.990654205607477 -4.91588785046729,5 -5)),((4.888888888888889 -4.907407407407407,-6 -4,-2.1538461538461537 -0.9230769230769229,3.4999999999999996 -3.75,4.888888888888889 -4.907407407407407)),((4.9411764705882355 -4.470588235294118,3.4999999999999996 -3.75,-1 0,1.972972972972973 2.3783783783783785,-1.2222222222222223 2.7777777777777777,0.5454545454545454 4.545454545454545,2.9583333333333335 3.1666666666666665,4 4,4.169491525423729 2.4745762711864407,5 2,4.211267605633803 2.0985915492957745,4.9411764705882355 -4.470588235294118)),((-2.1538461538461537 -0.9230769230769229,-8 2,-7 5,-1 0,-2.1538461538461537 -0.9230769230769229)),((-1.2222222222222223 2.7777777777777777,-3 3,-0.4285714285714286 4.285714285714286,0 4,-1.2222222222222223 2.7777777777777777)),((-0.4285714285714286 4.285714285714286,-9 10,0.33333333333333326 4.666666666666667,-0.4285714285714286 4.285714285714286)),((0.5454545454545454 4.545454545454545,0.33333333333333326 4.666666666666667,1 5,0.5454545454545454 4.545454545454545)))
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POLYGON((-6 -4,4 4,5 -5,-7 5,-8 2,6 -5))'), ST_GEOMFROMTEXT('MULTIPOLYGON(((1 5,-2 2,0 4,-9 10,5 2,-3 3)))')));
ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POLYGON((-6 -4,4 4,5 -5,-7 5,-8 2,6 -5))'), ST_GEOMFROMTEXT('MULTIPOLYGON(((1 5,-2 2,0 4,-9 10,5 2,-3 3)))')))
MULTIPOLYGON(((6 -5,4.990654205607477 -4.91588785046729,4.9411764705882355 -4.470588235294118,6 -5)),((5 -5,4.888888888888889 -4.907407407407407,4.990654205607477 -4.91588785046729,5 -5)),((4.888888888888889 -4.907407407407407,-6 -4,-2.1538461538461537 -0.9230769230769229,3.4999999999999996 -3.75,4.888888888888889 -4.907407407407407)),((4.9411764705882355 -4.470588235294118,3.4999999999999996 -3.75,-1 0,1.972972972972973 2.3783783783783785,-1.2222222222222223 2.7777777777777777,0.5454545454545454 4.545454545454545,2.9583333333333335 3.1666666666666665,4 4,4.169491525423729 2.4745762711864407,5 2,4.211267605633803 2.0985915492957745,4.9411764705882355 -4.470588235294118)),((-2.1538461538461537 -0.9230769230769229,-8 2,-7 5,-1 0,-2.1538461538461537 -0.9230769230769229)),((-1.2222222222222223 2.7777777777777777,-3 3,-0.4285714285714286 4.285714285714286,0 4,-1.2222222222222223 2.7777777777777777)),((-0.4285714285714286 4.285714285714286,-9 10,0.33333333333333326 4.666666666666667,-0.4285714285714286 4.285714285714286)),((0.5454545454545454 4.545454545454545,0.33333333333333326 4.666666666666667,1 5,0.5454545454545454 4.545454545454545)))
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('MULTIPOLYGON(((1 5,-2 2,0 4,-9 10,5 2,-3 3)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((-6 -4,4 4,5 -5,-7 5,-8 2,6 -5)))')));
ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('MULTIPOLYGON(((1 5,-2 2,0 4,-9 10,5 2,-3 3)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((-6 -4,4 4,5 -5,-7 5,-8 2,6 -5)))')))
MULTIPOLYGON(((6 -5,4.990654205607477 -4.91588785046729,4.9411764705882355 -4.470588235294118,6 -5)),((5 -5,4.888888888888889 -4.907407407407407,4.990654205607477 -4.91588785046729,5 -5)),((4.888888888888889 -4.907407407407407,-6 -4,-2.1538461538461537 -0.9230769230769229,3.4999999999999996 -3.75,4.888888888888889 -4.907407407407407)),((4.9411764705882355 -4.470588235294118,3.4999999999999996 -3.75,-1 0,1.972972972972973 2.3783783783783785,-1.2222222222222223 2.7777777777777777,0 4,0.5454545454545454 4.545454545454545,2.9583333333333335 3.1666666666666665,4 4,4.169491525423729 2.4745762711864407,5 2,4.211267605633803 2.0985915492957745,4.9411764705882355 -4.470588235294118)),((-2.1538461538461537 -0.9230769230769229,-8 2,-7 5,-1 0,-2.1538461538461537 -0.9230769230769229)),((-1.2222222222222223 2.7777777777777777,-3 3,-0.4285714285714286 4.285714285714286,0 4,-1.2222222222222223 2.7777777777777777)),((-0.4285714285714286 4.285714285714286,-9 10,0.33333333333333326 4.666666666666667,-0.4285714285714286 4.285714285714286)),((0.5454545454545454 4.545454545454545,0.33333333333333326 4.666666666666667,1 5,0.5454545454545454 4.545454545454545)))
SELECT ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((-6 -4,4 4,5 -5,-7 5,-8 2,6 -5)))'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((1 5,-2 2,0 4,-9 10,5 2,-3 3)))')));
ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((-6 -4,4 4,5 -5,-7 5,-8 2,6 -5)))'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((1 5,-2 2,0 4,-9 10,5 2,-3 3)))')))
MULTIPOLYGON(((6 -5,4.990654205607477 -4.91588785046729,4.9411764705882355 -4.470588235294118,6 -5)),((5 -5,4.888888888888889 -4.907407407407407,4.990654205607477 -4.91588785046729,5 -5)),((4.888888888888889 -4.907407407407407,-6 -4,-2.1538461538461537 -0.9230769230769229,3.4999999999999996 -3.75,4.888888888888889 -4.907407407407407)),((4.9411764705882355 -4.470588235294118,3.4999999999999996 -3.75,-1 0,1.972972972972973 2.3783783783783785,-1.2222222222222223 2.7777777777777777,0 4,0.5454545454545454 4.545454545454545,2.9583333333333335 3.1666666666666665,4 4,4.169491525423729 2.4745762711864407,5 2,4.211267605633803 2.0985915492957745,4.9411764705882355 -4.470588235294118)),((-2.1538461538461537 -0.9230769230769229,-8 2,-7 5,-1 0,-2.1538461538461537 -0.9230769230769229)),((-1.2222222222222223 2.7777777777777777,-3 3,-0.4285714285714286 4.285714285714286,0 4,-1.2222222222222223 2.7777777777777777)),((-0.4285714285714286 4.285714285714286,-9 10,0.33333333333333326 4.666666666666667,-0.4285714285714286 4.285714285714286)),((0.5454545454545454 4.545454545454545,0.33333333333333326 4.666666666666667,1 5,0.5454545454545454 4.545454545454545)))
######################################################################################################
# BUG#20420721 : WL#7225 : ASSERTION FAILURE WITH SET OPERATIONS IN ITEM_GEOFUNC_SETOPS.CC FILE
######################################################################################################
SELECT ST_ASTEXT(
ST_INTERSECTION(
ST_GEOMFROMWKB(
POLYGON(LINESTRING(POINT(3,4),POINT(1,9),POINT(3,4)),
LINESTRING(POINT(5,1),POINT(1,6),POINT(2,3),POINT(2,3),POINT(2,9),POINT(0,1),POINT(4,4),POINT(5,1)),
LINESTRING(POINT(7,3),POINT(8,3),POINT(4,4),POINT(3,8),POINT(4.2,9),POINT(6,4),POINT(8,8),POINT(-.7,1),POINT(7,3)))),
ST_GEOMFROMWKB(POINT(5,+.1))));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                        'LINESTRING(8 -2,-2 -10,8 5),'
                        'MULTIPOINT(7 -6,9 1,-4 2,1 -8,-7 -4,1 0,5 0,-3 -8,-6 0,-6 2,5 -6,1 2,4 8,-5 -7),'
                        'POINT(5 2))'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((5 -1,-2 7,-9 6,-4 2,4 -7,-2 1,9 2,-7 9,6 0,8 0,-5 -9,-8 2,-6 4,10 2)))')));
ST_ASTEXT(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                        'LINESTRING(8 -2,-2 -10,8 5),'
                        'MULTIPOINT(7 -6,9 1,-4 2,1 -8,-7 -4,1 0,5 0,-3 -8,-6 0,-6 2,5 -6,1 2,4 8,-5 -7),'
                        '
GEOMETRYCOLLECTION(LINESTRING(8 -2,-2 -10,8 5),MULTIPOINT(-7 -4,-3 -8,1 -8,1 2,4 8,5 -6,7 -6,9 1),POINT(5 2),MULTIPOLYGON(((5 -1,-2 7,-9 6,-4 2,4 -7,-2 1,9 2,-7 9,6 0,8 0,-5 -9,-8 2,-6 4,10 2,5 -1))))
SELECT ST_ASTEXT(
ST_INTERSECTION(
ST_GEOMFROMWKB(
MULTIPOLYGON(
POLYGON(LINESTRING(POINT(2,2),POINT(6,0),POINT(2,2)),
LINESTRING(POINT(4,8),POINT(9,4),POINT(7,-.7),POINT(4,7),POINT(4,8))))),
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT('MULTIPOINT(1 189.7654,41,-1032.34324 9,6.4 1,4 9)')))));
ERROR 22023: Invalid GIS data provided to function st_geometryfromtext.
SELECT ST_ASTEXT(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                        'GEOMETRYCOLLECTION(),'
                        'MULTIPOINT(-5 -2,7 -4,5 -10,4 1,6 -3,-2 4,6 9),'
                        'LINESTRING(8 4,0 -10,-10 10,-2 -9),'
                        'MULTILINESTRING((-3 1,-8 -7,-6 1,-7 0,-9 10,-3 -9,4 6,8 5),'
                                        '(7 -10,-10 10,-9 7,-8 9,-5 -8,-3 3,10 -1,8 1,-3 -7),'
                                        '(10 10,10 -2,-1 -10,-2 -2,-1 -1,-4 8,-9 9,-6 -9,10 -7,-4 5,8 9)))'),
ST_GEOMFROMTEXT(
'MULTIPOLYGON(((8 2,8 10,1 10)),'
                               '((-10 9,1 -5,7 10,8 -6,7 -9,5 5,-8 -3,10 -6,6 -2)))')));
ST_ASTEXT(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                        'GEOMETRYCOLLECTION(),'
                        'MULTIPOINT(-5 -2,7 -4,5 -10,4 1,6 -3,-2 4,6 9),'
                        'LINESTRING(8 4,0 -10,-10 10,-2 -9),'
   
GEOMETRYCOLLECTION(MULTIPOINT(-2 4,4 1,5 -10,7 -4),LINESTRING(7.3086419753086425 2.7901234567901234,0 -10,-10 10,-2 -9),MULTILINESTRING((-3.3164556962025316 0.49367088607594933,-8 -7,-6 1,-7 0,-9 10,-3 -9,-0.7628865979381443 -4.206185567010309),(-0.33840304182509495 -3.296577946768061,4 6,8 5),(7 -10,-10 10,-9 7,-8 9,-5 -8,-3 3,7.642156862745098 -0.27450980392156854),(7.581521739130435 0.6956521739130435,-3 -7),(7.8478260869565215 -3.5652173913043477,7.684210526315789 -3.6842105263157894),(6.376470588235295 -4.635294117647058,-1 -10,-2 -2,-1.6400000000000001 -1.6400000000000001),(-1 -1,-4 8,-9 9,-6 -9),(6.771929824561404 -7.4035087719298245,10 -7,8.551724137931034 -5.758620689655173),(9.5 9.5,8 9)),MULTIPOLYGON(((8 2,8 10,1 10,8 2)),((-10 9,1 -5,7 10,8 -6,7 -9,5 5,-8 -3,10 -6,6 -2,-10 9))))
SELECT ST_ASTEXT(
ST_INTERSECTION(
ST_GEOMFROMTEXT('MULTIPOLYGON(((2 9,-2 9,-3 -5)),((-10 6,1 6,3 -4,-1 6)))'),
ST_GEOMFROMTEXT('MULTIPOINT(8 -2,-2 -5,9 -9,-4 -10,-9 -4,10 -3,9 10,-1 -5,-3 3)')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTIPOLYGON(((-2 3,3 2,-7 4,-8 -4,-8 8,4 3,-10 -4,0 6,-4 7,-9 3,-6 0,-1 -8,-5 -3,2 -6,-7 -7)),'
                                         '((-8 -9,-4 7,-5 5,6 -9,-6 -4,-1 6,-7 8,-2 0,1 -4,-9 -5,2 -3,0 6,8 -6)),'
                                         '((-4 -5,-10 8,-1 -1,-5 -7,-5 5,0 6,10 1,6 -9,8 -4,6 7,-10 2,10 -8,0 -7)),'
                                         '((4 -9,7 -5,3 -6)),'
                                         '((-8 -4,5 4,-3 8,-10 -2,-3 -3,5 -8,9 -8,3 7,8 -1,8 4)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                                  'LINESTRING(0 1,8 -9,-1 0,-9 -3,-9 10,-9 2,1 -4,-6 1,1 9,-9 -6,5 -7,3 10,2 -1,8 -4),'
                                  'POINT(4 8))')));
ST_ASTEXT(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTIPOLYGON(((-2 3,3 2,-7 4,-8 -4,-8 8,4 3,-10 -4,0 6,-4 7,-9 3,-6 0,-1 -8,-5 -3,2 -6,-7 -7)),'
                                         '((-8 -9,-4 7,-5 5,6 -9,-6 -4,-1 6,-7 8,-2 0,1 -4,-9 -5,2 -3,0 6,8 -6))
GEOMETRYCOLLECTION(MULTIPOLYGON(((-2 3,-7 -7,2 -6,-5 -3,-1 -8,-6 0,-9 3,-4 7,0 6,-10 -4,4 3,-8 8,-8 -4,-7 4,3 2,-2 3)),((-8 -9,8 -6,0 6,2 -3,-9 -5,1 -4,-2 0,-7 8,-1 6,-6 -4,6 -9,-5 5,-4 7,-8 -9)),((-4 -5,-10 8,-1 -1,-5 -7,-5 5,0 6,10 1,6 -9,8 -4,6 7,-10 2,10 -8,0 -7,-4 -5)),((4 -9,7 -5,3 -6,4 -9)),((-8 -4,5 4,-3 8,-10 -2,-3 -3,5 -8,9 -8,3 7,8 -1,8 4,-8 -4))),MULTILINESTRING((0 1,0.5714285714285714 0.2857142857142857),(7.2 -8,8 -9,7 -8),(6.666666666666667 -7.666666666666667,6.571428571428571 -7.571428571428571),(4.6 -5.6,4 -5),(2 -3,-1 0,-1.7804878048780488 -0.2926829268292683),(-3.857142857142857 -1.0714285714285714,-5 -1.5),(1 -4,-1.3333333333333335 -2.333333333333333),(-1.7096774193548385 -2.064516129032258,-6 1,1 9,-5 0),(-5.25 -0.375,-7.5 -3.75),(-8.241379310344827 -4.862068965517241,-9 -6,5 -7,3 10,2 -1),(7.25 -3.625,8 -4)),POINT(4 8))
SELECT ST_ASTEXT(
ST_INTERSECTION(
ST_GEOMFROMTEXT('MULTILINESTRING((3 -.7),(4 -1032.34324),(2 1,8 7),(7 5,-4 8,2.2 8,2 8,6 7))'),
ST_GEOMFROMTEXT('POLYGON((5 2,+.1 0,5 2))')));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(
ST_INTERSECTION(
ST_GEOMFROMTEXT('POLYGON((5 3,6 7,-2.0 4,0 1,7 -0,5 3),(5 6,9 5,5 6))',10),ST_GEOMFROMTEXT('POINT(8 9)',10)));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(
ST_UNION(
ST_GEOMFROMWKB(POLYGON(LINESTRING(POINT(9,0),POINT(7,1),POINT(9,0)))),
ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('MULTIPOINT(8 9,-9.9 6,7 8,7 5,1 -4)')))));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
DO (SELECT ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                                                            'POINT(-6 -5),'
                                                            'LINESTRING(-6 -5,-6 -3,4 0,2 -7,-10 -3,0 -5,-10 -3,0 8,-6 -2,6 -9))'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((9 -3,-7 9,5 -7)),((-7 9,8 -5,3 7,-3 -9,-4 -10,-1 9,-3 4,-4 10,1 5,0 3)))'))));
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMWKB(
MULTIPOLYGON(
POLYGON(
LINESTRING(POINT(1,5),POINT(-.1,6),POINT(6.9,2),POINT(1,5),POINT(9,-8.8),POINT(4,9),POINT(7,8),POINT(1,5)),
LINESTRING(POINT(2,2),POINT(0,-.3),POINT(2,2)),
LINESTRING(POINT(6,1),POINT(4,0.4),POINT(4,9),POINT(2,8),POINT(8,4),POINT(-9.8,-2.4),POINT(9.9,6),
POINT(1,7),POINT(7,6),POINT(6,0),POINT(6,1)))),10),
ST_GEOMFROMWKB(
MULTILINESTRING(
LINESTRING(POINT(1,2),POINT(3,8),POINT(2,9),POINT(7,+.5)),
LINESTRING(POINT(2,0),POINT(9,6),POINT(7,4),POINT(.1,7),POINT(3,2),POINT(2.4,2),POINT(-1.1,5)),
LINESTRING(POINT(8,5.1),POINT(-7.2,5),POINT(-.6,-.7),POINT(5,8),POINT(-4.0,4),POINT(9,4),POINT(2,7),POINT(7,7),POINT(3,8),POINT(2,3),
POINT(8.8,7),POINT(.9,8),POINT(3,1),POINT(1,9),POINT(5,4),POINT(4,0),POINT(4,9),POINT(2,0),POINT(6,6)),
LINESTRING(POINT(8,8),POINT(+.8,+.1),POINT(+.6,-3.1),POINT(8,0),POINT(5,8),POINT(4,9),POINT(9,6)),
LINESTRING(POINT(1,7),POINT(7,7),POINT(0,4),POINT(5,8)),
LINESTRING(POINT(-.6,6)),
LINESTRING(POINT(7,3),POINT(3,0),POINT(2,8),POINT(7,3),POINT(7,2),POINT(0,5),POINT(9,0))),10)));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMWKB(
POLYGON(
LINESTRING(POINT(6,3),POINT(6,8),POINT(6,3)),
LINESTRING(POINT(9,3),POINT(0,-.1),POINT(8,2),POINT(2.4,1),POINT(9,2),POINT(8,1.9),POINT(1,0),
POINT(5,9),POINT(8.1,-.5),POINT(0,-4.3),POINT(8,3),POINT(9,3)))),
ST_GEOMFROMTEXT('POINT(0 +.3)')));
ERROR 22023: Invalid GIS data provided to function st_disjoint.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(POLYGON(LINESTRING(POINT(2,8),POINT(2,5),POINT(2,8))),10),
ST_GEOMFROMTEXT('LINESTRING(6 6,-8 9,-4 4,1 2)',10)));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMWKB(
POLYGON(
LINESTRING(POINT(6,7),POINT(+.3,1),POINT(6,7)))),
ST_GEOMFROMWKB(
LINESTRING(POINT(3,5),POINT(3,9),POINT(-2.5,-3.9),POINT(9,8),POINT(5,0),POINT(3,1),POINT(+.3,1.9),POINT(-.3,9),POINT(0,-3.3)))));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('MULTILINESTRING((5 7,0.8 2,9 3,5 7),(5 3,-3 1))'))),
ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('POLYGON((1 5,+.8 -0.7654,1 5))')))));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('POLYGON((0 4,-8 -1,1 9))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                            'GEOMETRYCOLLECTION(),'
                            'GEOMETRYCOLLECTION(),'
                            'MULTIPOINT(-7 -6,-6 -3,5 -1,-8 7,-5 -4,-3 7,7 -7,7 -8,5 -1),'
                            'MULTIPOLYGON(((10 -1,-10 -8,-5 9))),'
                            'MULTILINESTRING((1 -8,1 -4,-10 -8,-4 5,-4 0,-10 5,6 0,6 3,5 7,10 -8,-4 -3,-8 4,-7 6,-5 -7),'
                                            '(10 9,4 4,-2 6,8 4,-4 1,2 3,-7 8,-6 -3,3 8,-7 -10,-10 -1,-5 -7,2 1,-10 5)),'
                            'POLYGON((0 7,-3 4,-7 6,-6 9,2 -10)),'
                            'GEOMETRYCOLLECTION('
                                'MULTILINESTRING((3 10,-1 -2,8 4,-1 5,-6 0,9 0,-6 -2,8 9),'
                                                '(-4 -8,-4 -7,-2 7,8 -6,-2 -9,-6 -8,-7 -2,-7 6),'
                                                '(-4 0,1 10,4 3,-4 0,7 -1,-1 5,5 -8,5 1,5 -6),'
                                                '(-9 10,-4 1,-5 3,-6 6,-5 9,4 9,10 5,5 0),'
                                                '(4 10,3 -5,-1 5,-8 -3,0 -5,-7 5,3 0,3 -10,-7 0,5 1,1 5,3 -4,-10 7,-1 10,-8 0))),'
                            'MULTILINESTRING((-6 2,5 4,9 1,9 9)),'
                            'MULTILINESTRING((6 -5,-3 3,-6 8,9 -7,3 10,-9 -9,1 2,8 -9),'
                                            '(5 -10,6 -10,9 10,-1 -5,-8 4,-7 1,8 1,-2 9,3 5,-10 3,6 5,-9 7,-7 -7,-2 2,1 5),'
                                            '(-6 0,10 -1,2 4,9 3,1 -5),(6 8,-10 1,-3 3,10 6)),POINT(-3 0))')));
ERROR HY000: Geometry overlay calculation error: geometry data is invalid in function st_symdifference.
SELECT ST_ASTEXT(
ST_INTERSECTION(
ST_GEOMFROMWKB(ST_ASWKB(ST_GEOMFROMTEXT('POLYGON((1 3,+.5 -1032.34324,1 3))')),10),
ST_GEOMFROMWKB(GEOMETRYCOLLECTION(POINT(2,.1),
LINESTRING(POINT(4,7),POINT(3,5),POINT(-5.1,7),POINT(5,-3.6)),
LINESTRING(POINT(6,3),POINT(5,3),POINT(0,1),POINT(8,7))),10)));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(
ST_INTERSECTION(
ST_GEOMFROMWKB(
POLYGON(
LINESTRING(POINT(4,6),POINT(9,9),POINT(2,0),POINT(4,4),POINT(4,6)),
LINESTRING(POINT(7,5),POINT(4,2),POINT(4,5),POINT(-.8,5),POINT(7,5)),
LINESTRING(POINT(4,1),POINT(6,0),POINT(3,3),POINT(-1.8,4),POINT(4,1)),
LINESTRING(POINT(6,7),POINT(2,7),POINT(2,-.0),POINT(.1,-.4),POINT(4,5),POINT(6,7)),
LINESTRING(POINT(2,5),POINT(2,.6),POINT(4,3),POINT(3,8),POINT(2,5))),10),
ST_GEOMFROMTEXT('LINESTRING(-.7 -.3,0 5,8 0,9 7)',10)));
ERROR 22023: Invalid GIS data provided to function st_intersection.
SELECT ST_ASTEXT(
ST_INTERSECTION(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                        'POLYGON((3 1,5 2,3 1),(8 5,4 9,-4.6 6,2.0 0,4 -1032.34324,8 5)),'
                        'LINESTRING(0 +.6),'
                        'LINESTRING(4 189.7654,9 5,0 +.8,3 9))',10),
ST_GEOMFROMWKB(
MULTIPOLYGON(
POLYGON(
LINESTRING(POINT(6,3),POINT(4,-.3),POINT(9,2),POINT(5,9),POINT(0,8),POINT(6,3))),
POLYGON(
LINESTRING(POINT(1,6),POINT(3,8),POINT(9,1),POINT(7,6),POINT(6,1),POINT(0,-.4),POINT(6,2),
POINT(0,4),POINT(0,9),POINT(3,4),POINT(4,+.0),POINT(4,2),POINT(4,7),POINT(1,6))),
POLYGON(
LINESTRING(POINT(3,1),POINT(2,3),POINT(3,1)),
LINESTRING(POINT(6,7),POINT(2,4),POINT(6,7))),
POLYGON(
LINESTRING(POINT(1,0),POINT(8,3),POINT(3,7),POINT(4,3),POINT(9,5),POINT(1,0))),
POLYGON(
LINESTRING(POINT(6,4),POINT(-3.0,1),POINT(5,8),POINT(8,4),POINT(3,7),POINT(8,9),POINT(5,6),POINT(6,4)),
LINESTRING(POINT(5,5),POINT(2,0),POINT(1.3,9),POINT(+.2,9),POINT(6,6),POINT(.5,9),POINT(7,0),
POINT(9,-.9),POINT(9,4),POINT(3,1),POINT(4,7),POINT(9,0),POINT(-.5,4),POINT(3,1),POINT(5,5)))),10)));
ERROR 22023: Invalid GIS data provided to function st_within.
######################################################################################################
# BUG#20445979 : ASSERTION `RESULT->LENGTH() == 0' FAILED
######################################################################################################
SELECT ST_ASTEXT(
ST_UNION(
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT('MULTILINESTRING((3 189.7654, 0 0, 10.0002 1, -1.2 0),'
                                                        '(3 4, 10.0002 6,2.7 2.232432, 8 6, 0 3),'
                                                        '(7.1 9, -4 -.8, -0.7654 7, 1 5, -0.7654 5,-6.7 -0.7654, 6 2.232432, 0 2.232432),'
                                                        '(8 3.9, 2 3, 3 8, 0 7, 1 6),'
                                                        '(8 3, 5 3, 9 4.4, 4 2.4),'
                                                        '(9 2.232432, -1032.34324 2.232432, -1.9 9),'
                                                        '(2.232432 6, 9 189.7654, 8 7, 5 6, 10.0002 8),'
                                                        '(2.232432 -6.3, 189.7654 9,3 3, 10.0002 -8.7, 3 -0.7654),'
                                                        '(5 -.3, 5 1, 6 2, 2.232432 5, 1 1, 9 10.0002,9 3, -1032.34324 1),'
                                                        '(1 7, 4 -0.7654, 3 7, -0.7654 8))'))),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                                              'MULTIPOINT(0.8 2.232432, 6 -2, 2 -5, -9.06),'
                                              'MULTIPOINT(5 8, 9.3 7),'
                                              'POLYGON((4 1, -3.9 2, 1 0.6, 1 1, 4 1)),'
                                              'POINT(9 +.7),'
                                              'LINESTRING(189.7654 2, 4 -1032.34324, 9 0, 9 8),'
                                              'POLYGON((1 1, 0 +.0, 2 4, 7 9,9 -3, 3 -0.7654, 10.0002 7, 8 -1032.34324, 1 1)))')));
ERROR 22023: Invalid GIS data provided to function st_geometryfromtext.
######################################################################################################
# BUG#20445765 : ASSERTION `MLS != __NULL' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(LINESTRING(9 -0.7654,3 -1032.34324,6 0))'),
ST_GEOMFROMTEXT(
'LINESTRING(0 1,-.7 6,9 6,-8.0 -.0,4 7)')));
ST_ASTEXT(ST_INTERSECTION(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(LINESTRING(9 -0.7654,3 -1032.34324,6 0))'),
ST_GEOMFROMTEXT(
'LINESTRING(0 1,-.7 6,9 6,-8.0 -.0,4 7)')))
GEOMETRYCOLLECTION()
######################################################################################################
# BUG#20462935 : WL#7225 : MYSQLD GOT SIGNAL 11
######################################################################################################
SELECT ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT('POINT(8 0.8)'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'POLYGON((7 2, 1 4, 5 6, +.3 -1032.34324, 7 2),'
                                '(7 4, 2 0, +.6 -1.4, -9 9, 8 7, 7 4),'
                                '(2 0, -.9 5, 2.232432 9, 2 4, 2.232432 1, 0 -1032.34324, 2 0)),'
                        'MULTIPOINT(-0.7654 2.232432,+.9 +.1, 8 3, 189.7654 -6, 4 -.5),'
                        'MULTIPOLYGON(((7 0, 7 1, 6 -9, 7 0))),'
                        'POLYGON((2 9, 9 2.232432, 1 189.7654, 2.232432 6, +.4 9, 189.7654 3, 6 2, 2 9),'
                                '(1 9, 3 -1, 189.7654 -0.7654, 1 9)),'
                        'MULTIPOINT(1 10.0002, 0 6, 8 3, 5 -0.7654),'
                        'POLYGON((6 3, -6.5 189.7654, -8 -1032.34324, +.4 3,-.2 1, -0.7654 -.0, 6 3)))')));
ERROR 22023: Invalid GIS data provided to function st_union.
######################################################################################################
# BUG#20462858 : ASSERTION `GEOTYPE == GTYPE || GEOTYPE == 0' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(8 1, 5 9, 2.232432 2.232432, -1032.34324 7, 10.0002 6, 2 0.6))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(2.232432 -1032.34324, 2.232432 2.232432, 0.6 1, -0.7654 -.5),'
                        'POLYGON((6 5, 4 -1032.34324, 189.7654 -.5, 6 5)),'
                        'POLYGON((4 6, 7 1, -0.7654 10.0002, 0 10.0002, -3.5 -7, 5 6, 3 -7.7,2.232432 9, 4 6)))')));
ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(8 1, 5 9, 2.232432 2.232432, -1032.34324 7, 10.0002 6, 2 0.6))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(2.232432 -1032.34324,
GEOMETRYCOLLECTION(MULTIPOINT(-1032.34324 7,-0.7654 -0.5,0.6 1,2 0.6,2.232432 -1032.34324,2.232432 2.232432,5 9,8 1,10.0002 6),MULTIPOLYGON(((5.994531425484146 2.1653512071957133,-0.7654 10.0002,0 10.0002,-3.5 -7,5 6,3 -7.7,2.232432 9,4 6,5.995515737735359 2.6741404371077344,5.994531425484146 2.1653512071957133))))
######################################################################################################
# BUG#20379857 : ASSERTION `ENTER_COUNT == 0' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('POLYGON((-4 0,7 -8,-5 1,1 9,-9 -7,9 6,-6 -9))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTILINESTRING((5 8,-5 -8,3 -7,-2 -7,6 2,6 3,6 10,7 7,1 0,-6 -1,8 -4,-2 1,9 -10,4 -2)),'
                        'LINESTRING(-1 -2,10 -7,8 -5))')));
ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('POLYGON((-4 0,7 -8,-5 1,1 9,-9 -7,9 6,-6 -9))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTILINESTRING((5 8,-5 -8,3 -7,-2 -7,6 2,6 3,6 10,7 7,1 0,-6 -1,8 -4,-2 1,9 -10,4 -2)),'
        
GEOMETRYCOLLECTION(POLYGON((-4 0,7 -8,-5 1,1 9,-9 -7,9 6,-6 -9,-4 0)),MULTILINESTRING((5 8,-5 -8,3 -7,-2 -7,0.9938650306748449 -3.6319018404907997),(1.5 0.583333333333333,1 0,0.6164383561643836 -0.0547945205479452)),LINESTRING(-1 -2,0.375 -2.625))
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('POLYGON((-4 0,7 -8,-5 1,1 9,-9 -7,9 6,-6 -9))'),
ST_GEOMFROMTEXT('MULTILINESTRING((5 8,-5 -8,3 -7,-2 -7,6 2,6 3,6 10,7 7,1 0,-6 -1,8 -4,-2 1,9 -10,4 -2),(-1 -2,10 -7,8 -5))')));
ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('POLYGON((-4 0,7 -8,-5 1,1 9,-9 -7,9 6,-6 -9))'),
ST_GEOMFROMTEXT('MULTILINESTRING((5 8,-5 -8,3 -7,-2 -7,6 2,6 3,6 10,7 7,1 0,-6 -1,8 -4,-2 1,9 -10,4 -2),(-1 -2,10 -7,8 -5))')))
GEOMETRYCOLLECTION(POLYGON((-4 0,7 -8,-5 1,1 9,-9 -7,9 6,-6 -9,-4 0)),MULTILINESTRING((-0.5696202531645564 -0.9113924050632916,-1.1702127659574466 -1.872340425531915),(-1.25 -2,-5 -8),(-5 -8,3 -7,-2 -7,0.9938650306748467 -3.6319018404907975),(1.0666666666666669 -3.55,6 2,6 3,6 3.8333333333333335),(1.5 0.583333333333333,1 0,0.6164383561643836 -0.0547945205479452),(1 0,-2.92 -0.56),(-3.17910447761194 -0.5970149253731343,-4.163934426229508 -0.7377049180327869),(-5.1764705882352935 -0.882352941176471,-6 -1,-5.338582677165355 -1.141732283464567),(-4.303030303030303 -1.3636363636363638,-1.906779661016949 -1.8771186440677967,-1.2151898734177218 -2.0253164556962027),(-0.8666666666666663 -2.1,0.5882352941176467 -2.4117647058823533),(2 -1,0.4090909090909083 -0.20454545454545414),(-0.29032258064516125 -0.7096774193548387,1 -2),(7 -8,9 -10,4 -2),(-1 -2,0.375 -2.625)))
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('POLYGON((-4 0,7 -8,-5 1,1 9,-9 -7,9 6,-6 -9))'), ST_GEOMFROMTEXT('LINESTRING(-1 -2,10 -7,8 -5)')));
ST_ASTEXT(ST_SYMDIFFERENCE(ST_GEOMFROMTEXT('POLYGON((-4 0,7 -8,-5 1,1 9,-9 -7,9 6,-6 -9))'), ST_GEOMFROMTEXT('LINESTRING(-1 -2,10 -7,8 -5)')))
GEOMETRYCOLLECTION(POLYGON((-4 0,7 -8,-5 1,1 9,-9 -7,9 6,-6 -9,-4 0)),LINESTRING(-1 -2,0.375 -2.625))
######################################################################################################
# BUG#20422341 : ST_ISSIMPLE(MULTILINESTRING) RETURNS INCORRECT RESULT
######################################################################################################
SELECT ST_ISSIMPLE(ST_GEOMFROMTEXT('MULTILINESTRING((0 0,10 0,10 10,0 10,0 0))'));
ST_ISSIMPLE(ST_GEOMFROMTEXT('MULTILINESTRING((0 0,10 0,10 10,0 10,0 0))'))
1
SELECT ST_ISSIMPLE(ST_GEOMFROMTEXT('MULTILINESTRING((0 0,0 5,5 5,5 0,0 0))'));
ST_ISSIMPLE(ST_GEOMFROMTEXT('MULTILINESTRING((0 0,0 5,5 5,5 0,0 0))'))
1
######################################################################################################
# BUG#20430837 : WL#7225: BOOST_ASSERT( ENTER_COUNT == 0 )
######################################################################################################
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTIPOLYGON(((7 -6,-2 8,-5 -4,2 7,4 9,0 -9,8 2,5 -2,9 0,-6 1,10 -10)),'
                                 '((-7 -4,9 3,-9 8,0 -4,5 -9)),'
                                 '((-10 1,-5 -3,1 -1,-9 -5,10 -9,9 -7,-4 9,8 0,2 0)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'POINT(-4 -1),'
                        'MULTIPOINT(3 1,-5 10,-5 -6,7 -10,5 -5,-10 -7,-8 7,9 0,6 -4,5 7),'
                        'LINESTRING(5 -8,-7 -6,-3 6,-3 1,-5 4,-1 0,8 5,5 1,-2 3,1 10,8 5,6 2,7 4),'
                        'MULTIPOINT(0 1,-7 -7,-3 -2,6 -1,-9 -9,2 6,-9 -6,-4 0,0 10))')));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_DIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(5 -8,-7 -6,-3 6,-3 1,-5 4,-1 0,8 5,5 1,-2 3, 1 10,8 5,6 2,7 4)'),
ST_GEOMFROMTEXT('MULTILINESTRING((1.9375 1.875,1.7441860465116283 1.9302325581395348,-0.7692307692307692 2.6483516483516487,'
                                     '-2 3,-1.0071942446043165 5.316546762589928))')));
ERROR HY000: Inconsistent intersection points.
######################################################################################################
# BUG#20434940 : ASSERTION `IS_CLOSING_POINT_OF(TURN.POINT, LS1)' FAILED
######################################################################################################
SELECT ST_ISSIMPLE(ST_GEOMFROMTEXT('MULTILINESTRING((4 1,10 8,4 6,4 1,10 5,10 3))'));
ST_ISSIMPLE(ST_GEOMFROMTEXT('MULTILINESTRING((4 1,10 8,4 6,4 1,10 5,10 3))'))
0
######################################################################################################
# BUG#20455380 : ASSERTION `ENTER_COUNT == 0' FAILURE WITH LINEAR GEOMETRIES
######################################################################################################
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTILINESTRING((2 5,-0.7654 2),'
                                    '(-1032.34324 4,1 5,9 7,3 9,0.2 5,1 -0.3),'
                                    '(1 0.9,1 6,1 -0.6,2.232432 -0.7654,0.9 3,1 5,-0.7654 9,3 0.1,9 0,-6 8,-0.7 8,0 1,-1032.34324 0))'),
ST_GEOMFROMTEXT('LINESTRING(1 5,4 2,1 -1.1,1 6,1 189.7654,2 5,-0.7654 3)')));
ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTILINESTRING((2 5,-0.7654 2),'
                                    '(-1032.34324 4,1 5,9 7,3 9,0.2 5,1 -0.3),'
                                    '(1 0.9,1 6,1 -0.6,2.232432 -0.7654,0.9 3,1 5,-0.7654 9,3 0.
MULTILINESTRING((1 5,4 2,1 -1.1,1 -0.6),(1 6,1 189.7654,2 5,-0.7654 3),(2 5,-0.7654 2),(-1032.34324 4,1 5,9 7,3 9,0.2 5,1 -0.3),(1 -0.6,2.232432 -0.7654,0.9 3,1 5,-0.7654 9,3 0.1,9 0,-6 8,-0.7 8,0 1,-1032.34324 0))
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(0 -3,5 4,6 6,-3 2,-3 0,-3 -10,9 -2,9 5,5 -5,-4 -8,9 0)'),
ST_GEOMFROMTEXT('LINESTRING(-3 6,-3 0,-3 5,2 -3,-6 10,5 0,2 8,-6 1,10 -6)')));
ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(0 -3,5 4,6 6,-3 2,-3 0,-3 -10,9 -2,9 5,5 -5,-4 -8,9 0)'),
ST_GEOMFROMTEXT('LINESTRING(-3 6,-3 0,-3 5,2 -3,-6 10,5 0,2 8,-6 1,10 -6)')))
MULTILINESTRING((0 -3,5 4,6 6,-3 2),(-3 0,-3 -10,9 -2,9 5,5 -5,-4 -8,9 0),(-3 6,-3 2),(-3 2,-3 5,2 -3,-6 10,5 0,2 8,-6 1,10 -6))
######################################################################################################
# BUG#20463609 : ST_SYMDIFFERENCE : ASSERTION `ENTER_COUNT == 0' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(-2 -2,-4 0,1 -8,-2 6,8 5,-7 -8,3 0,4 -1,-7 10,-4 10)'),
ST_GEOMFROMTEXT('LINESTRING(-5 -4,3 0,4 -1,7 -4,2 -1,-4 -1,-2 6)')));
ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(-2 -2,-4 0,1 -8,-2 6,8 5,-7 -8,3 0,4 -1,-7 10,-4 10)'),
ST_GEOMFROMTEXT('LINESTRING(-5 -4,3 0,4 -1,7 -4,2 -1,-4 -1,-2 6)')))
MULTILINESTRING((-2 -2,-4 0,1 -8,-2 6,8 5,-7 -8,3 0),(3 0,-7 10,-4 10),(-5 -4,3 0),(4 -1,7 -4,2 -1,-4 -1,-2 6))
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT('MULTILINESTRING((1 5, -4.3 -.1),'
                                            '(0 6,8.6 6,189.7654 5,1 3,6 3,3 5,6 2.232432,0 4),'
                                            '(-6 5,1 2.232432),'
                                            '(3 -1032.34324,9 0,189.7654 1,-1.4 3,3 189.7654,+.3 10.0002,1 5,6 3,5 1,9 1,10.0002 -1032.34324,-0.7654 0,5 3, 3 4),'
                                            '(2.232432 2.232432,8.6 +.4,0.0 2.232432,4 0,-8.8 10.0002),'
                                            '(1 0,6 6,7 2,-0 8.4),'
                                            '(-0.7654 3,+.6 8,4 -1032.34324,1 6,0 4),'
                                            '(0 7,2 1,8 -7,7 -.7, -1032.34324 9), (5 0, 10.0002 4, 8 7, 3 3, -8.1 5))'))),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOLYGON(((9 6,189.7654 10.0002,5.1 7,7 -0.7654,8 -.7,9 6),'
                                      '(3 7,10.0002 -1032.34324,5 5,2.232432 1,-.8 +.0,3 8,0 2.232432,3 7)),'
                                     '((7 5,1 3,1 0.8,2 -.5,3 6,6.6 3.7,2.232432 -1032.34324,+.2 10.0002,7 5),'
                                      '(0 8,10.0002 9,5 2,6 5,8 8,0 8)),'
                                     '((2 0,9 2.232432,9 -3,2 8,7 9,3 0,-1 -8.2,0 8,2 0),'
                                      '(5 2,2 3,9 5,6 1,10.0002 2.232432,-6.2 9,8 10.0002,9 3.0,5 -8.7,5 2))),'
                        'MULTILINESTRING((5 10.0002,2 7,-0.7654 0,5 3),'
                                        '(0 -0.7654,4 10.0002,4 +.1,-.8 3,-.1 8,10.0002 2,+.9 -1032.34324)))')));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                                'MULTILINESTRING((1 4, 6 5, 2 -1032.34324, 6.9 6),'
                                                '(6 3, 4 2, 7 0.8, 2 5),'
                                                '(0 9, 9 4, -0.1 10.0002, 0 +.5, 4 8, -3 7),'
                                                '(2 7, 5 -6),'
                                               '(9 -1032.34324, 2 0, 6 3, 2 2, 4 -1032.34324, 6 2.232432)),'
                                'MULTILINESTRING((-0.7 2.232432, +.3 -.5),'
                                                '(0 2, 7 -.3, 2.4 5, +.8 2)),'
                                'POLYGON((8 9, 9 0, 189.7654 8, 8 9),'
                                        '(9 5, 5 2, 2.232432 -.3, 4 3, 2 2, 10.0002 1.6, 1 6, 8 8, 3 3, 9 5),'
                                        '(4 5, 7 4, 2.232432 2.232432, 0 -.9, 0 189.7654, 2 2, 4 5),'
                                        '(7 9, 1 -3.6, 2.232432 2.232432, 6 1, 2.232432 6, 0 2.232432, 7 9)))'))),
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT('LINESTRING(0 -5, 5 10.0002)')))));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(1 1, 5 -3, 10.0002 1, -1032.34324 5, 9 1.1, 4.5 4, 5 0, -5.1 3),'
                        'MULTIPOINT(-1032.34324 5, 8 -1032.34324, -0.7654 3, -1032.34324 4, 1 1, 8 2),'
                        'POLYGON((7 2, 6.9 +.6, -0.7654 -.5, 2.4 7, 7 3, 7 2)))'),
ST_GEOMFROMWKB(POLYGON(LINESTRING(POINT(7,9), POINT(7,3), POINT(7,6), POINT(0,6), POINT(7,9))))));
ST_ASTEXT(ST_UNION(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(1 1, 5 -3, 10.0002 1, -1032.34324 5, 9 1.1, 4.5 4, 5 0, -5.1 3),'
                        'MULTIPOINT(-1032.34324 5, 8 -1032.34324, -0.7654 3, -1032.34324 4, 1 1
GEOMETRYCOLLECTION(MULTIPOINT(-1032.34324 4,-1032.34324 5,-5.1 3,-0.7654 3,1 1,4.5 4,5 -3,5 0,8 -1032.34324,8 2,9 1.1,10.0002 1),MULTIPOLYGON(((1.9779470405901867 6,-0.7654 -0.5,6.9 0.6,7 2,7 3,3.55 6,7 6,7 9,0 6,1.9779470405901867 6))))
SELECT
ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(4 2, 2 4, 4 1, 5 -3.9, 10.0002 3, 2.232432 2, 189.7654 -.9, 7 7),'
                        'POLYGON((8 3, -0.7654 -.0, 10.0002 8, 1 6, 189.7654 4, -1032.34324 4, 8 3),'
                                '(2 7, 2.232432 0.5, 9 2, 2.232432 1, 9 5, 6 8, 8 -1032.34324, -9.7 -.1, 9.9 2, 1 5, 1 -.6, 10.0002 -.7, 1 4, 7.0 9, 2 7)),'
                        'MULTILINESTRING((1 8, 9 -0.7654, 5 7, +.0 -0.7654, 8 7),'
                                        '(8 1.1, 6 4, -.4 10.0002, -.3 -1, +.3 8)))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'POINT(9 6.7),'
                        'MULTILINESTRING((5 0, 2.232432 -0.7654, 0 0, 10.0002 1),'
                                        '(9 0.6, -2.8 0, 2.232432 2.4),'
                                        '(1 -1032.34324, -1032.34324 -7.0, 1 0, 0 9, +.2 189.7654, 5 1),'
                                        '(-9.3 189.7654, 7 0, 10.0002 -1032.34324, 3 9.6, 9 10.0002),'
                                        '(1 8, 9 -0.7654, -0.7654 3, 8 5, 3 3)),'
                                        'POINT(-1032.34324 1))')));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTILINESTRING((-.4 2, 2.232432 3, 6 9, 8 189.7654, -1032.34324 5.4, 2.232432 9),'
                                    '(-1032.34324 3, 8 -1.6),'
                                    '(0 -.2, 8 1, -.5 7, 6 +.2))'),
ST_GEOMFROMWKB(MULTILINESTRING(
LINESTRING(POINT(-8,1), POINT(4.8,6), POINT(2,+.5)),
LINESTRING(POINT(10.0002,2), POINT(9,-1032.34324), POINT(.3,8), POINT(0,5), POINT(8,1), POINT(4,.4), POINT(2,8)),
LINESTRING(POINT(6,7), POINT(+.1,7), POINT(0,-.5))))));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                    'MULTILINESTRING((4 -0.7654, -1032.34324 -1032.34324, 8 8, 1 0, 6 7, -1032.34324 -.0, -1032.34324 189.7654, 9 2, -9.6 -1032.34324, 5 6, 0 9.0)),'
                    'POINT(7 4),'
                    'LINESTRING(1 -.0, 6 2, 0 1, -2 -8.4, 0 7, -1032.34324 2.3, 6 3, -1032.34324 -1032.34324),'
                    'MULTILINESTRING((1 4, 6 5, 2 -1032.34324, 6.9 6),'
                                    '(6 3, 4 2, 7 0.8, 2 5),'
                                    '(0 9, 9 4, -0.1 10.0002, 0 +.5, 4 8, -3 7),'
                                    '(2 7, 5 -6),'
                                    '(9 -1032.34324, 2 0, 6 3, 2 2, 4 -1032.34324, 6 2.232432)),'
                    'MULTILINESTRING((-9.0 2, -5 0.8),'
                                    '(9 189.7654, 9 4, 3 -9, 9 2),'
                                    '(189.7654 9, 7 3, 5 189.7654, -1032.34324 4, -5.9 9)),'
                                    'POINT(1 -.2),'
                                    'LINESTRING(7 8, 6 1),'
                                    'POINT(2 2),'
                                    'LINESTRING(1 8, 0 189.7654, 1 -1032.34324, 8 2),'
                                    'MULTIPOLYGON(((2 8, 4 0, 3 9, 5 -3, 0 6, 6 1, 2 8))),'
                                    'LINESTRING(-0.7654 -.8, 8 1),'
                                    'POINT(7 9),'
                                    'MULTILINESTRING((-0.7 2.232432, +.3 -.5),'
                                                    '(0 2, 7 -.3, 2.4 5, +.8 2)),'
                                    'LINESTRING(10.0002 6.4, 189.7654 4, 189.7654 8, 3 5, 9 -2, 2 -1032.34324),'
                                    'POLYGON((8 9, 9 0, 189.7654 8, 8 9),'
                                            '(9 5, 5 2, 2.232432 -.3, 4 3, 2 2, 10.0002 1.6, 1 6, 8 8, 3 3, 9 5),'
                                            '(4 5, 7 4, 2.232432 2.232432, 0 -.9, 0 189.7654, 2 2, 4 5),'
                                            '(7 9, 1 -3.6, 2.232432 2.232432, 6 1, 2.232432 6, 0 2.232432, 7 9)),'
                                    'LINESTRING(3 1.2, -9 +.2),'
                                    'POINT(-.0 0),'
                                    'MULTIPOINT(-0.7654 -1032.34324, 3 189.7654, 4 6, -2.7 +.2, -1032.34324 6.5, 10.0002 -0.7654, 7 9))'))),
ST_GEOMFROMWKB(
ST_ASWKB(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                    'POINT(5 -3),'
                    'POINT(189.7654 7),'
                    'LINESTRING(0 -5, 5 10.0002))')))));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_UNION(
ST_GEOMFROMTEXT('MULTIPOLYGON(((10 0,-10 -3,-10 6,-10 7,4 6,6 1,-9 -8)))'),
ST_GEOMFROMTEXT('MULTILINESTRING((7 6,7 3,1 5,6 1,1 9,-6 -8,-7 -3,0 -3,7 -5,7 -2,-1 -9,-1 -6,7 7,-7 -10),'
                                        '(10 4,8 10,-3 8,2 3,9 2,9 7,-7 -4,-10 -7),'
                                        '(5 -3,-1 -3),'
                                        '(9 -9,-3 2,-1 -2,7 -1,9 9,-5 3,-8 5,-10 8,-2 -8,9 1))')),
ST_UNION(
ST_GEOMFROMTEXT('LINESTRING(-1 -6,-2 9,-9 -5,0 -6,10 -1,-2 3,4 -10)'),
ST_GEOMFROMTEXT('POINT(2 -1)'))));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_UNION(ST_GEOMFROMTEXT('POINT(7 -8)'),
ST_GEOMFROMTEXT('MULTILINESTRING((-7 2,3 7,-5 9,-8 -10,-3 10,-8 6,-5 -10,3 -1),(5 6,3 2,9 -1,-7 -7,-10 -7,7 9,-9 2,7 10,-6 6))')),
ST_UNION(ST_GEOMFROMTEXT('POINT(-9 5)'),
ST_GEOMFROMTEXT('POLYGON((-7 -4,6 7,10 2,8 6,-2 8,-3 -7,-5 4,-1 10,7 -8,8 9,1 -8))'))));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(3 8,-10 -5,3 5,-2 -9,6 2,-1 6,4 5,-3 3,-1 8,-2 -7,6 10,-1 -2,-1 10)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((-5 3,-10 -4,-6 9,7 1,8 -7,-4 -8,-10 3)),'
                                     '((8 -3,-5 -6,-9 9,9 10,-7 -7,6 -10,-1 -3,3 -5,6 2,-8 10,7 -9)),'
                                     '((6 10,-1 0,6 -8,-7 -1,6 -4,-2 7,8 -5,-6 10,9 -3,-1 -5,4 7,8 -3)))')),
ST_UNION(
ST_GEOMFROMTEXT('LINESTRING(5 -6,-6 -4,2 -2,4 -10,10 4,-7 4,7 3,1 -6,1 -2,5 -2,-5 8,-7 -2,2 8,3 -3,-7 -4)'),
ST_GEOMFROMTEXT('MULTIPOINT(4 9,-7 -1,-9 1,-5 -3,8 -6,8 -7,10 5,9 8,-2 -8,3 -2,1 9)'))));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTILINESTRING((-3 9,3 -4,7 9,4 5,2 -6,-2 -1,-6 2))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((-3 -8,0 -8,4 -8,0 -3,3 6,6 9,2 1,9 6,1 6,-8 -2,2 5,-1 5,-6 9)))')));
ERROR HY000: Inconsistent intersection points.
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTIPOINT(10 -8,-2 6,-6 3,-3 7,7 -3,-8 -9,-3 9,-1 -7)'),
ST_GEOMFROMTEXT('LINESTRING(-10 0,-4 4,9 5,-7 -8,3 -5,-9 5,0 -6,-9 -4,9 -1,0 -2,-9 4,-7 -8,4 0)')),
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('MULTILINESTRING((6 -2,4 -9,3 3,0 -10,-10 -1,-4 0,0 1,-2 8,-3 -9),'
                                        '(7 0,10 -7,10 2,-2 9,-2 10,-7 -10,6 5,-3 10,7 6,2 -6,8 9,9 -4,3 -2,3 1))'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((-1 -1,7 4,1 10)),'
                                     '((-3 -9,2 8,5 6,3 -5,-5 4,-5 -7,-1 -7,3 5,-4 6,9 -4,-5 2,-5 9)))'))));
ERROR HY000: Inconsistent intersection points.
######################################################################################################
# BUG#20462962 : ASSERTION `GEOMETRY::IS_VALID_GEOTYPE(GT)' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMWKB(GEOMETRYCOLLECTION(
MULTIPOINT(POINT(8,-6.0), POINT(9,2), POINT(9,1), POINT(-0,6), POINT(8,6), POINT(4,3), POINT(.7,6)),
MULTIPOINT(POINT(8,-0.7654), POINT(2,7), POINT(8,-0.7654), POINT(-.0,7), POINT(.0,6), POINT(.9,+.4), POINT(6,2.232432)),
POLYGON(
LINESTRING(POINT(8,6), POINT(-.4,3), POINT(-9.8,2.232432), POINT(-1032.34324,8), POINT(2.232432,.8), POINT(8,6))),
POLYGON(
LINESTRING(POINT(0,9), POINT(3,1), POINT(3,0), POINT(3,2), POINT(0,9))))),
ST_GEOMFROMTEXT('MULTILINESTRING((-0.7654 2.232432, 7 2, -6 -1032.34324, 9 7, 2.8 4))')));
ST_ASTEXT(ST_INTERSECTION(
ST_GEOMFROMWKB(GEOMETRYCOLLECTION(
MULTIPOINT(POINT(8,-6.0), POINT(9,2), POINT(9,1), POINT(-0,6), POINT(8,6), POINT(4,3), POINT(.7,6)),
MULTIPOINT(POINT(8,-0.7654), POINT(2,7), POINT(8,-0.7654), POINT(-.0,7), POINT(.0,6), POINT(
GEOMETRYCOLLECTION(MULTILINESTRING((-0.7654 2.232432,3.6737899158554304 2.0995592837816326),(3.927272727272724 4.545454545454544,2.8 4)),POINT(3.6737899158554312 2.099559283781633),POINT(3.927272727272725 4.545454545454545))
######################################################################################################
# BUG#20408240 : ST_DIFFERENCE : ASSERTION `T1->RESULT_RANGE' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_DIFFERENCE(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(-8 1,-8 1,-10 -3,-10 -1,-9 3),'
                        'POLYGON((8 -7,1 -7,-9 0,9 8,-9 7,-10 -2,5 3,8 -8,-10 0,-3 -8,2 9,-7 4,-2 -8)))'),
ST_GEOMFROMTEXT('LINESTRING(-7 4,-7 4,9 3,1 -2,-10 2)')));
ST_ASTEXT(ST_DIFFERENCE(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(-8 1,-8 1,-10 -3,-10 -1,-9 3),'
                        'POLYGON((8 -7,1 -7,-9 0,9 8,-9 7,-10 -2,5 3,8 -8,-10 0,-3 -8,2 9,-7 4,-2 -8)))'),
ST_GEOMFROMTEXT('
GEOMETRYCOLLECTION(MULTIPOINT(-10 -3,-10 -1,-9 3,-8 1),POLYGON((8 -7,1 -7,-9 0,9 8,-9 7,-10 -2,5 3,8 -8,-10 0,-3 -8,2 9,-7 4,-2 -8,8 -7)))
SELECT ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('POLYGON((-10 -4,7 -3,7 4,-5 8,1 -7))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(6 6,3 -7,6 -10,2 8),'
                        'LINESTRING(0 -4,-2 2,-3 6,2 -3,-10 -4,5 -7,10 -1,-6 -1,7 4,-1 -4,6 0),'
                        'GEOMETRYCOLLECTION('
                            'MULTILINESTRING((8 8,4 8,2 -2,4 0,7 -7,-5 10,-6 -2,-7 -1,-1 5,-3 -1),'
                                            '(-7 10,1 0,-1 7,9 2,-2 6,-1 -1,-1 -1))))')));
ST_ASTEXT(ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('POLYGON((-10 -4,7 -3,7 4,-5 8,1 -7))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'MULTIPOINT(6 6,3 -7,6 -10,2 8),'
                        'LINESTRING(0 -4,-2 2,-3 6,2 -3,-10 -4,5 -7,10 -1,
GEOMETRYCOLLECTION(POLYGON((-10 -4,1 -7,-5 8,7 4,7 -3,-10 -4)),MULTIPOINT(2 8,3 -7,6 -10,6 6),MULTILINESTRING((-0.19230769230769232 -3.4230769230769234,-2 2,-3 6,2 -3,-10 -4),(7 -1,-1.4 -1),(-2.013333333333333 0.5333333333333334,7 4,-0.4285714285714288 -3.428571428571429),(-1 -4,6 0)),MULTILINESTRING((3.4375 5.1875,2 -2,4 0,7 -7),(4.289036544850498 -3.159468438538206,-3.1538461538461533 7.384615384615385),(-3 3,-1 5,-3 -1),(-7 10,1 0,-1 7),(1 6,7 3),(7 2.7272727272727275,-2 6,-1 -1)))
######################################################################################################
# BUG#20141918 : ASSERTION `CUR_SHAPE != GCALC_FUNCTION::SHAPE_POINT' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_DIFFERENCE(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'POINT(-5 -4),'
                        'POLYGON((-5 1,7 -7,10 0,-10 8,-7 9)))'),
ST_GEOMFROMTEXT('LINESTRING(5 3,7 -3,5 0,-6 -9,-4 9,-3 -8,10 1,10 -9,5 -3,4 -2,1 -3,-8 -5,4 -7,-2 -8)')));
ST_ASTEXT(ST_DIFFERENCE(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'POINT(-5 -4),'
                        'POLYGON((-5 1,7 -7,10 0,-10 8,-7 9)))'),
ST_GEOMFROMTEXT('LINESTRING(5 3,7 -3,5 0,-6 -9,-4 9,-3 -8,10 1,10 -9,5 -3,4 -2,1 -3,-8
GEOMETRYCOLLECTION(POINT(-5 -4),POLYGON((-5 1,-7 9,-10 8,10 0,7 -7,-5 1)))
SELECT ST_ASTEXT(ST_DIFFERENCE(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'POINT(1 6),'
                        'GEOMETRYCOLLECTION('
                            'LINESTRING(-9 5,1 -4,-5 4,2 2,-3 7)),'
                        'LINESTRING(9 -4,-4 -10,-8 7,-6 8,-4 4,7 -5,-3 7,5 4,2 -1,8 6,9 5),'
                        'MULTIPOLYGON(((-3 -5,0 -10,6 8)),'
                                     '((1 -2,-6 1,-8 8,9 6,-10 9,7 9))))'),
ST_GEOMFROMTEXT('MULTILINESTRING((5 -6,0 1,5 -6,5 -8,1 -1,4 -2),'
                                    '(-7 8,1 2,-8 8,10 -9,-2 4,-8 7,-8 -2,7 2,10 4,9 0,0 -2,8 2))')));
ST_ASTEXT(ST_DIFFERENCE(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                        'POINT(1 6),'
                        'GEOMETRYCOLLECTION('
                            'LINESTRING(-9 5,1 -4,-5 4,2 2,-3 7)),'
                        'LINESTRING(9 -4
GEOMETRYCOLLECTION(LINESTRING(-9 5,1 -4,-5 4,2 2,-3 7),LINESTRING(9 -4,-4 -10,-8 7,-6 8,-4 4,7 -5,-3 7,5 4,2 -1,8 6,9 5),MULTIPOLYGON(((-3 -5,0 -10,6 8,-3 -5)),((1 -2,7 9,-10 9,9 6,-8 8,-6 1,1 -2))))
######################################################################################################
# BUG#20106767 : CRASH WITH ST_ISVALID() FUNCTION
######################################################################################################
SELECT ST_ISVALID(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                  'MULTILINESTRING((-7 -2,-9 3,-2 -8),(3 7,5 6,-7 -9,7 -1,-2 -8,2 9,4 6,-5 -5)),'
                  'MULTILINESTRING((2 -2,2 -3,2 -1,-10 7,1 -2,-2 0,-9 -2,10 5,-7 -8,-9 -1,1 -1,-2 3,5 -9,-8 -9,-10 -9)),'
                  'MULTIPOINT(-7 -5,6 9,7 4))'));
ST_ISVALID(
ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION('
                  'MULTILINESTRING((-7 -2,-9 3,-2 -8),(3 7,5 6,-7 -9,7 -1,-2 -8,2 9,4 6,-5 -5)),'
                  'MULTILINESTRING((2 -2,2 -3,2 -1,-10 7,1 -2,-2 0,-9 -2,10 5,-7 -8,-9 -1,1 -1,-2 3,5 -9,-
1
######################################################################################################
# BUG#20112290 : HANG/INFINITE LOOP IN ST_ISVALID() FUNCTION WITH NESTED QUERIES
######################################################################################################
SELECT ST_ISVALID(
ST_CONVEXHULL(
ST_UNION(
ST_GEOMFROMTEXT('MULTILINESTRING((1 -4,-4 9,-8 1,2 2,5 1,8 4,-8 3,3 10,-3 -2,0 9),'
                                                  '(-9 10,-10 -8,4 2,-3 -3,-2 3,10 4,2 -7,-1 0,5 6,-9 -10,-7 -6,8 -8,-10 1,8 5,-7 -6),'
                                                  '(2 -4,-5 10,3 -1,6 0))'),
ST_GEOMFROMTEXT('POINT(-8 -10)'))));
ST_ISVALID(
ST_CONVEXHULL(
ST_UNION(
ST_GEOMFROMTEXT('MULTILINESTRING((1 -4,-4 9,-8 1,2 2,5 1,8 4,-8 3,3 10,-3 -2,0 9),'
                                                  '(-9 10,-10 -8,4 2,-3 -3,-2 3,10 4,2 -7,-1 0,5 6,-9 -10,-7 -6,8 -8,-10 1,8 5,-7 -6),
1
SELECT ST_ASTEXT(
ST_UNION(
ST_GEOMFROMTEXT('MULTILINESTRING((1 -4,-4 9,-8 1,2 2,5 1,8 4,-8 3,3 10,-3 -2,0 9),'
                                            '(-9 10,-10 -8,4 2,-3 -3,-2 3,10 4,2 -7,-1 0,5 6,-9 -10,-7 -6,8 -8,-10 1,8 5,-7 -6),'
                                            '(2 -4,-5 10,3 -1,6 0))'),
ST_GEOMFROMTEXT('POINT(-8 -10)')));
ST_ASTEXT(
ST_UNION(
ST_GEOMFROMTEXT('MULTILINESTRING((1 -4,-4 9,-8 1,2 2,5 1,8 4,-8 3,3 10,-3 -2,0 9),'
                                            '(-9 10,-10 -8,4 2,-3 -3,-2 3,10 4,2 -7,-1 0,5 6,-9 -10,-7 -6,8 -8,-10 1,8 5,-7 -6),'
                    
GEOMETRYCOLLECTION(MULTILINESTRING((1 -4,-4 9,-8 1,2 2,5 1,8 4,-8 3,3 10,-3 -2,0 9),(-9 10,-10 -8,4 2,-3 -3,-2 3,10 4,2 -7,-1 0,5 6,-9 -10,-7 -6,8 -8,-10 1,8 5,-7 -6),(2 -4,-5 10,3 -1,6 0)),POINT(-8 -10))
######################################################################################################
# BUG#20112707 : ST_VALIDATE() DOES NOT RETURN ANY VALUE WITH VALID GEOMETRY INPUT
######################################################################################################
SELECT ST_ASTEXT(ST_VALIDATE(ST_GEOMFROMTEXT('POINT(0 0)')));
ST_ASTEXT(ST_VALIDATE(ST_GEOMFROMTEXT('POINT(0 0)')))
POINT(0 0)
SELECT ST_ASTEXT(ST_VALIDATE(ST_GEOMFROMTEXT('LINESTRING(0 0,10 10)')));
ST_ASTEXT(ST_VALIDATE(ST_GEOMFROMTEXT('LINESTRING(0 0,10 10)')))
LINESTRING(0 0,10 10)
######################################################################################################
# BUG#20112849 : ST_ISVALID() FUNCTION RETURNS 'FALSE' WITH VALID POLYGON/MULTIPOLYGON INPUT
######################################################################################################
SELECT ST_ISVALID(ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'));
ST_ISVALID(ST_GEOMFROMTEXT('POLYGON((0 0,0 5,5 5,5 0,0 0))'))
1
SELECT ST_ISVALID(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'));
ST_ISVALID(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'))
1
SELECT ST_ISVALID(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 5,5 5,5 0,0 0)))'));
ST_ISVALID(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 5,5 5,5 0,0 0)))'))
1
SELECT ST_ISVALID(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((14 14,14 16,16 16,16 14,14 14)))'));
ST_ISVALID(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0)),((14 14,14 16,16 16,16 14,14 14)))'))
1
######################################################################################################
# BUG#20119431 : ST_ISVALID() FUNCTION RETURNS 'FALSE' WITH VALID GEOMETRYCOLLECTION INPUT
######################################################################################################
SELECT ST_ISVALID(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0))'));
ST_ISVALID(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0))'))
1
SELECT ST_ISVALID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0)))'));
ST_ISVALID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0)))'))
1
SELECT ST_ISVALID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10))'));
ST_ISVALID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(LINESTRING(0 0,0 10))'))
1
SELECT ST_ISVALID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'));
ST_ISVALID(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(0 0))'))
1
######################################################################################################
# BUG#20135389 : ST_MAKEENVELOPE() RETURNS SAME SET OF SRID VALUES IN THE ERROR MESSAGE
######################################################################################################
SELECT ST_ASTEXT(ST_MAKEENVELOPE(ST_GEOMFROMTEXT('POINT(0 1)', 4236), ST_GEOMFROMTEXT('POINT(0 0)', 0)));
ERROR HY000: Incorrect arguments to st_makeenvelope
SELECT ST_ASTEXT(ST_MAKEENVELOPE(ST_GEOMFROMTEXT('POINT(0 1)', 1), ST_GEOMFROMTEXT('POINT(0 0)', 0)));
ERROR HY000: Incorrect arguments to st_makeenvelope
SELECT ST_ASTEXT(ST_MAKEENVELOPE(ST_GEOMFROMTEXT('POINT(0 1)', 0), ST_GEOMFROMTEXT('POINT(0 0)', 100)));
ERROR HY000: Incorrect arguments to st_makeenvelope
######################################################################################################
# BUG#20406722 : ST_ISVALID() DOES NOT PRINT THE FUNCTION NAME IN THE ERROR MESSAGE
######################################################################################################
SELECT ST_ISVALID(ST_GEOMFROMTEXT('POINT(0 0)', -1));
ERROR HY000: Incorrect arguments to st_isvalid
SELECT ST_ISVALID(ST_GEOMFROMTEXT('POINT(0 0)', 1));
ERROR HY000: Incorrect arguments to st_isvalid
SELECT ST_ISVALID(ST_GEOMFROMTEXT('POINT(0 0)', 1000));
ERROR HY000: Incorrect arguments to st_isvalid
######################################################################################################
# BUG#20406850 : WL#8034 : CRASH WITH ST_ISVAID() IN ITEM_FUNC_ISVALID::VAL_INT FUNCTION
######################################################################################################
SET @star_center= 'POINT(15 10)';
SET @star_all_points= 'MULTIPOINT(5 0,25 0,15 10,15 25)';
SELECT ST_ISVALID(ST_GEOMFROMTEXT(@star_center,-1024));
ERROR HY000: Incorrect arguments to st_isvalid
SELECT ST_ISVALID(ST_GEOMFROMTEXT(@star_all_points,-1));
ERROR HY000: Incorrect arguments to st_isvalid
######################################################################################################
# BUG#20414966 : WL#8034 : CRASH WITH ST_VAIDATE() IN ITEM_FUNC_VALIDATE::VAL_STR
######################################################################################################
SET @star_center= 'POINT(15 10)';
SET @star_all_points= 'MULTIPOINT(5 0,25 0,15 10,15 25)';
SELECT ST_VALIDATE(ST_GEOMFROMTEXT(@star_center,-1024));
ERROR HY000: Incorrect arguments to st_validate
SELECT ST_VALIDATE(ST_GEOMFROMTEXT(@star_all_points,-1));
ERROR HY000: Incorrect arguments to st_validate
######################################################################################################
# BUG#20430521 : WL#8034 : CRASH WITH ST_SIMPLIFY() IN ITEM_FUNC_SIMPLIFY::VAL_STR
######################################################################################################
SELECT ST_ASTEXT(ST_SIMPLIFY(0x000000000200000000000000000000000000000000, 1));
ERROR HY000: Geometry byte string must be little endian.
######################################################################################################
# BUG#20452274 : WL#8034 : SERVER IS HANGING WITH ST_VALIDATE() FUNCTION
######################################################################################################>>>>
SELECT ST_ASTEXT(
ST_VALIDATE(
ST_UNION(
ST_GEOMFROMTEXT('MULTIPOLYGON(((-7 -9,-3 7,0 -10,-6 5,10 10,-3 -4,7 9,2 -9)),((1 -10,-3 10,-2 5)))'),
ST_GEOMFROMTEXT('POLYGON((6 10,-7 10,-1 -6,0 5,5 4,1 -9,1 3,-10 -7,-10 8))'))));
ERROR 22023: Invalid GIS data provided to function st_union_.
######################################################################################################
# BUG#20454073 : ASSERTION `M_GEO_VECT && GET_GEOTYPE() != GEOMETRY::WKB_POLYGON' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_SIMPLIFY(ST_GEOMFROMTEXT('MULTIPOINT(19 -4,-2 -6,-8 2)'), 1));
ST_ASTEXT(ST_SIMPLIFY(ST_GEOMFROMTEXT('MULTIPOINT(19 -4,-2 -6,-8 2)'), 1))
MULTIPOINT(19 -4,-2 -6,-8 2)
######################################################################################################
# BUG#20534576 : WL#7929 : ST_BUFFER() : ASSERTION FAILURE IN SPATIAL.H FILE 
######################################################################################################
SELECT ST_ASTEXT(
ST_BUFFER(
ST_GEOMFROMTEXT('MULTILINESTRING((15 0,1 -18,-17 -13),(-10 -1,-5 -4,-15 4,1 -9,-5 1))'),
61958,
ST_BUFFER_STRATEGY('join_miter', 199)));
ST_ASTEXT(
ST_BUFFER(
ST_GEOMFROMTEXT('MULTILINESTRING((15 0,1 -18,-17 -13),(-10 -1,-5 -4,-15 4,1 -9,-5 1))'),
61958,
ST_BUFFER_STRATEGY('join_miter', 199)))
POLYGON((23104.7946 -57473.5412,23302.5690 -57415.0161,23334.5690 -57402.0161,30213.3143 -53785.2308,33786.3557 -51931.0521,33876.2746 -51859.4093,34085.0679 -51749.6302,40625.0784 -46456.8235,43268.5050 -44340.8258,43329.4069 -44267.8658,43526.2731 -44108.5351,49245.8346 -37235.8746,51087.6779 -35046.5680,51126.4365 -34975.3754,51295.3645 -34772.3737,55682.5509 -26696.6704,56943.3877 -24405.4519,56966.4614 -24334.2698,57093.7803 -24099.9294,59907.4877 -15046.4594,60610.6030 -12826.4094,60617.9079 -12761.2520,60698.6905 -12501.3384,61704.4067 -2956.1204,61948.3946 -754.4168,61943.1695 -691.7472,61971.5606 -422.3280,61098.4593 9106.2416,60905.3520 11346.6059,60887.7399 11408.0472,60863.4747 11672.9122,58168.5057 20781.3904,57521.5588 23011.6235,57491.0762 23069.2968,57417.0161 23319.5690,53185.8281 31366.6678,51927.0521 33792.3557,51878.5962 33853.3115,51764.6302 34070.0679,46269.9810 40859.4958,44336.8258 43274.5050,44270.1451 43330.1243,44123.5351 43511.2731,37799.5980 48774.2141,35042.5680 51093.6779,34952.9628 51142.5694,34787.3737 51280.3645,28200.0329 54859.0630,24401.4519 56949.3877,24283.1374 56987.3917,24114.9294 57078.7803,17616.2742 59098.3311,12822.4094 60616.6030,12681.7739 60632.2722,12516.3384 60683.6905,6440.8153 61323.7972,750.4168 61954.3946,588.5847 61940.6213,437.3280 61956.5606,-4912.1419 61466.3127,-11350.6059 60911.3520,-11526.6173 60860.5031,-11657.9122 60848.4747,-16172.8750 59512.5061,-23015.6235 57527.5588,-23020.6235 57525.5588,-23195.3341 57434.3408,-23304.5690 57402.0161,-23336.5690 57389.0161,-27368.4865 55269.2975,-33801.3557 51931.0521,-33963.4635 51801.6188,-34087.0679 51736.6302,-37958.8357 48603.0920,-43283.5050 44340.8258,-43406.4211 44194.1541,-43528.2731 44095.5351,-47068.5325 39841.7539,-51102.6779 35046.5680,-51187.9461 34890.8624,-51297.3645 34759.3737,-54139.1506 29528.6275,-56958.3877 24405.4519,-57009.5097 24245.7172,-57095.7803 24086.9294,-59002.2091 17952.1915,-60625.6030 12826.4094,-60642.3511 12676.0420,-60700.6905 12488.3384,-61426.9696 5595.0206,-61963.3946 754.4168,-61951.7038 616.7392,-61973.5606 409.3280,-61301.3686 -6926.1823,-60920.3520 -11346.6059,-60885.4803 -11467.5427,-60865.4747 -11685.9122,-58643.5708 -19195.3989,-57536.5588 -23011.6235,-57484.7769 -23110.3429,-57419.0161 -23332.5690,-53662.0432 -30477.8966,-51942.0521 -33792.3557,-51875.6352 -33875.7470,-51766.6302 -34083.0679,-46511.1421 -40576.9624,-44351.8258 -43274.5050,-44277.3780 -43336.6587,-44125.5351 -43524.2731,-37575.8718 -48975.0523,-35057.5680 -51093.6779,-34975.7053 -51138.3085,-34789.3737 -51293.3645,-27376.8451 -55320.3101,-24416.4519 -56949.3877,-24324.3458 -56979.0894,-24116.9294 -57091.7803,-16103.5812 -59582.1690,-12837.4094 -60616.6030,-12741.5741 -60627.3075,-12518.3384 -60696.6905,-4320.1086 -61560.4715,-765.4168 -61954.3946,-664.2899 -61945.8544,-439.3280 -61969.5606,7516.9038 -61240.5035,11335.6059 -60911.3520,11440.1215 -60881.2440,11655.9122 -60861.4747,19076.7104 -58665.8091,23000.6235 -57527.5588,23005.6235 -57525.5588,23104.7946 -57473.5412))
SELECT ST_ISVALID(
ST_BUFFER(
ST_GEOMFROMTEXT('MULTILINESTRING((15 0,1 -18,-17 -13),(-10 -1,-5 -4,-15 4,1 -9,-5 1))'),
61958,
ST_BUFFER_STRATEGY('join_miter', 199)));
ST_ISVALID(
ST_BUFFER(
ST_GEOMFROMTEXT('MULTILINESTRING((15 0,1 -18,-17 -13),(-10 -1,-5 -4,-15 4,1 -9,-5 1))'),
61958,
ST_BUFFER_STRATEGY('join_miter', 199)))
1
SELECT ST_ISVALID(
ST_BUFFER(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(-2 0,-17 -11,12 1,-19 -12,-1 0)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,-7 -6,11 0,18 13,-14 11,0 0),(6 9,4 -2,-1 3,6 9)))')),
41751));
ST_ISVALID(
ST_BUFFER(
ST_SYMDIFFERENCE(
ST_GEOMFROMTEXT('LINESTRING(-2 0,-17 -11,12 1,-19 -12,-1 0)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,-7 -6,11 0,18 13,-14 11,0 0),(6 9,4 -2,-1 3,6 9)))')),
41751))
1
######################################################################################################
# BUG#20518038 : WL#7929 : ST_BUFFER() IS PRODUCING NON-CLOSED POLYGONS
######################################################################################################
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(0 0,0 1)'), 1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(0 0,0 1)'), 1))
POLYGON((-1 0,-0.9807 -0.1950,-0.9238 -0.3826,-0.8314 -0.5555,-0.7071 -0.7071,-0.5555 -0.8314,-0.3826 -0.9238,-0.1950 -0.9807,6.12e-17 -1,0.1950 -0.9807,0.3826 -0.9238,0.5555 -0.8314,0.7071 -0.7071,0.8314 -0.5555,0.9238 -0.3826,0.9807 -0.1950,1 0,1 1,1 1,0.9807 1.1950,0.9238 1.3826,0.8314 1.5555,0.7071 1.7071,0.5555 1.8314,0.3826 1.9238,0.1950 1.9807,0.0000 2,-0.1950 1.9807,-0.3826 1.9238,-0.5555 1.8314,-0.7071 1.7071,-0.8314 1.5555,-0.9238 1.3826,-0.9807 1.1950,-1 1,-1 0))
######################################################################################################
# BUG#19894465 : WL#7929 : BOOST GEOMETRY BUFFER BUGS
######################################################################################################
# Scenario 1
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(0 0,0 1)'), 1)) > 0;
ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(0 0,0 1)'), 1)) > 0
1
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(0 0,0 1)'), 1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(0 0,0 1)'), 1))
POLYGON((-1 0,-0.9807 -0.1950,-0.9238 -0.3826,-0.8314 -0.5555,-0.7071 -0.7071,-0.5555 -0.8314,-0.3826 -0.9238,-0.1950 -0.9807,6.12e-17 -1,0.1950 -0.9807,0.3826 -0.9238,0.5555 -0.8314,0.7071 -0.7071,0.8314 -0.5555,0.9238 -0.3826,0.9807 -0.1950,1 0,1 1,1 1,0.9807 1.1950,0.9238 1.3826,0.8314 1.5555,0.7071 1.7071,0.5555 1.8314,0.3826 1.9238,0.1950 1.9807,0.0000 2,-0.1950 1.9807,-0.3826 1.9238,-0.5555 1.8314,-0.7071 1.7071,-0.8314 1.5555,-0.9238 1.3826,-0.9807 1.1950,-1 1,-1 0))
# Scenario 2
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(1 1,1 1)'), 1)) > 0;
ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(1 1,1 1)'), 1)) > 0
1
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON(1 1,1 1,1 1,1 1)'), 1)) > 0;
ERROR 22023: Invalid GIS data provided to function st_geometryfromtext.
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(1 1,1 1)'), 1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(1 1,1 1)'), 1))
POLYGON((2 1,1.9975 1.0697,1.9902 1.1391,1.9781 1.2079,1.9612 1.2756,1.9396 1.3420,1.9135 1.4067,1.8829 1.4694,1.8480 1.5299,1.8090 1.5877,1.7660 1.6427,1.7193 1.6946,1.6691 1.7431,1.6156 1.7880,1.5591 1.8290,1.5000 1.8660,1.4383 1.8987,1.3746 1.9271,1.3090 1.9510,1.2419 1.9702,1.1736 1.9848,1.1045 1.9945,1.0348 1.9993,0.9651 1.9993,0.8954 1.9945,0.8263 1.9848,0.7580 1.9702,0.6909 1.9510,0.6253 1.9271,0.5616 1.8987,0.5000 1.8660,0.4408 1.8290,0.3843 1.7880,0.3308 1.7431,0.2806 1.6946,0.2339 1.6427,0.1909 1.5877,0.1519 1.5299,0.1170 1.4694,0.0864 1.4067,0.0603 1.3420,0.0387 1.2756,0.0218 1.2079,0.0097 1.1391,0.0024 1.0697,0 1.0000,0.0024 0.9302,0.0097 0.8608,0.0218 0.7920,0.0387 0.7243,0.0603 0.6579,0.0864 0.5932,0.1170 0.5305,0.1519 0.4700,0.1909 0.4122,0.2339 0.3572,0.2806 0.3053,0.3308 0.2568,0.3843 0.2119,0.4408 0.1709,0.4999 0.1339,0.5616 0.1012,0.6253 0.0728,0.6909 0.0489,0.7580 0.0297,0.8263 0.0151,0.8954 0.0054,0.9651 0.0006,1.0348 0.0006,1.1045 0.0054,1.1736 0.0151,1.2419 0.0297,1.3090 0.0489,1.3746 0.0728,1.4383 0.1012,1.5 0.1339,1.5591 0.1709,1.6156 0.2119,1.6691 0.2568,1.7193 0.3053,1.7660 0.3572,1.8090 0.4122,1.8480 0.4700,1.8829 0.5305,1.9135 0.5932,1.9396 0.6579,1.9612 0.7243,1.9781 0.7920,1.9902 0.8608,1.9975 0.9302,2 1))
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON(1 1,1 1,1 1,1 1)'), 1));
ERROR 22023: Invalid GIS data provided to function st_geometryfromtext.
# Scenario 3
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0, 0 8, 8 8, 8 10, -10 10, -10 0, 0 0))'), 1)) > 0;
ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0, 0 8, 8 8, 8 10, -10 10, -10 0, 0 0))'), 1)) > 0
1
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0, 0 8, 8 8, 8 10, -10 10, -10 0, 0 0))'), 1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0, 0 8, 8 8, 8 10, -10 10, -10 0, 0 0))'), 1))
POLYGON((1 7,8 7,8.1950 7.0192,8.3826 7.0761,8.5555 7.1685,8.7071 7.2928,8.8314 7.4444,8.9238 7.6173,8.9807 7.8049,9 8,9 10,8.9807 10.1950,8.9238 10.3826,8.8314 10.5555,8.7071 10.7071,8.5555 10.8314,8.3826 10.9238,8.1950 10.9807,8 11,-10 11,-10.1950 10.9807,-10.3826 10.9238,-10.5555 10.8314,-10.7071 10.7071,-10.8314 10.5555,-10.9238 10.3826,-10.9807 10.1950,-11 10,-11 0,-10.9807 -0.1950,-10.9238 -0.3826,-10.8314 -0.5555,-10.7071 -0.7071,-10.5555 -0.8314,-10.3826 -0.9238,-10.1950 -0.9807,-10 -1,0 -1,0.1950 -0.9807,0.3826 -0.9238,0.5555 -0.8314,0.7071 -0.7071,0.8314 -0.5555,0.9238 -0.3826,0.9807 -0.1950,1 0,1 7))
# Scenario 4
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 10,0 8,0 0))'), 1)) > 0;
ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 10,0 8,0 0))'), 1)) > 0
1
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((1 1,10 10,0 8,1 1))'), 1)) > 0;
ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((1 1,10 10,0 8,1 1))'), 1)) > 0
1
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 10,0 8,0 0))'), 1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 10,0 8,0 0))'), 1))
POLYGON((-1 0,-0.9807 -0.1950,-0.9238 -0.3826,-0.8314 -0.5555,-0.7071 -0.7071,-0.5555 -0.8314,-0.3826 -0.9238,-0.1950 -0.9807,6.12e-17 -1,0.1950 -0.9807,0.3826 -0.9238,0.5555 -0.8314,0.7071 -0.7071,10.7071 9.2928,10.8315 9.4444,10.9239 9.6174,10.9808 9.8051,10.9999 10.0003,10.9807 10.1954,10.9236 10.3831,10.8311 10.5560,10.7066 10.7075,10.5549 10.8318,10.3819 10.9241,10.1942 10.9809,9.9990 10.9999,9.8038 10.9805,-0.1961 8.9805,-0.4135 8.9105,-0.6093 8.7929,-0.7733 8.6339,-0.8970 8.4419,-0.9739 8.2269,-1 8,-1 0))
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((1 1,10 10,0 8,1 1))'), 1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((1 1,10 10,0 8,1 1))'), 1))
POLYGON((0.0100 0.8585,0.0583 0.6635,0.1446 0.4820,0.2654 0.3214,0.4159 0.1882,0.5900 0.0878,0.7806 0.0243,0.9802 0.0001,1.1805 0.0164,1.3735 0.0723,1.5514 0.1657,1.7071 0.2928,10.7071 9.2928,10.8315 9.4444,10.9239 9.6174,10.9808 9.8051,10.9999 10.0003,10.9807 10.1954,10.9236 10.3831,10.8311 10.5560,10.7066 10.7075,10.5549 10.8318,10.3819 10.9241,10.1942 10.9809,9.9990 10.9999,9.8038 10.9805,-0.1961 8.9805,-0.4021 8.9155,-0.5894 8.8078,-0.7491 8.6623,-0.8739 8.4860,-0.9579 8.2869,-0.9972 8.0745,-0.9899 7.8585,0.0100 0.8585))
# Scenario 5
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((2 2,2 8,8 8,8 2,2 2))'), 1)) > 0;
ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((2 2,2 8,8 8,8 2,2 2))'), 1)) > 0
1
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((2 2,8 2,8 8,2 8,2 2))'), 1)) > 0;
ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((2 2,8 2,8 8,2 8,2 2))'), 1)) > 0
1
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((2 2,2 8,8 8,8 2,2 2))'), 1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((2 2,2 8,8 8,8 2,2 2))'), 1))
POLYGON((1 2,1.0192 1.8049,1.0761 1.6173,1.1685 1.4444,1.2928 1.2928,1.4444 1.1685,1.6173 1.0761,1.8049 1.0192,2 1,8 1,8.1950 1.0192,8.3826 1.0761,8.5555 1.1685,8.7071 1.2928,8.8314 1.4444,8.9238 1.6173,8.9807 1.8049,9 2,9 8,8.9807 8.1950,8.9238 8.3826,8.8314 8.5555,8.7071 8.7071,8.5555 8.8314,8.3826 8.9238,8.1950 8.9807,8 9,2 9,1.8049 8.9807,1.6173 8.9238,1.4444 8.8314,1.2928 8.7071,1.1685 8.5555,1.0761 8.3826,1.0192 8.1950,1 8,1 2))
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((2 2,8 2,8 8,2 8,2 2))'), 1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((2 2,8 2,8 8,2 8,2 2))'), 1))
POLYGON((1 2,1.0192 1.8049,1.0761 1.6173,1.1685 1.4444,1.2928 1.2928,1.4444 1.1685,1.6173 1.0761,1.8049 1.0192,2 1,8 1,8.1950 1.0192,8.3826 1.0761,8.5555 1.1685,8.7071 1.2928,8.8314 1.4444,8.9238 1.6173,8.9807 1.8049,9 2,9 8,8.9807 8.1950,8.9238 8.3826,8.8314 8.5555,8.7071 8.7071,8.5555 8.8314,8.3826 8.9238,8.1950 8.9807,8 9,2 9,1.8049 8.9807,1.6173 8.9238,1.4444 8.8314,1.2928 8.7071,1.1685 8.5555,1.0761 8.3826,1.0192 8.1950,1 8,1 2))
######################################################################################################
# BUG#20510010 : ST_BUFFER() : MYSQLD GOT SIGNAL 11
######################################################################################################
SELECT ST_ASTEXT(
ST_BUFFER(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                            'MULTILINESTRING((12 -12,-15 19),(2 -9,-4 -8,18 3,-9 -8),(13 11,-15 9,-16 6,-17 5)),'
                            'LINESTRING(14 -16,-3 18,-13 -7,-10 1))'), 6561));
ST_ASTEXT(
ST_BUFFER(
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION('
                            'MULTILINESTRING((12 -12,-15 19),(2 -9,-4 -8,18 3,-9 -8),(13 11,-15 9,-16 6,-17 5)),'
                            'LINESTRING(14 -16,-3 18,-13 -7,-10 1))'), 6561))
POLYGON((-1004.9856 -6493.5897,-834.9964 -6521.8378,-379.1040 -6565.2129,78.7035 -6576.6809,536.1959 -6556.1859,991.1441 -6503.8278,1441.3318 -6419.8616,1884.5657 -6304.6965,2318.6864 -6158.8935,2741.5789 -5983.1629,3151.1829 -5778.3609,3545.5029 -5545.4853,3922.6177 -5285.6705,4280.6902 -5000.1825,4617.9757 -4690.4120,4932.8312 -4357.8683,5223.7226 -4004.1714,5489.2327 -3631.0445,5728.0681 -3240.3055,5858.1884 -2989.6525,5860.7407 -2985.0376,5862.0896 -2982.1374,5939.0651 -2833.8580,6048.5735 -2581.2207,6053.8821 -2569.8079,6056.6126 -2562.6758,6121.1958 -2413.6822,6210.2653 -2161.2478,6217.5880 -2142.1168,6221.2089 -2130.2314,6273.5728 -1981.8251,6342.5984 -1731.8228,6351.0609 -1704.0480,6355.0081 -1686.8789,6395.4538 -1540.3907,6445.1185 -1294.8542,6453.6506 -1257.7357,6457.2429 -1234.9128,6486.2451 -1091.5297,6517.4482 -852.4245,6524.8572 -805.3544,6527.3491 -776.5502,6535.7379 -712.2675,6544.2152 -671.7118,6544.2143 -647.3127,6545.5042 -637.4287,6559.3609 -406.5817,6564.3338 -349.1078,6564.7973 -320.9740,6566.7699 -296.9293,6566.9778 -279.6721,6572.9424 -180.3003,6570.7956 37.3726,6571.0271 56.5883,6571.8881 108.7810,6571.6993 112.3376,6572.2853 160.9886,6569.0196 217.4537,6568.4262 277.6286,6557.9551 408.7724,6545.8445 618.1759,6544.1947 631.0327,6544.1940 677.9165,6530.7766 742.0996,6525.1864 779.2168,6487.5764 1072.4050,6397.7648 1521.4631,6276.8472 1963.1624,6273.5318 1972.6241,6268.0207 1998.9862,6249.2550 2041.9096,6125.4128 2395.3509,5944.1994 2815.9231,5734.0897 3222.8300,5730.0848 3229.4136,5727.3815 3235.5969,5720.0772 3245.8677,5496.1075 3614.0892,5231.4121 3987.7945,4941.2932 4342.1253,4627.1641 4675.3553,4290.5552 4985.8609,3933.1066 5272.1296,3556.5595 5532.7666,3162.7486 5766.5020,3046.5572 5824.9159,3030.0762 5835.8320,3005.6685 5845.4710,2753.5925 5972.1973,2331.0844 6148.8502,1897.2829 6295.6001,1804.1154 6320.0254,1757.8761 6338.2876,1697.3183 6348.5136,1454.7872 6413.2510,1005.1665 6500.2021,550.5756 6555.5774,436.2927 6561.4576,409.1425 6566.0424,374.8798 6564.6167,93.2293 6579.1072,-364.6442 6570.6768,-820.8143 6530.3273,-951.9560 6509.4280,-957.5042 6509.1973,-964.2800 6507.4639,-1273.0587 6458.2553,-1719.1738 6354.8118,-2156.9864 6220.5010,-2584.3635 6055.9770,-2999.2229 5862.0415,-3399.5435 5639.6393,-3783.3749 5389.8538,-4148.8471 5113.9022,-4494.1797 4813.1286,-4817.6901 4488.9986,-5117.8024 4143.0912,-5393.0543 3777.0916,-5642.1048 3392.7830,-5863.7407 2992.0376,-6056.8821 2576.8079,-6220.5880 2149.1168,-6354.0609 1711.0480,-6456.6506 1264.7357,-6461.5999 1233.2929,-6464.1336 1222.0410,-6489.7007 1054.7661,-6527.8572 812.3544,-6529.2986 795.6917,-6533.3252 769.3470,-6565.2982 379.6343,-6567.3338 356.1078,-6567.3596 354.4976,-6570.7699 312.9293,-6576.2853 -144.9886,-6562.9543 -375.4989,-6563.2658 -382.1517,-6562.1851 -388.7958,-6549.8445 -602.1759,-6491.5764 -1056.4050,-6401.7648 -1505.4631,-6349.6235 -1695.9304,-6344.6268 -1726.6576,-6332.9518 -1756.8299,-6280.8472 -1947.1624,-6167.9897 -2269.2522,-6167.7823 -2269.8843,-6167.6821 -2270.1318,-6129.4128 -2379.3509,-6015.0662 -2644.7329,-5994.9988 -2693.9894,-5985.6064 -2713.1064,-5948.1994 -2799.9231,-5872.9496 -2945.6558,-5853.0675 -2997.0388,-5824.6860 -3040.6245,-5793.0520 -3105.0086,-5771.6753 -3141.7869,-5738.0897 -3206.8300,-5643.1124 -3362.9790,-5562.9259 -3500.9396,-5527.0322 -3553.8232,-5500.1075 -3598.0892,-5425.3278 -3703.6652,-5305.7417 -3879.8532,-5253.0480 -3946.8957,-5235.4121 -3971.7945,-5187.1458 -4030.7440,-5145.2905 -4083.9959,-5109.7761 -4138.5364,-5075.3674 -4172.9608,-5022.7523 -4239.9036,-4951.2314 -4318.8727,-4945.2932 -4326.1253,-4929.2383 -4343.1570,-4715.3364 -4579.3366,-4384.9916 -4896.4985,-4187.3865 -5061.3343,-4146.7917 -5101.9471,-4109.7817 -5126.0687,-4033.3275 -5189.8441,-3662.0573 -5457.9443,-3272.9897 -5699.4929,-3046.6885 -5818.9779,-3005.6231 -5845.7436,-2969.4547 -5859.7567,-2868.0203 -5913.3131,-2655.5263 -6007.1833,-2595.3597 -6035.7975,-2553.9493 -6052.0554,-2449.1221 -6098.3632,-2287.6699 -6156.5964,-2169.0835 -6203.1533,-2087.9383 -6228.6371,-2018.3358 -6253.7417,-1915.5983 -6282.8784,-1900.2473 -6288.1477,-1888.2384 -6291.3530,-1732.1716 -6340.3660,-1609.9614 -6369.5592,-1577.7602 -6378.6916,-1528.6879 -6388.9735,-1469.9381 -6403.0076,-1457.7872 -6406.2510,-1450.2971 -6407.6997,-1286.7526 -6446.7669,-1013.3497 -6492.1997,-1008.1665 -6493.2021,-1004.9856 -6493.5897))
######################################################################################################
# BUG#20510359 : ST_BUFFER() RETURNS NULL INSTEAD OF AN EMPTY GEOMETRY
######################################################################################################
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0))'), -10));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0))'), -10))
GEOMETRYCOLLECTION()
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0))'), -8));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0))'), -8))
GEOMETRYCOLLECTION()
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0))'), -6));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0))'), -6))
GEOMETRYCOLLECTION()
######################################################################################################
# BUG#20517621 : ASSERTION `GEOMETRY::IS_VALID_GEOTYPE(GT)' FAILED
######################################################################################################
SELECT ST_ASTEXT(ST_BUFFER(0x000000000200000000000000000000000000000000, 1));
ERROR HY000: Geometry byte string must be little endian.
SELECT ST_ASTEXT(ST_BUFFER(0x010100000001000000010100000000000000000000, 1));
ERROR HY000: Geometry byte string must be little endian.
SELECT ST_ASTEXT(ST_BUFFER(0x010100000002000000000000000000000000000000, 1));
ERROR HY000: Geometry byte string must be little endian.
######################################################################################################
# BUG#20558289 : ST_BUFFER() RETURNS EMPTY GEOMETRY WITH [MULTI]LINESTRING GEOMETRY
######################################################################################################
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(0 0,10 10,10 0,0 10)'), 20, ST_BUFFER_STRATEGY('end_flat')));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('LINESTRING(0 0,10 10,10 0,0 10)'), 20, ST_BUFFER_STRATEGY('end_flat')))
POLYGON((-10.0000 -0.0000,-14.1421 -4.1421,-4.1421 -14.1421,-1.1114 -16.6293,2.3463 -18.4775,6.0981 -19.6157,10.0000 -20,13.9018 -19.6157,17.6536 -18.4775,21.1114 -16.6293,24.1421 -14.1421,26.6293 -11.1114,28.4775 -7.6536,29.6157 -3.9018,30 0,30 10,29.6157 13.9018,28.4775 17.6536,26.6293 21.1114,24.1421 24.1421,21.1114 26.6293,17.6536 28.4775,13.9018 29.6157,10.0000 30,6.0981 29.6157,2.3463 28.4775,-1.1114 26.6293,-4.1421 24.1421,-14.1421 14.1421,-10.0000 10.0000,-10.0000 -0.0000))
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('MULTILINESTRING((0 0,10 10),(10 0,0 10))'), 50, ST_BUFFER_STRATEGY('end_flat')));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('MULTILINESTRING((0 0,10 10),(10 0,0 10))'), 50, ST_BUFFER_STRATEGY('end_flat')))
POLYGON((4.9999 15.0000,-25.3553 45.3553,-35.3553 35.3553,-5.0000 4.9999,-35.3553 -25.3553,-25.3553 -35.3553,5.0000 -5.0000,35.3553 -35.3553,45.3553 -25.3553,15.0000 5.0000,45.3553 35.3553,35.3553 45.3553,4.9999 15.0000))
######################################################################################################
# BUG#20558350 : ST_BUFFER RETURNS INCORRECT RESULT WITH NEGATIVE DISTANCE AND POLYGON WITH HOLE
######################################################################################################
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'), -5));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'), -5))
GEOMETRYCOLLECTION()
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'), -10));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))'), -10))
GEOMETRYCOLLECTION()
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), -10));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('POLYGON((0 0,0 10,10 10,10 0,0 0))'), -10))
GEOMETRYCOLLECTION()
######################################################################################################
# BUG#20594425 : WL#7929 : HANG/INFINITE LOOP WITH ST_BUFFER() FUNCTION
######################################################################################################
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('MULTIPOINT(-9 19,9 -6,-4 4,16 -14,-3 16,14 9)'), 6051788, ST_BUFFER_STRATEGY('point_circle', 8358))) > 115058662050000;
ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('MULTIPOINT(-9 19,9 -6,-4 4,16 -14,-3 16,14 9)'), 6051788, ST_BUFFER_STRATEGY('point_circle', 8358))) > 115058662050000
1
SELECT ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('MULTIPOINT(-2 11,-15 3,6 4,-14 0,20 -7,-17 -1)'), 5666962, ST_BUFFER_STRATEGY('point_circle', 4664))) > 100891001120000;
ST_AREA(ST_BUFFER(ST_GEOMFROMTEXT('MULTIPOINT(-2 11,-15 3,6 4,-14 0,20 -7,-17 -1)'), 5666962, ST_BUFFER_STRATEGY('point_circle', 4664))) > 100891001120000
1
######################################################################################################
# BUG#20558379 : ST_BUFFER() RETURNS AN ERROR WITH VALID GEOMETRYCOLLECTION INPUT
######################################################################################################
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)), POLYGON((10 10,10 20,20 20,20 10,10 10)))'), -1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 10,10 10,10 0,0 0)), POLYGON((10 10,10 20,20 20,20 10,10 10)))'), -1))
GEOMETRYCOLLECTION(MULTIPOLYGON(((9 1,9 9,1 9,1 1,9 1))),MULTIPOLYGON(((19 11,19 19,11 19,11 11,19 11))))
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 5,5 5,5 0,0 0)), POLYGON((10 10,10 20,20 20,20 10,10 10)))'), -1));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((0 0,0 5,5 5,5 0,0 0)), POLYGON((10 10,10 20,20 20,20 10,10 10)))'), -1))
GEOMETRYCOLLECTION(MULTIPOLYGON(((4 1,4 4,1 4,1 1,4 1))),MULTIPOLYGON(((19 11,19 19,11 19,11 11,19 11))))
######################################################################################################
# BUG#20607166 : SERVER IS HANGING WITH MULTIPOINT GEOMETRY AND '1' AS POINT_PER_CIRCLE' VALUE
######################################################################################################
SELECT ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('MULTIPOINT(5 13,9 -10,12 -7,-1 -16,-18 15,-13 -10,-1 5,12 -7)'), 1, ST_BUFFER_STRATEGY('point_circle',1)));
ST_ASTEXT(ST_BUFFER(ST_GEOMFROMTEXT('MULTIPOINT(5 13,9 -10,12 -7,-1 -16,-18 15,-13 -10,-1 5,12 -7)'), 1, ST_BUFFER_STRATEGY('point_circle',1)))
MULTIPOLYGON(((6 13,4.5 13.8660,4.5 12.1339,6 13)),((10 -10,8.5 -9.1339,8.5 -10.8660,10 -10)),((0 -16,-1.5000 -15.1339,-1.4999 -16.8660,0 -16)),((-17 15,-18.5 15.8660,-18.5 14.1339,-17 15)),((-12 -10,-13.5 -9.1339,-13.5 -10.8660,-12 -10)),((0 5,-1.5000 5.8660,-1.4999 4.1339,0 5)),((11.5 -7.8660,13 -7,11.5 -6.1339,11.5 -7.8660)))
######################################################################################################
# BUG#20451555 : ASSERTION FAILED: INDEX >= 0 && UNSIGNED(INDEX) < INFO.COUNT
######################################################################################################
SELECT ST_DISJOINT(
ST_GEOMFROMTEXT('LINESTRING(-2305843009213693956 4611686018427387906, -33 -92, 78 83)'),
ST_GEOMFROMTEXT('MULTILINESTRING((20 100, 31 -97, -46 57, -20 -4),(-71,-4))'));
ERROR 22023: Invalid GIS data provided to function st_geometryfromtext.
SELECT ST_DISJOINT(
ST_GEOMFROMTEXT('LINESTRING(-2305843009213693956 4611686018427387906, -33 -92, 78 83)'),
ST_GEOMFROMTEXT('LINESTRING(20 100, 31 -97, -46 57, -20 -4)'));
ST_DISJOINT(
ST_GEOMFROMTEXT('LINESTRING(-2305843009213693956 4611686018427387906, -33 -92, 78 83)'),
ST_GEOMFROMTEXT('LINESTRING(20 100, 31 -97, -46 57, -20 -4)'))
0
